var Q2=Object.defineProperty;var Y2=(t,e,n)=>e in t?Q2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Um=(t,e,n)=>(Y2(t,typeof e!="symbol"?e+"":e,n),n);function X2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _A={exports:{}},Xf={},vA={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),Z2=Symbol.for("react.portal"),eM=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),rM=Symbol.for("react.provider"),iM=Symbol.for("react.context"),sM=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.memo"),lM=Symbol.for("react.lazy"),vT=Symbol.iterator;function uM(t){return t===null||typeof t!="object"?null:(t=vT&&t[vT]||t["@@iterator"],typeof t=="function"?t:null)}var wA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EA=Object.assign,TA={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=TA,this.updater=n||wA}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SA(){}SA.prototype=Ya.prototype;function Mv(t,e,n){this.props=t,this.context=e,this.refs=TA,this.updater=n||wA}var Lv=Mv.prototype=new SA;Lv.constructor=Mv;EA(Lv,Ya.prototype);Lv.isPureReactComponent=!0;var wT=Array.isArray,IA=Object.prototype.hasOwnProperty,Fv={current:null},CA={key:!0,ref:!0,__self:!0,__source:!0};function AA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)IA.call(e,r)&&!CA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wc,type:t,key:s,ref:o,props:i,_owner:Fv.current}}function cM(t,e){return{$$typeof:wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $v(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc}function hM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ET=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hM(""+t.key):e.toString(36)}function zh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wc:case Z2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jm(o,0):r,wT(i)?(n="",t!=null&&(n=t.replace(ET,"$&/")+"/"),zh(i,e,n,"",function(u){return u})):i!=null&&($v(i)&&(i=cM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ET,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",wT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jm(s,a);o+=zh(s,e,n,l,i)}else if(l=uM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jm(s,a++),o+=zh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,n){if(t==null)return t;var r=[],i=0;return zh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Bh={transition:null},fM={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:Fv};ce.Children={map:oh,forEach:function(t,e,n){oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!$v(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Ya;ce.Fragment=eM;ce.Profiler=nM;ce.PureComponent=Mv;ce.StrictMode=tM;ce.Suspense=oM;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=EA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)IA.call(e,l)&&!CA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wc,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:iM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rM,_context:t},t.Consumer=t};ce.createElement=AA;ce.createFactory=function(t){var e=AA.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:sM,render:t}};ce.isValidElement=$v;ce.lazy=function(t){return{$$typeof:lM,_payload:{_status:-1,_result:t},_init:dM}};ce.memo=function(t,e){return{$$typeof:aM,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ce.useContext=function(t){return Qt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ce.useId=function(){return Qt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ce.useRef=function(t){return Qt.current.useRef(t)};ce.useState=function(t){return Qt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Qt.current.useTransition()};ce.version="18.2.0";vA.exports=ce;var T=vA.exports;const en=vc(T),ly=X2({__proto__:null,default:en},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM=T,mM=Symbol.for("react.element"),gM=Symbol.for("react.fragment"),yM=Object.prototype.hasOwnProperty,_M=pM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vM={key:!0,ref:!0,__self:!0,__source:!0};function RA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yM.call(e,r)&&!vM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mM,type:t,key:s,ref:o,props:i,_owner:_M.current}}Xf.Fragment=gM;Xf.jsx=RA;Xf.jsxs=RA;_A.exports=Xf;var O=_A.exports,uy={},PA={exports:{}},wn={},bA={exports:{}},kA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var U=R.length;R.push(L);e:for(;0<U;){var q=U-1>>>1,re=R[q];if(0<i(re,L))R[q]=L,R[U]=re,U=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],U=R.pop();if(U!==L){R[0]=U;e:for(var q=0,re=R.length,lt=re>>>1;q<lt;){var Ke=2*(q+1)-1,Et=R[Ke],ut=Ke+1,Wt=R[ut];if(0>i(Et,U))ut<re&&0>i(Wt,Et)?(R[q]=Wt,R[ut]=U,q=ut):(R[q]=Et,R[Ke]=U,q=Ke);else if(ut<re&&0>i(Wt,U))R[q]=Wt,R[ut]=U,q=ut;else break e}}return L}function i(R,L){var U=R.sortIndex-L.sortIndex;return U!==0?U:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=R)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function w(R){if(_=!1,y(R),!m)if(n(l)!==null)m=!0,Te(I);else{var L=n(u);L!==null&&A(w,L.startTime-R)}}function I(R,L){m=!1,_&&(_=!1,g(b),b=-1),f=!0;var U=d;try{for(y(L),h=n(l);h!==null&&(!(h.expirationTime>L)||R&&!ne());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var re=q(h.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),y(L)}else r(l);h=n(l)}if(h!==null)var lt=!0;else{var Ke=n(u);Ke!==null&&A(w,Ke.startTime-L),lt=!1}return lt}finally{h=null,d=U,f=!1}}var E=!1,S=null,b=-1,V=5,j=-1;function ne(){return!(t.unstable_now()-j<V)}function We(){if(S!==null){var R=t.unstable_now();j=R;var L=!0;try{L=S(!0,R)}finally{L?Ce():(E=!1,S=null)}}else E=!1}var Ce;if(typeof p=="function")Ce=function(){p(We)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=We,Ce=function(){K.postMessage(null)}}else Ce=function(){v(We,0)};function Te(R){S=R,E||(E=!0,Ce())}function A(R,L){b=v(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Te(I))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var U=d;d=L;try{return R()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=d;d=R;try{return L()}finally{d=U}},t.unstable_scheduleCallback=function(R,L,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,R={id:c++,callback:L,priorityLevel:R,startTime:U,expirationTime:re,sortIndex:-1},U>q?(R.sortIndex=U,e(u,R),n(l)===null&&R===n(u)&&(_?(g(b),b=-1):_=!0,A(w,U-q))):(R.sortIndex=re,e(l,R),m||f||(m=!0,Te(I))),R},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(R){var L=d;return function(){var U=d;d=L;try{return R.apply(this,arguments)}finally{d=U}}}})(kA);bA.exports=kA;var wM=bA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA=T,gn=wM;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OA=new Set,vu={};function mo(t,e){Ea(t,e),Ea(t+"Capture",e)}function Ea(t,e){for(vu[t]=e,t=0;t<e.length;t++)OA.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,EM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TT={},ST={};function TM(t){return cy.call(ST,t)?!0:cy.call(TT,t)?!1:EM.test(t)?ST[t]=!0:(TT[t]=!0,!1)}function SM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IM(t,e,n,r){if(e===null||typeof e>"u"||SM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function Uv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vv,Uv);xt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vv,Uv);xt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vv,Uv);xt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jv(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IM(e,n,i,r)&&(n=null),r||i===null?TM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=xA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),zv=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),DA=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),Wv=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),MA=Symbol.for("react.offscreen"),IT=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=IT&&t[IT]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,zm;function Nl(t){if(zm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zm=e&&e[1]||""}return`
`+zm+t}var Bm=!1;function Wm(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nl(t):""}function CM(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=Wm(t.type,!1),t;case 11:return t=Wm(t.type.render,!1),t;case 1:return t=Wm(t.type,!0),t;default:return""}}function py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case zo:return"Portal";case hy:return"Profiler";case zv:return"StrictMode";case dy:return"Suspense";case fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DA:return(t.displayName||"Context")+".Consumer";case NA:return(t._context.displayName||"Context")+".Provider";case Bv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wv:return e=t.displayName||null,e!==null?e:py(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return py(t(e))}catch{}}return null}function AM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return py(e);case 8:return e===zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RM(t){var e=LA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=RM(t))}function FA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function my(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function CT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $A(t,e){e=e.checked,e!=null&&jv(t,"checked",e,!1)}function gy(t,e){$A(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||Id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function aa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(Dl(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function VA(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function PT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,jA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PM=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){PM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function zA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function BA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bM=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(bM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function Hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sy=null,la=null,ua=null;function bT(t){if(t=Sc(t)){if(typeof Sy!="function")throw Error(x(280));var e=t.stateNode;e&&(e=np(e),Sy(t.stateNode,t.type,e))}}function WA(t){la?ua?ua.push(t):ua=[t]:la=t}function HA(){if(la){var t=la,e=ua;if(ua=la=null,bT(t),e)for(t=0;t<e.length;t++)bT(e[t])}}function qA(t,e){return t(e)}function GA(){}var Hm=!1;function KA(t,e,n){if(Hm)return t(e,n);Hm=!0;try{return qA(t,e,n)}finally{Hm=!1,(la!==null||ua!==null)&&(GA(),HA())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=np(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Iy=!1;if(Kr)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Iy=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Iy=!1}function kM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ql=!1,Cd=null,Ad=!1,Cy=null,xM={onError:function(t){ql=!0,Cd=t}};function OM(t,e,n,r,i,s,o,a,l){ql=!1,Cd=null,kM.apply(xM,arguments)}function NM(t,e,n,r,i,s,o,a,l){if(OM.apply(this,arguments),ql){if(ql){var u=Cd;ql=!1,Cd=null}else throw Error(x(198));Ad||(Ad=!0,Cy=u)}}function go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kT(t){if(go(t)!==t)throw Error(x(188))}function DM(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return kT(i),t;if(s===r)return kT(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function YA(t){return t=DM(t),t!==null?XA(t):null}function XA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XA(t);if(e!==null)return e;t=t.sibling}return null}var JA=gn.unstable_scheduleCallback,xT=gn.unstable_cancelCallback,MM=gn.unstable_shouldYield,LM=gn.unstable_requestPaint,Ge=gn.unstable_now,FM=gn.unstable_getCurrentPriorityLevel,qv=gn.unstable_ImmediatePriority,ZA=gn.unstable_UserBlockingPriority,Rd=gn.unstable_NormalPriority,$M=gn.unstable_LowPriority,eR=gn.unstable_IdlePriority,Jf=null,fr=null;function VM(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:zM,UM=Math.log,jM=Math.LN2;function zM(t){return t>>>=0,t===0?32:31-(UM(t)/jM|0)|0}var ch=64,hh=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ml(a):(s&=o,s!==0&&(r=Ml(s)))}else o=n&~i,o!==0?r=Ml(o):s!==0&&(r=Ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function BM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=BM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ay(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tR(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function HM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Gv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function nR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rR,Kv,iR,sR,oR,Ry=!1,dh=[],Ni=null,Di=null,Mi=null,Tu=new Map,Su=new Map,wi=[],qM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OT(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Kv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GM(t,e,n,r,i){switch(e){case"focusin":return Ni=vl(Ni,t,e,n,r,i),!0;case"dragenter":return Di=vl(Di,t,e,n,r,i),!0;case"mouseover":return Mi=vl(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,vl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,vl(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function aR(t){var e=ks(t.target);if(e!==null){var n=go(e);if(n!==null){if(e=n.tag,e===13){if(e=QA(n),e!==null){t.blockedOn=e,oR(t.priority,function(){iR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ty=r,n.target.dispatchEvent(r),Ty=null}else return e=Sc(n),e!==null&&Kv(e),t.blockedOn=n,!1;e.shift()}return!0}function NT(t,e,n){Wh(t)&&n.delete(e)}function KM(){Ry=!1,Ni!==null&&Wh(Ni)&&(Ni=null),Di!==null&&Wh(Di)&&(Di=null),Mi!==null&&Wh(Mi)&&(Mi=null),Tu.forEach(NT),Su.forEach(NT)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ry||(Ry=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,KM)))}function Iu(t){function e(i){return wl(i,t)}if(0<dh.length){wl(dh[0],t);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&wl(Ni,t),Di!==null&&wl(Di,t),Mi!==null&&wl(Mi,t),Tu.forEach(e),Su.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)aR(n),n.blockedOn===null&&wi.shift()}var ca=ii.ReactCurrentBatchConfig,bd=!0;function QM(t,e,n,r){var i=ve,s=ca.transition;ca.transition=null;try{ve=1,Qv(t,e,n,r)}finally{ve=i,ca.transition=s}}function YM(t,e,n,r){var i=ve,s=ca.transition;ca.transition=null;try{ve=4,Qv(t,e,n,r)}finally{ve=i,ca.transition=s}}function Qv(t,e,n,r){if(bd){var i=Py(t,e,n,r);if(i===null)ng(t,e,r,kd,n),OT(t,r);else if(GM(i,t,e,n,r))r.stopPropagation();else if(OT(t,r),e&4&&-1<qM.indexOf(t)){for(;i!==null;){var s=Sc(i);if(s!==null&&rR(s),s=Py(t,e,n,r),s===null&&ng(t,e,r,kd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ng(t,e,r,null,n)}}var kd=null;function Py(t,e,n,r){if(kd=null,t=Hv(r),t=ks(t),t!==null)if(e=go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kd=t,null}function lR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FM()){case qv:return 1;case ZA:return 4;case Rd:case $M:return 16;case eR:return 536870912;default:return 16}default:return 16}}var Ri=null,Yv=null,Hh=null;function uR(){if(Hh)return Hh;var t,e=Yv,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hh=i.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function DT(){return!1}function En(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fh:DT,this.isPropagationStopped=DT,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xv=En(Xa),Tc=Be({},Xa,{view:0,detail:0}),XM=En(Tc),Gm,Km,El,Zf=Be({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Gm=t.screenX-El.screenX,Km=t.screenY-El.screenY):Km=Gm=0,El=t),Gm)},movementY:function(t){return"movementY"in t?t.movementY:Km}}),MT=En(Zf),JM=Be({},Zf,{dataTransfer:0}),ZM=En(JM),eL=Be({},Tc,{relatedTarget:0}),Qm=En(eL),tL=Be({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),nL=En(tL),rL=Be({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iL=En(rL),sL=Be({},Xa,{data:0}),LT=En(sL),oL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lL[t])?!!e[t]:!1}function Jv(){return uL}var cL=Be({},Tc,{key:function(t){if(t.key){var e=oL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jv,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hL=En(cL),dL=Be({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FT=En(dL),fL=Be({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jv}),pL=En(fL),mL=Be({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gL=En(mL),yL=Be({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_L=En(yL),vL=[9,13,27,32],Zv=Kr&&"CompositionEvent"in window,Gl=null;Kr&&"documentMode"in document&&(Gl=document.documentMode);var wL=Kr&&"TextEvent"in window&&!Gl,cR=Kr&&(!Zv||Gl&&8<Gl&&11>=Gl),$T=String.fromCharCode(32),VT=!1;function hR(t,e){switch(t){case"keyup":return vL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function EL(t,e){switch(t){case"compositionend":return dR(e);case"keypress":return e.which!==32?null:(VT=!0,$T);case"textInput":return t=e.data,t===$T&&VT?null:t;default:return null}}function TL(t,e){if(Wo)return t==="compositionend"||!Zv&&hR(t,e)?(t=uR(),Hh=Yv=Ri=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cR&&e.locale!=="ko"?null:e.data;default:return null}}var SL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SL[t.type]:e==="textarea"}function fR(t,e,n,r){WA(r),e=xd(e,"onChange"),0<e.length&&(n=new Xv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kl=null,Cu=null;function IL(t){IR(t,0)}function ep(t){var e=Go(t);if(FA(e))return t}function CL(t,e){if(t==="change")return e}var pR=!1;if(Kr){var Ym;if(Kr){var Xm="oninput"in document;if(!Xm){var jT=document.createElement("div");jT.setAttribute("oninput","return;"),Xm=typeof jT.oninput=="function"}Ym=Xm}else Ym=!1;pR=Ym&&(!document.documentMode||9<document.documentMode)}function zT(){Kl&&(Kl.detachEvent("onpropertychange",mR),Cu=Kl=null)}function mR(t){if(t.propertyName==="value"&&ep(Cu)){var e=[];fR(e,Cu,t,Hv(t)),KA(IL,e)}}function AL(t,e,n){t==="focusin"?(zT(),Kl=e,Cu=n,Kl.attachEvent("onpropertychange",mR)):t==="focusout"&&zT()}function RL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ep(Cu)}function PL(t,e){if(t==="click")return ep(e)}function bL(t,e){if(t==="input"||t==="change")return ep(e)}function kL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:kL;function Au(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cy.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function BT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function WT(t,e){var n=BT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BT(n)}}function gR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yR(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Id(t.document)}return e}function e0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xL(t){var e=yR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gR(n.ownerDocument.documentElement,n)){if(r!==null&&e0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=WT(n,s);var o=WT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OL=Kr&&"documentMode"in document&&11>=document.documentMode,Ho=null,by=null,Ql=null,ky=!1;function HT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ky||Ho==null||Ho!==Id(r)||(r=Ho,"selectionStart"in r&&e0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ql&&Au(Ql,r)||(Ql=r,r=xd(by,"onSelect"),0<r.length&&(e=new Xv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Jm={},_R={};Kr&&(_R=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function tp(t){if(Jm[t])return Jm[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _R)return Jm[t]=e[n];return t}var vR=tp("animationend"),wR=tp("animationiteration"),ER=tp("animationstart"),TR=tp("transitionend"),SR=new Map,qT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){SR.set(t,e),mo(e,[t])}for(var Zm=0;Zm<qT.length;Zm++){var eg=qT[Zm],NL=eg.toLowerCase(),DL=eg[0].toUpperCase()+eg.slice(1);cs(NL,"on"+DL)}cs(vR,"onAnimationEnd");cs(wR,"onAnimationIteration");cs(ER,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(TR,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mo("onBeforeInput",["compositionend","keypress","textInput","paste"]);mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function GT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NM(r,e,void 0,t),t.currentTarget=null}function IR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;GT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;GT(i,a,u),s=l}}}if(Ad)throw t=Cy,Ad=!1,Cy=null,t}function ke(t,e){var n=e[My];n===void 0&&(n=e[My]=new Set);var r=t+"__bubble";n.has(r)||(CR(e,t,2,!1),n.add(r))}function tg(t,e,n){var r=0;e&&(r|=4),CR(n,t,r,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[mh]){t[mh]=!0,OA.forEach(function(n){n!=="selectionchange"&&(ML.has(n)||tg(n,!1,t),tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,tg("selectionchange",!1,e))}}function CR(t,e,n,r){switch(lR(e)){case 1:var i=QM;break;case 4:i=YM;break;default:i=Qv}n=i.bind(null,e,n,t),i=void 0,!Iy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ng(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KA(function(){var u=s,c=Hv(n),h=[];e:{var d=SR.get(t);if(d!==void 0){var f=Xv,m=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":f=hL;break;case"focusin":m="focus",f=Qm;break;case"focusout":m="blur",f=Qm;break;case"beforeblur":case"afterblur":f=Qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=MT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ZM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=pL;break;case vR:case wR:case ER:f=nL;break;case TR:f=gL;break;case"scroll":f=XM;break;case"wheel":f=_L;break;case"copy":case"cut":case"paste":f=iL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=FT}var _=(e&4)!==0,v=!_&&t==="scroll",g=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=Eu(p,g),w!=null&&_.push(Pu(p,w,y)))),v)break;p=p.return}0<_.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Ty&&(m=n.relatedTarget||n.fromElement)&&(ks(m)||m[Qr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?ks(m):null,m!==null&&(v=go(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(_=MT,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=FT,w="onPointerLeave",g="onPointerEnter",p="pointer"),v=f==null?d:Go(f),y=m==null?d:Go(m),d=new _(w,p+"leave",f,n,c),d.target=v,d.relatedTarget=y,w=null,ks(c)===u&&(_=new _(g,p+"enter",m,n,c),_.target=y,_.relatedTarget=v,w=_),v=w,f&&m)t:{for(_=f,g=m,p=0,y=_;y;y=Oo(y))p++;for(y=0,w=g;w;w=Oo(w))y++;for(;0<p-y;)_=Oo(_),p--;for(;0<y-p;)g=Oo(g),y--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=Oo(_),g=Oo(g)}_=null}else _=null;f!==null&&KT(h,d,f,_,!1),m!==null&&v!==null&&KT(h,v,m,_,!0)}}e:{if(d=u?Go(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=CL;else if(UT(d))if(pR)I=bL;else{I=RL;var E=AL}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=PL);if(I&&(I=I(t,u))){fR(h,I,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&yy(d,"number",d.value)}switch(E=u?Go(u):window,t){case"focusin":(UT(E)||E.contentEditable==="true")&&(Ho=E,by=u,Ql=null);break;case"focusout":Ql=by=Ho=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,HT(h,n,c);break;case"selectionchange":if(OL)break;case"keydown":case"keyup":HT(h,n,c)}var S;if(Zv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wo?hR(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(cR&&n.locale!=="ko"&&(Wo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Wo&&(S=uR()):(Ri=c,Yv="value"in Ri?Ri.value:Ri.textContent,Wo=!0)),E=xd(u,b),0<E.length&&(b=new LT(b,t,null,n,c),h.push({event:b,listeners:E}),S?b.data=S:(S=dR(n),S!==null&&(b.data=S)))),(S=wL?EL(t,n):TL(t,n))&&(u=xd(u,"onBeforeInput"),0<u.length&&(c=new LT("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}IR(h,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,n),s!=null&&r.unshift(Pu(t,s,i)),s=Eu(t,e),s!=null&&r.push(Pu(t,s,i))),t=t.return}return r}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Eu(n,s),l!=null&&o.unshift(Pu(n,l,a))):i||(l=Eu(n,s),l!=null&&o.push(Pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LL=/\r\n?/g,FL=/\u0000|\uFFFD/g;function QT(t){return(typeof t=="string"?t:""+t).replace(LL,`
`).replace(FL,"")}function gh(t,e,n){if(e=QT(e),QT(t)!==e&&n)throw Error(x(425))}function Od(){}var xy=null,Oy=null;function Ny(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,$L=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,VL=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(t){return YT.resolve(null).then(t).catch(UL)}:Dy;function UL(t){setTimeout(function(){throw t})}function rg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ja,bu="__reactProps$"+Ja,Qr="__reactContainer$"+Ja,My="__reactEvents$"+Ja,jL="__reactListeners$"+Ja,zL="__reactHandles$"+Ja;function ks(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XT(t);t!==null;){if(n=t[lr])return n;t=XT(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[lr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function np(t){return t[bu]||null}var Ly=[],Ko=-1;function hs(t){return{current:t}}function Me(t){0>Ko||(t.current=Ly[Ko],Ly[Ko]=null,Ko--)}function Pe(t,e){Ko++,Ly[Ko]=t.current,t.current=e}var Ji={},zt=hs(Ji),rn=hs(!1),Gs=Ji;function Ta(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Nd(){Me(rn),Me(zt)}function JT(t,e,n){if(zt.current!==Ji)throw Error(x(168));Pe(zt,e),Pe(rn,n)}function AR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,AM(t)||"Unknown",i));return Be({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Gs=zt.current,Pe(zt,t),Pe(rn,rn.current),!0}function ZT(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=AR(t,e,Gs),r.__reactInternalMemoizedMergedChildContext=t,Me(rn),Me(zt),Pe(zt,t)):Me(rn),Pe(rn,n)}var Dr=null,rp=!1,ig=!1;function RR(t){Dr===null?Dr=[t]:Dr.push(t)}function BL(t){rp=!0,RR(t)}function ds(){if(!ig&&Dr!==null){ig=!0;var t=0,e=ve;try{var n=Dr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,rp=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),JA(qv,ds),i}finally{ve=e,ig=!1}}return null}var Qo=[],Yo=0,Md=null,Ld=0,Cn=[],An=0,Ks=null,Mr=1,Lr="";function Ts(t,e){Qo[Yo++]=Ld,Qo[Yo++]=Md,Md=t,Ld=e}function PR(t,e,n){Cn[An++]=Mr,Cn[An++]=Lr,Cn[An++]=Ks,Ks=t;var r=Mr;t=Lr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Hn(e)+i|n<<i|r,Lr=s+t}else Mr=1<<s|n<<i|r,Lr=t}function t0(t){t.return!==null&&(Ts(t,1),PR(t,1,0))}function n0(t){for(;t===Md;)Md=Qo[--Yo],Qo[Yo]=null,Ld=Qo[--Yo],Qo[Yo]=null;for(;t===Ks;)Ks=Cn[--An],Cn[An]=null,Lr=Cn[--An],Cn[An]=null,Mr=Cn[--An],Cn[An]=null}var fn=null,cn=null,Fe=!1,Vn=null;function bR(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ks!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,cn=null,!0):!1;default:return!1}}function Fy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $y(t){if(Fe){var e=cn;if(e){var n=e;if(!eS(t,e)){if(Fy(t))throw Error(x(418));e=Li(n.nextSibling);var r=fn;e&&eS(t,e)?bR(r,n):(t.flags=t.flags&-4097|2,Fe=!1,fn=t)}}else{if(Fy(t))throw Error(x(418));t.flags=t.flags&-4097|2,Fe=!1,fn=t}}}function tS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function yh(t){if(t!==fn)return!1;if(!Fe)return tS(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ny(t.type,t.memoizedProps)),e&&(e=cn)){if(Fy(t))throw kR(),Error(x(418));for(;e;)bR(t,e),e=Li(e.nextSibling)}if(tS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?Li(t.stateNode.nextSibling):null;return!0}function kR(){for(var t=cn;t;)t=Li(t.nextSibling)}function Sa(){cn=fn=null,Fe=!1}function r0(t){Vn===null?Vn=[t]:Vn.push(t)}var WL=ii.ReactCurrentBatchConfig;function Ln(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fd=hs(null),$d=null,Xo=null,i0=null;function s0(){i0=Xo=$d=null}function o0(t){var e=Fd.current;Me(Fd),t._currentValue=e}function Vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ha(t,e){$d=t,i0=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(i0!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if($d===null)throw Error(x(308));Xo=t,$d.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var xs=null;function a0(t){xs===null?xs=[t]:xs.push(t)}function xR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,a0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function l0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,a0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function Gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gv(t,n)}}function nS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var i=t.updateQueue;_i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,f=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=Be({},h,d);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ys|=o,t.lanes=o,t.memoizedState=h}}function rS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var NR=new xA.Component().refs;function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ip={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Vi(t),s=zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(qn(e,t,i,r),Gh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Vi(t),s=zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(qn(e,t,i,r),Gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Vi(t),i=zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(qn(e,t,r,n),Gh(e,t,r))}};function iS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(i,s):!0}function DR(t,e,n){var r=!1,i=Ji,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=sn(e)?Gs:zt.current,r=e.contextTypes,s=(r=r!=null)?Ta(t,i):Ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ip,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function sS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ip.enqueueReplaceState(e,e.state,null)}function jy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=NR,l0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=sn(e)?Gs:zt.current,i.context=Ta(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ip.enqueueReplaceState(i,i.state,null),Vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===NR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function _h(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oS(t){var e=t._init;return e(t._payload)}function MR(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ui(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,w){return p===null||p.tag!==6?(p=hg(y,g.mode,w),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,w){var I=y.type;return I===Bo?c(g,p,y.props.children,w,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yi&&oS(I)===p.type)?(w=i(p,y.props),w.ref=Tl(g,p,y),w.return=g,w):(w=Zh(y.type,y.key,y.props,null,g.mode,w),w.ref=Tl(g,p,y),w.return=g,w)}function u(g,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=dg(y,g.mode,w),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function c(g,p,y,w,I){return p===null||p.tag!==7?(p=js(y,g.mode,w,I),p.return=g,p):(p=i(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hg(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ah:return y=Zh(p.type,p.key,p.props,null,g.mode,y),y.ref=Tl(g,null,p),y.return=g,y;case zo:return p=dg(p,g.mode,y),p.return=g,p;case yi:var w=p._init;return h(g,w(p._payload),y)}if(Dl(p)||yl(p))return p=js(p,g.mode,y,null),p.return=g,p;_h(g,p)}return null}function d(g,p,y,w){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(g,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return y.key===I?l(g,p,y,w):null;case zo:return y.key===I?u(g,p,y,w):null;case yi:return I=y._init,d(g,p,I(y._payload),w)}if(Dl(y)||yl(y))return I!==null?null:c(g,p,y,w,null);_h(g,y)}return null}function f(g,p,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,a(p,g,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return g=g.get(w.key===null?y:w.key)||null,l(p,g,w,I);case zo:return g=g.get(w.key===null?y:w.key)||null,u(p,g,w,I);case yi:var E=w._init;return f(g,p,y,E(w._payload),I)}if(Dl(w)||yl(w))return g=g.get(y)||null,c(p,g,w,I,null);_h(p,w)}return null}function m(g,p,y,w){for(var I=null,E=null,S=p,b=p=0,V=null;S!==null&&b<y.length;b++){S.index>b?(V=S,S=null):V=S.sibling;var j=d(g,S,y[b],w);if(j===null){S===null&&(S=V);break}t&&S&&j.alternate===null&&e(g,S),p=s(j,p,b),E===null?I=j:E.sibling=j,E=j,S=V}if(b===y.length)return n(g,S),Fe&&Ts(g,b),I;if(S===null){for(;b<y.length;b++)S=h(g,y[b],w),S!==null&&(p=s(S,p,b),E===null?I=S:E.sibling=S,E=S);return Fe&&Ts(g,b),I}for(S=r(g,S);b<y.length;b++)V=f(S,g,b,y[b],w),V!==null&&(t&&V.alternate!==null&&S.delete(V.key===null?b:V.key),p=s(V,p,b),E===null?I=V:E.sibling=V,E=V);return t&&S.forEach(function(ne){return e(g,ne)}),Fe&&Ts(g,b),I}function _(g,p,y,w){var I=yl(y);if(typeof I!="function")throw Error(x(150));if(y=I.call(y),y==null)throw Error(x(151));for(var E=I=null,S=p,b=p=0,V=null,j=y.next();S!==null&&!j.done;b++,j=y.next()){S.index>b?(V=S,S=null):V=S.sibling;var ne=d(g,S,j.value,w);if(ne===null){S===null&&(S=V);break}t&&S&&ne.alternate===null&&e(g,S),p=s(ne,p,b),E===null?I=ne:E.sibling=ne,E=ne,S=V}if(j.done)return n(g,S),Fe&&Ts(g,b),I;if(S===null){for(;!j.done;b++,j=y.next())j=h(g,j.value,w),j!==null&&(p=s(j,p,b),E===null?I=j:E.sibling=j,E=j);return Fe&&Ts(g,b),I}for(S=r(g,S);!j.done;b++,j=y.next())j=f(S,g,b,j.value,w),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?b:j.key),p=s(j,p,b),E===null?I=j:E.sibling=j,E=j);return t&&S.forEach(function(We){return e(g,We)}),Fe&&Ts(g,b),I}function v(g,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Bo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:e:{for(var I=y.key,E=p;E!==null;){if(E.key===I){if(I=y.type,I===Bo){if(E.tag===7){n(g,E.sibling),p=i(E,y.props.children),p.return=g,g=p;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yi&&oS(I)===E.type){n(g,E.sibling),p=i(E,y.props),p.ref=Tl(g,E,y),p.return=g,g=p;break e}n(g,E);break}else e(g,E);E=E.sibling}y.type===Bo?(p=js(y.props.children,g.mode,w,y.key),p.return=g,g=p):(w=Zh(y.type,y.key,y.props,null,g.mode,w),w.ref=Tl(g,p,y),w.return=g,g=w)}return o(g);case zo:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=dg(y,g.mode,w),p.return=g,g=p}return o(g);case yi:return E=y._init,v(g,p,E(y._payload),w)}if(Dl(y))return m(g,p,y,w);if(yl(y))return _(g,p,y,w);_h(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=hg(y,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return v}var Ia=MR(!0),LR=MR(!1),Ic={},pr=hs(Ic),ku=hs(Ic),xu=hs(Ic);function Os(t){if(t===Ic)throw Error(x(174));return t}function u0(t,e){switch(Pe(xu,e),Pe(ku,t),Pe(pr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vy(e,t)}Me(pr),Pe(pr,e)}function Ca(){Me(pr),Me(ku),Me(xu)}function FR(t){Os(xu.current);var e=Os(pr.current),n=vy(e,t.type);e!==n&&(Pe(ku,t),Pe(pr,n))}function c0(t){ku.current===t&&(Me(pr),Me(ku))}var Ve=hs(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sg=[];function h0(){for(var t=0;t<sg.length;t++)sg[t]._workInProgressVersionPrimary=null;sg.length=0}var Kh=ii.ReactCurrentDispatcher,og=ii.ReactCurrentBatchConfig,Qs=0,je=null,nt=null,ft=null,jd=!1,Yl=!1,Ou=0,HL=0;function Ot(){throw Error(x(321))}function d0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function f0(t,e,n,r,i,s){if(Qs=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kh.current=t===null||t.memoizedState===null?QL:YL,t=n(r,i),Yl){s=0;do{if(Yl=!1,Ou=0,25<=s)throw Error(x(301));s+=1,ft=nt=null,e.updateQueue=null,Kh.current=XL,t=n(r,i)}while(Yl)}if(Kh.current=zd,e=nt!==null&&nt.next!==null,Qs=0,ft=nt=je=null,jd=!1,e)throw Error(x(300));return t}function p0(){var t=Ou!==0;return Ou=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?je.memoizedState=ft=t:ft=ft.next=t,ft}function Nn(){if(nt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ft===null?je.memoizedState:ft.next;if(e!==null)ft=e,nt=t;else{if(t===null)throw Error(x(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ft===null?je.memoizedState=ft=t:ft=ft.next=t}return ft}function Nu(t,e){return typeof e=="function"?e(t):e}function ag(t){var e=Nn(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Qs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,je.lanes|=c,Ys|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Xn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,Ys|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lg(t){var e=Nn(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $R(){}function VR(t,e){var n=je,r=Nn(),i=e(),s=!Xn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,m0(zR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Du(9,jR.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(x(349));Qs&30||UR(n,e,i)}return i}function UR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jR(t,e,n,r){e.value=n,e.getSnapshot=r,BR(e)&&WR(t)}function zR(t,e,n){return n(function(){BR(e)&&WR(t)})}function BR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function WR(t){var e=Yr(t,1);e!==null&&qn(e,t,1,-1)}function aS(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=KL.bind(null,je,t),[e.memoizedState,t]}function Du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function HR(){return Nn().memoizedState}function Qh(t,e,n,r){var i=sr();je.flags|=t,i.memoizedState=Du(1|e,n,void 0,r===void 0?null:r)}function sp(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&d0(r,o.deps)){i.memoizedState=Du(e,n,s,r);return}}je.flags|=t,i.memoizedState=Du(1|e,n,s,r)}function lS(t,e){return Qh(8390656,8,t,e)}function m0(t,e){return sp(2048,8,t,e)}function qR(t,e){return sp(4,2,t,e)}function GR(t,e){return sp(4,4,t,e)}function KR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QR(t,e,n){return n=n!=null?n.concat([t]):null,sp(4,4,KR.bind(null,e,t),n)}function g0(){}function YR(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XR(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JR(t,e,n){return Qs&21?(Xn(n,e)||(n=tR(),je.lanes|=n,Ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function qL(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=og.transition;og.transition={};try{t(!1),e()}finally{ve=n,og.transition=r}}function ZR(){return Nn().memoizedState}function GL(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eP(t))tP(e,n);else if(n=xR(t,e,n,r),n!==null){var i=Kt();qn(n,t,r,i),nP(n,e,r)}}function KL(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eP(t))tP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o)){var l=e.interleaved;l===null?(i.next=i,a0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xR(t,e,i,r),n!==null&&(i=Kt(),qn(n,t,r,i),nP(n,e,r))}}function eP(t){var e=t.alternate;return t===je||e!==null&&e===je}function tP(t,e){Yl=jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gv(t,n)}}var zd={readContext:On,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},QL={readContext:On,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:lS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4194308,4,KR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qh(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GL.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:aS,useDebugValue:g0,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=aS(!1),e=t[0];return t=qL.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=sr();if(Fe){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),yt===null)throw Error(x(349));Qs&30||UR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lS(zR.bind(null,r,s,t),[t]),r.flags|=2048,Du(9,jR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sr(),e=yt.identifierPrefix;if(Fe){var n=Lr,r=Mr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YL={readContext:On,useCallback:YR,useContext:On,useEffect:m0,useImperativeHandle:QR,useInsertionEffect:qR,useLayoutEffect:GR,useMemo:XR,useReducer:ag,useRef:HR,useState:function(){return ag(Nu)},useDebugValue:g0,useDeferredValue:function(t){var e=Nn();return JR(e,nt.memoizedState,t)},useTransition:function(){var t=ag(Nu)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:$R,useSyncExternalStore:VR,useId:ZR,unstable_isNewReconciler:!1},XL={readContext:On,useCallback:YR,useContext:On,useEffect:m0,useImperativeHandle:QR,useInsertionEffect:qR,useLayoutEffect:GR,useMemo:XR,useReducer:lg,useRef:HR,useState:function(){return lg(Nu)},useDebugValue:g0,useDeferredValue:function(t){var e=Nn();return nt===null?e.memoizedState=t:JR(e,nt.memoizedState,t)},useTransition:function(){var t=lg(Nu)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:$R,useSyncExternalStore:VR,useId:ZR,unstable_isNewReconciler:!1};function Aa(t,e){try{var n="",r=e;do n+=CM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ug(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JL=typeof WeakMap=="function"?WeakMap:Map;function rP(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,Jy=r),zy(t,e)},n}function iP(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JL;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dF.bind(null,t,e,n),e.then(t,t))}function cS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var ZL=ii.ReactCurrentOwner,tn=!1;function Ht(t,e,n,r){e.child=t===null?LR(e,null,n,r):Ia(e,t.child,n,r)}function dS(t,e,n,r,i){n=n.render;var s=e.ref;return ha(e,i),r=f0(t,e,n,r,s,i),n=p0(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):(Fe&&n&&t0(e),e.flags|=1,Ht(t,e,r,i),e.child)}function fS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!I0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,sP(t,e,s,r,i)):(t=Zh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(o,r)&&t.ref===e.ref)return Xr(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function sP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Au(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Xr(t,e,i)}return By(t,e,n,r,i)}function oP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Zo,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Zo,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Zo,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Zo,un),un|=r;return Ht(t,e,i,n),e.child}function aP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function By(t,e,n,r,i){var s=sn(n)?Gs:zt.current;return s=Ta(e,s),ha(e,i),n=f0(t,e,n,r,s,i),r=p0(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):(Fe&&r&&t0(e),e.flags|=1,Ht(t,e,n,i),e.child)}function pS(t,e,n,r,i){if(sn(n)){var s=!0;Dd(e)}else s=!1;if(ha(e,i),e.stateNode===null)Yh(t,e),DR(e,n,r),jy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=sn(n)?Gs:zt.current,u=Ta(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sS(e,o,r,u),_i=!1;var d=e.memoizedState;o.state=d,Vd(e,r,o,i),l=e.memoizedState,a!==r||d!==l||rn.current||_i?(typeof c=="function"&&(Uy(e,n,c,r),l=e.memoizedState),(a=_i||iS(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=sn(n)?Gs:zt.current,l=Ta(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&sS(e,o,r,l),_i=!1,d=e.memoizedState,o.state=d,Vd(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||rn.current||_i?(typeof f=="function"&&(Uy(e,n,f,r),m=e.memoizedState),(u=_i||iS(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Wy(t,e,n,r,s,i)}function Wy(t,e,n,r,i,s){aP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ZT(e,n,!1),Xr(t,e,s);r=e.stateNode,ZL.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ia(e,t.child,null,s),e.child=Ia(e,null,a,s)):Ht(t,e,a,s),e.memoizedState=r.state,i&&ZT(e,n,!0),e.child}function lP(t){var e=t.stateNode;e.pendingContext?JT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JT(t,e.context,!1),u0(t,e.containerInfo)}function mS(t,e,n,r,i){return Sa(),r0(i),e.flags|=256,Ht(t,e,n,r),e.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function uP(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ve,i&1),t===null)return $y(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lp(o,r,0,null),t=js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qy(n),e.memoizedState=Hy,t):y0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return eF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hy,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function y0(t,e){return e=lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,r){return r!==null&&r0(r),Ia(e,t.child,null,n),t=y0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ug(Error(x(422))),vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lp({mode:"visible",children:r.children},i,0,null),s=js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ia(e,t.child,null,o),e.child.memoizedState=qy(o),e.memoizedState=Hy,s);if(!(e.mode&1))return vh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=ug(s,r,void 0),vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),qn(r,t,i,-1))}return S0(),r=ug(Error(x(421))),vh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Li(i.nextSibling),fn=e,Fe=!0,Vn=null,t!==null&&(Cn[An++]=Mr,Cn[An++]=Lr,Cn[An++]=Ks,Mr=t.id,Lr=t.overflow,Ks=e),e=y0(e,r.children),e.flags|=4096,e)}function gS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vy(t.return,e,n)}function cg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function cP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gS(t,n,e);else if(t.tag===19)gS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cg(e,!0,n,null,s);break;case"together":cg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tF(t,e,n){switch(e.tag){case 3:lP(e),Sa();break;case 5:FR(e);break;case 1:sn(e.type)&&Dd(e);break;case 4:u0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Fd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?uP(t,e,n):(Pe(Ve,Ve.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Pe(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,oP(t,e,n)}return Xr(t,e,n)}var hP,Gy,dP,fP;hP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gy=function(){};dP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Os(pr.current);var s=null;switch(n){case"input":i=my(t,i),r=my(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=_y(t,i),r=_y(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Od)}wy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nF(t,e,n){var r=e.pendingProps;switch(n0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return sn(e.type)&&Nd(),Nt(e),null;case 3:return r=e.stateNode,Ca(),Me(rn),Me(zt),h0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(t_(Vn),Vn=null))),Gy(t,e),Nt(e),null;case 5:c0(e);var i=Os(xu.current);if(n=e.type,t!==null&&e.stateNode!=null)dP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return Nt(e),null}if(t=Os(pr.current),yh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[bu]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<Ll.length;i++)ke(Ll[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":CT(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":RT(r,s),ke("invalid",r)}wy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",""+a]):vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":lh(r),AT(r,s,!0);break;case"textarea":lh(r),PT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[bu]=r,hP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ey(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ll.length;i++)ke(Ll[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":CT(t,r),i=my(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),ke("invalid",t);break;case"textarea":RT(t,r),i=_y(t,r),ke("invalid",t);break;default:i=r}wy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&jv(t,s,l,o))}switch(n){case"input":lh(t),AT(t,r,!1);break;case"textarea":lh(t),PT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?aa(t,!!r.multiple,s,!1):r.defaultValue!=null&&aa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)fP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Os(xu.current),Os(pr.current),yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Nt(e),null;case 13:if(Me(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&cn!==null&&e.mode&1&&!(e.flags&128))kR(),Sa(),e.flags|=98560,s=!1;else if(s=yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[lr]=e}else Sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Vn!==null&&(t_(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ot===0&&(ot=3):S0())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Ca(),Gy(t,e),t===null&&Ru(e.stateNode.containerInfo),Nt(e),null;case 10:return o0(e.type._context),Nt(e),null;case 17:return sn(e.type)&&Nd(),Nt(e),null;case 19:if(Me(Ve),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sl(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,Sl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Ra&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Nt(e),null}else 2*Ge()-s.renderingStartTime>Ra&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Ve.current,Pe(Ve,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return T0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function rF(t,e){switch(n0(e),e.tag){case 1:return sn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ca(),Me(rn),Me(zt),h0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return c0(e),null;case 13:if(Me(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ve),null;case 4:return Ca(),null;case 10:return o0(e.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var wh=!1,Ft=!1,iF=typeof WeakSet=="function"?WeakSet:Set,$=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Ky(t,e,n){try{n()}catch(r){He(t,e,r)}}var yS=!1;function sF(t,e){if(xy=bd,t=yR(),e0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oy={focusedElem:t,selectionRange:n},bd=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,v=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ln(e.type,_),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){He(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return m=yS,yS=!1,m}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ky(e,n,s)}i=i.next}while(i!==r)}}function op(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pP(t){var e=t.alternate;e!==null&&(t.alternate=null,pP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[bu],delete e[My],delete e[jL],delete e[zL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mP(t){return t.tag===5||t.tag===3||t.tag===4}function _S(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Od));else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}function Xy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xy(t,e,n),t=t.sibling;t!==null;)Xy(t,e,n),t=t.sibling}var St=null,$n=!1;function fi(t,e,n){for(n=n.child;n!==null;)gP(t,e,n),n=n.sibling}function gP(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:Ft||Jo(n,e);case 6:var r=St,i=$n;St=null,fi(t,e,n),St=r,$n=i,St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&($n?(t=St,n=n.stateNode,t.nodeType===8?rg(t.parentNode,n):t.nodeType===1&&rg(t,n),Iu(t)):rg(St,n.stateNode));break;case 4:r=St,i=$n,St=n.stateNode.containerInfo,$n=!0,fi(t,e,n),St=r,$n=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ky(n,e,o),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!Ft&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,fi(t,e,n),Ft=r):fi(t,e,n);break;default:fi(t,e,n)}}function vS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iF),e.forEach(function(r){var i=pF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,$n=!1;break e;case 3:St=a.stateNode.containerInfo,$n=!0;break e;case 4:St=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(St===null)throw Error(x(160));gP(s,o,i),St=null,$n=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yP(e,t),e=e.sibling}function yP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),ir(t),r&4){try{Xl(3,t,t.return),op(3,t)}catch(_){He(t,t.return,_)}try{Xl(5,t,t.return)}catch(_){He(t,t.return,_)}}break;case 1:Mn(e,t),ir(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(Mn(e,t),ir(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(_){He(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$A(i,s),Ey(a,o);var u=Ey(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?BA(i,h):c==="dangerouslySetInnerHTML"?jA(i,h):c==="children"?wu(i,h):jv(i,c,h,u)}switch(a){case"input":gy(i,s);break;case"textarea":VA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?aa(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?aa(i,!!s.multiple,s.defaultValue,!0):aa(i,!!s.multiple,s.multiple?[]:"",!1))}i[bu]=s}catch(_){He(t,t.return,_)}}break;case 6:if(Mn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){He(t,t.return,_)}}break;case 3:if(Mn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(_){He(t,t.return,_)}break;case 4:Mn(e,t),ir(t);break;case 13:Mn(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w0=Ge())),r&4&&vS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||c,Mn(e,t),Ft=u):Mn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for($=t,c=t.child;c!==null;){for(h=$=c;$!==null;){switch(d=$,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xl(4,d,d.return);break;case 1:Jo(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){He(r,n,_)}}break;case 5:Jo(d,d.return);break;case 22:if(d.memoizedState!==null){ES(h);continue}}f!==null?(f.return=d,$=f):ES(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zA("display",o))}catch(_){He(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){He(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),ir(t),r&4&&vS(t);break;case 21:break;default:Mn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mP(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=_S(t);Xy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_S(t);Yy(t,a,o);break;default:throw Error(x(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oF(t,e,n){$=t,_P(t)}function _P(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=wh;var u=Ft;if(wh=o,(Ft=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?TS(i):l!==null?(l.return=o,$=l):TS(i);for(;s!==null;)$=s,_P(s),s=s.sibling;$=i,wh=a,Ft=u}wS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):wS(t)}}function wS(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||op(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Ft||e.flags&512&&Qy(e)}catch(d){He(e,e.return,d)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function ES(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function TS(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{op(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Qy(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Qy(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var aF=Math.ceil,Bd=ii.ReactCurrentDispatcher,_0=ii.ReactCurrentOwner,xn=ii.ReactCurrentBatchConfig,fe=0,yt=null,Je=null,Pt=0,un=0,Zo=hs(0),ot=0,Mu=null,Ys=0,ap=0,v0=0,Jl=null,Jt=null,w0=0,Ra=1/0,Or=null,Wd=!1,Jy=null,$i=null,Eh=!1,Pi=null,Hd=0,Zl=0,Zy=null,Xh=-1,Jh=0;function Kt(){return fe&6?Ge():Xh!==-1?Xh:Xh=Ge()}function Vi(t){return t.mode&1?fe&2&&Pt!==0?Pt&-Pt:WL.transition!==null?(Jh===0&&(Jh=tR()),Jh):(t=ve,t!==0||(t=window.event,t=t===void 0?16:lR(t.type)),t):1}function qn(t,e,n,r){if(50<Zl)throw Zl=0,Zy=null,Error(x(185));Ec(t,n,r),(!(fe&2)||t!==yt)&&(t===yt&&(!(fe&2)&&(ap|=n),ot===4&&Ei(t,Pt)),on(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ra=Ge()+500,rp&&ds()))}function on(t,e){var n=t.callbackNode;WM(t,e);var r=Pd(t,t===yt?Pt:0);if(r===0)n!==null&&xT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xT(n),e===1)t.tag===0?BL(SS.bind(null,t)):RR(SS.bind(null,t)),VL(function(){!(fe&6)&&ds()}),n=null;else{switch(nR(r)){case 1:n=qv;break;case 4:n=ZA;break;case 16:n=Rd;break;case 536870912:n=eR;break;default:n=Rd}n=AP(n,vP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vP(t,e){if(Xh=-1,Jh=0,fe&6)throw Error(x(327));var n=t.callbackNode;if(da()&&t.callbackNode!==n)return null;var r=Pd(t,t===yt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=fe;fe|=2;var s=EP();(yt!==t||Pt!==e)&&(Or=null,Ra=Ge()+500,Us(t,e));do try{cF();break}catch(a){wP(t,a)}while(1);s0(),Bd.current=s,fe=i,Je!==null?e=0:(yt=null,Pt=0,e=ot)}if(e!==0){if(e===2&&(i=Ay(t),i!==0&&(r=i,e=e_(t,i))),e===1)throw n=Mu,Us(t,0),Ei(t,r),on(t,Ge()),n;if(e===6)Ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!lF(i)&&(e=qd(t,r),e===2&&(s=Ay(t),s!==0&&(r=s,e=e_(t,s))),e===1))throw n=Mu,Us(t,0),Ei(t,r),on(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Ss(t,Jt,Or);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=w0+500-Ge(),10<e)){if(Pd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dy(Ss.bind(null,t,Jt,Or),e);break}Ss(t,Jt,Or);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aF(r/1960))-r,10<r){t.timeoutHandle=Dy(Ss.bind(null,t,Jt,Or),r);break}Ss(t,Jt,Or);break;case 5:Ss(t,Jt,Or);break;default:throw Error(x(329))}}}return on(t,Ge()),t.callbackNode===n?vP.bind(null,t):null}function e_(t,e){var n=Jl;return t.current.memoizedState.isDehydrated&&(Us(t,e).flags|=256),t=qd(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&t_(e)),t}function t_(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function lF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~v0,e&=~ap,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function SS(t){if(fe&6)throw Error(x(327));da();var e=Pd(t,0);if(!(e&1))return on(t,Ge()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=Ay(t);r!==0&&(e=r,n=e_(t,r))}if(n===1)throw n=Mu,Us(t,0),Ei(t,e),on(t,Ge()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ss(t,Jt,Or),on(t,Ge()),null}function E0(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ra=Ge()+500,rp&&ds())}}function Xs(t){Pi!==null&&Pi.tag===0&&!(fe&6)&&da();var e=fe;fe|=1;var n=xn.transition,r=ve;try{if(xn.transition=null,ve=1,t)return t()}finally{ve=r,xn.transition=n,fe=e,!(fe&6)&&ds()}}function T0(){un=Zo.current,Me(Zo)}function Us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$L(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(n0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:Ca(),Me(rn),Me(zt),h0();break;case 5:c0(r);break;case 4:Ca();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:o0(r.type._context);break;case 22:case 23:T0()}n=n.return}if(yt=t,Je=t=Ui(t.current,null),Pt=un=e,ot=0,Mu=null,v0=ap=Ys=0,Jt=Jl=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return t}function wP(t,e){do{var n=Je;try{if(s0(),Kh.current=zd,jd){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}if(Qs=0,ft=nt=je=null,Yl=!1,Ou=0,_0.current=null,n===null||n.return===null){ot=1,Mu=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=cS(o);if(f!==null){f.flags&=-257,hS(f,o,a,s,e),f.mode&1&&uS(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){uS(s,u,e),S0();break e}l=Error(x(426))}}else if(Fe&&a.mode&1){var v=cS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hS(v,o,a,s,e),r0(Aa(l,a));break e}}s=l=Aa(l,a),ot!==4&&(ot=2),Jl===null?Jl=[s]:Jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=rP(s,l,e);nS(s,g);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($i===null||!$i.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=iP(s,a,e);nS(s,w);break e}}s=s.return}while(s!==null)}SP(n)}catch(I){e=I,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function EP(){var t=Bd.current;return Bd.current=zd,t===null?zd:t}function S0(){(ot===0||ot===3||ot===2)&&(ot=4),yt===null||!(Ys&268435455)&&!(ap&268435455)||Ei(yt,Pt)}function qd(t,e){var n=fe;fe|=2;var r=EP();(yt!==t||Pt!==e)&&(Or=null,Us(t,e));do try{uF();break}catch(i){wP(t,i)}while(1);if(s0(),fe=n,Bd.current=r,Je!==null)throw Error(x(261));return yt=null,Pt=0,ot}function uF(){for(;Je!==null;)TP(Je)}function cF(){for(;Je!==null&&!MM();)TP(Je)}function TP(t){var e=CP(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?SP(t):Je=e,_0.current=null}function SP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rF(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Je=null;return}}else if(n=nF(n,e,un),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);ot===0&&(ot=5)}function Ss(t,e,n){var r=ve,i=xn.transition;try{xn.transition=null,ve=1,hF(t,e,n,r)}finally{xn.transition=i,ve=r}return null}function hF(t,e,n,r){do da();while(Pi!==null);if(fe&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HM(t,s),t===yt&&(Je=yt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eh||(Eh=!0,AP(Rd,function(){return da(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var o=ve;ve=1;var a=fe;fe|=4,_0.current=null,sF(t,n),yP(n,t),xL(Oy),bd=!!xy,Oy=xy=null,t.current=n,oF(n),LM(),fe=a,ve=o,xn.transition=s}else t.current=n;if(Eh&&(Eh=!1,Pi=t,Hd=i),s=t.pendingLanes,s===0&&($i=null),VM(n.stateNode),on(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,t=Jy,Jy=null,t;return Hd&1&&t.tag!==0&&da(),s=t.pendingLanes,s&1?t===Zy?Zl++:(Zl=0,Zy=t):Zl=0,ds(),null}function da(){if(Pi!==null){var t=nR(Hd),e=xn.transition,n=ve;try{if(xn.transition=null,ve=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Hd=0,fe&6)throw Error(x(331));var i=fe;for(fe|=4,$=t.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var c=$;switch(c.tag){case 0:case 11:case 15:Xl(8,c,s)}var h=c.child;if(h!==null)h.return=c,$=h;else for(;$!==null;){c=$;var d=c.sibling,f=c.return;if(pP(c),c===u){$=null;break}if(d!==null){d.return=f,$=d;break}$=f}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,$=g;break e}$=s.return}}var p=t.current;for($=p;$!==null;){o=$;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,$=y;else e:for(o=p;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:op(9,a)}}catch(I){He(a,a.return,I)}if(a===o){$=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,$=w;break e}$=a.return}}if(fe=i,ds(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{ve=n,xn.transition=e}}return!1}function IS(t,e,n){e=Aa(n,e),e=rP(t,e,1),t=Fi(t,e,1),e=Kt(),t!==null&&(Ec(t,1,e),on(t,e))}function He(t,e,n){if(t.tag===3)IS(t,t,n);else for(;e!==null;){if(e.tag===3){IS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($i===null||!$i.has(r))){t=Aa(n,t),t=iP(e,t,1),e=Fi(e,t,1),t=Kt(),e!==null&&(Ec(e,1,t),on(e,t));break}}e=e.return}}function dF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Pt&n)===n&&(ot===4||ot===3&&(Pt&130023424)===Pt&&500>Ge()-w0?Us(t,0):v0|=n),on(t,e)}function IP(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var n=Kt();t=Yr(t,e),t!==null&&(Ec(t,e,n),on(t,n))}function fF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IP(t,n)}function pF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),IP(t,n)}var CP;CP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,tF(t,e,n);tn=!!(t.flags&131072)}else tn=!1,Fe&&e.flags&1048576&&PR(e,Ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yh(t,e),t=e.pendingProps;var i=Ta(e,zt.current);ha(e,n),i=f0(null,e,r,t,i,n);var s=p0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l0(e),i.updater=ip,e.stateNode=i,i._reactInternals=e,jy(e,r,t,n),e=Wy(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&t0(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gF(r),t=Ln(r,t),i){case 0:e=By(null,e,r,t,n);break e;case 1:e=pS(null,e,r,t,n);break e;case 11:e=dS(null,e,r,t,n);break e;case 14:e=fS(null,e,r,Ln(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),By(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),pS(t,e,r,i,n);case 3:e:{if(lP(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OR(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Aa(Error(x(423)),e),e=mS(t,e,r,n,i);break e}else if(r!==i){i=Aa(Error(x(424)),e),e=mS(t,e,r,n,i);break e}else for(cn=Li(e.stateNode.containerInfo.firstChild),fn=e,Fe=!0,Vn=null,n=LR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sa(),r===i){e=Xr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return FR(e),t===null&&$y(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ny(r,i)?o=null:s!==null&&Ny(r,s)&&(e.flags|=32),aP(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&$y(e),null;case 13:return uP(t,e,n);case 4:return u0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),dS(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(Fd,r._currentValue),r._currentValue=o,s!==null)if(Xn(s.value,o)){if(s.children===i.children&&!rn.current){e=Xr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ha(e,n),i=On(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),fS(t,e,r,i,n);case 15:return sP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Yh(t,e),e.tag=1,sn(r)?(t=!0,Dd(e)):t=!1,ha(e,n),DR(e,r,i),jy(e,r,i,n),Wy(null,e,r,!0,t,n);case 19:return cP(t,e,n);case 22:return oP(t,e,n)}throw Error(x(156,e.tag))};function AP(t,e){return JA(t,e)}function mF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new mF(t,e,n,r)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gF(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bv)return 11;if(t===Wv)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")I0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bo:return js(n.children,i,s,e);case zv:o=8,i|=8;break;case hy:return t=kn(12,n,e,i|2),t.elementType=hy,t.lanes=s,t;case dy:return t=kn(13,n,e,i),t.elementType=dy,t.lanes=s,t;case fy:return t=kn(19,n,e,i),t.elementType=fy,t.lanes=s,t;case MA:return lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NA:o=10;break e;case DA:o=9;break e;case Bv:o=11;break e;case Wv:o=14;break e;case yi:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function js(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function lp(t,e,n,r){return t=kn(22,t,r,e),t.elementType=MA,t.lanes=n,t.stateNode={isHidden:!1},t}function hg(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function dg(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C0(t,e,n,r,i,s,o,a,l){return t=new yF(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l0(s),t}function _F(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RP(t){if(!t)return Ji;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(sn(n))return AR(t,n,e)}return e}function PP(t,e,n,r,i,s,o,a,l){return t=C0(n,r,!0,t,i,s,o,a,l),t.context=RP(null),n=t.current,r=Kt(),i=Vi(n),s=zr(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,Ec(t,i,r),on(t,r),t}function up(t,e,n,r){var i=e.current,s=Kt(),o=Vi(i);return n=RP(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,o),t!==null&&(qn(t,i,o,s),Gh(t,i,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A0(t,e){CS(t,e),(t=t.alternate)&&CS(t,e)}function vF(){return null}var bP=typeof reportError=="function"?reportError:function(t){console.error(t)};function R0(t){this._internalRoot=t}cp.prototype.render=R0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));up(t,e,null,null)};cp.prototype.unmount=R0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xs(function(){up(null,t,null,null)}),e[Qr]=null}};function cp(t){this._internalRoot=t}cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=sR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&aR(t)}};function P0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AS(){}function wF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Gd(o);s.call(u)}}var o=PP(e,r,t,0,null,!1,!1,"",AS);return t._reactRootContainer=o,t[Qr]=o.current,Ru(t.nodeType===8?t.parentNode:t),Xs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Gd(l);a.call(u)}}var l=C0(t,0,!1,null,null,!1,!1,"",AS);return t._reactRootContainer=l,t[Qr]=l.current,Ru(t.nodeType===8?t.parentNode:t),Xs(function(){up(e,l,n,r)}),l}function dp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gd(o);a.call(l)}}up(e,o,t,i)}else o=wF(n,e,t,i,r);return Gd(o)}rR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(Gv(e,n|1),on(e,Ge()),!(fe&6)&&(Ra=Ge()+500,ds()))}break;case 13:Xs(function(){var r=Yr(t,1);if(r!==null){var i=Kt();qn(r,t,1,i)}}),A0(t,1)}};Kv=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Kt();qn(e,t,134217728,n)}A0(t,134217728)}};iR=function(t){if(t.tag===13){var e=Vi(t),n=Yr(t,e);if(n!==null){var r=Kt();qn(n,t,e,r)}A0(t,e)}};sR=function(){return ve};oR=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Sy=function(t,e,n){switch(e){case"input":if(gy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=np(r);if(!i)throw Error(x(90));FA(r),gy(r,i)}}}break;case"textarea":VA(t,n);break;case"select":e=n.value,e!=null&&aa(t,!!n.multiple,e,!1)}};qA=E0;GA=Xs;var EF={usingClientEntryPoint:!1,Events:[Sc,Go,np,WA,HA,E0]},Il={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TF={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YA(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||vF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Jf=Th.inject(TF),fr=Th}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P0(e))throw Error(x(200));return _F(t,e,null,n)};wn.createRoot=function(t,e){if(!P0(t))throw Error(x(299));var n=!1,r="",i=bP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C0(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Ru(t.nodeType===8?t.parentNode:t),new R0(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=YA(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return Xs(t)};wn.hydrate=function(t,e,n){if(!hp(e))throw Error(x(200));return dp(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!P0(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=bP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PP(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cp(e)};wn.render=function(t,e,n){if(!hp(e))throw Error(x(200));return dp(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!hp(t))throw Error(x(40));return t._reactRootContainer?(Xs(function(){dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};wn.unstable_batchedUpdates=E0;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hp(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return dp(t,e,n,!1,r)};wn.version="18.2.0-next-9e3b772b8-20220608";function kP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kP)}catch(t){console.error(t)}}kP(),PA.exports=wn;var xP=PA.exports,RS=xP;uy.createRoot=RS.createRoot,uy.hydrateRoot=RS.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const PS="popstate";function SF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return n_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kd(i)}return CF(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IF(){return Math.random().toString(36).substr(2,8)}function bS(t,e){return{usr:t.state,key:t.key,idx:e}}function n_(t,e,n,r){return n===void 0&&(n=null),Lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Za(e):e,{state:n,key:e&&e.key||r||IF()})}function Kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Lu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=bi.Pop;let v=c(),g=v==null?null:v-u;u=v,l&&l({action:a,location:_.location,delta:g})}function d(v,g){a=bi.Push;let p=n_(_.location,v,g);n&&n(p,v),u=c()+1;let y=bS(p,u),w=_.createHref(p);try{o.pushState(y,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:_.location,delta:1})}function f(v,g){a=bi.Replace;let p=n_(_.location,v,g);n&&n(p,v),u=c();let y=bS(p,u),w=_.createHref(p);o.replaceState(y,"",w),s&&l&&l({action:a,location:_.location,delta:0})}function m(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof v=="string"?v:Kd(v);return p=p.replace(/ $/,"%20"),ze(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let _={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(PS,h),l=v,()=>{i.removeEventListener(PS,h),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:f,go(v){return o.go(v)}};return _}var kS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(kS||(kS={}));function AF(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Za(e):e,i=Pa(r.pathname||"/",n);if(i==null)return null;let s=NP(t);RF(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=$F(i);o=LF(s[a],l)}return o}function NP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ji([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DF(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of DP(s.path))i(s,o,l)}),e}function DP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=DP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PF=/^:[\w-]+$/,bF=3,kF=2,xF=1,OF=10,NF=-2,xS=t=>t==="*";function DF(t,e){let n=t.split("/"),r=n.length;return n.some(xS)&&(r+=NF),e&&(r+=kF),n.filter(i=>!xS(i)).reduce((i,s)=>i+(PF.test(s)?bF:s===""?xF:OF),r)}function MF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LF(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=r_({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ji([i,c.pathname]),pathnameBase:zF(ji([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ji([i,c.pathnameBase]))}return s}function r_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=a[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function FF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $F(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Za(t):t;return{pathname:n?n.startsWith("/")?n:UF(n,e):e,search:BF(r),hash:WF(i)}}function UF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b0(t,e){let n=jF(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Za(t):(i=Lu({},t),ze(!i.pathname||!i.pathname.includes("?"),fg("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),fg("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),fg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=VF(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),zF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MP=["post","put","patch","delete"];new Set(MP);const qF=["get",...MP];new Set(qF);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}const fp=T.createContext(null),LP=T.createContext(null),si=T.createContext(null),pp=T.createContext(null),oi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),FP=T.createContext(null);function GF(t,e){let{relative:n}=e===void 0?{}:e;el()||ze(!1);let{basename:r,navigator:i}=T.useContext(si),{hash:s,pathname:o,search:a}=mp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ji([r,o])),i.createHref({pathname:l,search:a,hash:s})}function el(){return T.useContext(pp)!=null}function yo(){return el()||ze(!1),T.useContext(pp).location}function $P(t){T.useContext(si).static||T.useLayoutEffect(t)}function Cc(){let{isDataRoute:t}=T.useContext(oi);return t?l$():KF()}function KF(){el()||ze(!1);let t=T.useContext(fp),{basename:e,future:n,navigator:r}=T.useContext(si),{matches:i}=T.useContext(oi),{pathname:s}=yo(),o=JSON.stringify(b0(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return $P(()=>{a.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=k0(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ji([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}const QF=T.createContext(null);function YF(t){let e=T.useContext(oi).outlet;return e&&T.createElement(QF.Provider,{value:t},e)}function mp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(si),{matches:i}=T.useContext(oi),{pathname:s}=yo(),o=JSON.stringify(b0(i,r.v7_relativeSplatPath));return T.useMemo(()=>k0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function XF(t,e){return JF(t,e)}function JF(t,e,n,r){el()||ze(!1);let{navigator:i}=T.useContext(si),{matches:s}=T.useContext(oi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=yo(),c;if(e){var h;let v=typeof e=="string"?Za(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||ze(!1),c=v}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=AF(t,{pathname:f}),_=r$(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:ji([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ji([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&_?T.createElement(pp.Provider,{value:{location:Fu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:bi.Pop}},_):_}function ZF(){let t=a$(),e=HF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}const e$=T.createElement(ZF,null);class t$ extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(oi.Provider,{value:this.props.routeContext},T.createElement(FP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n$(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(oi.Provider,{value:e},r)}function r$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||ze(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,m=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,m=!1,_=null,v=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||e$,l&&(u<0&&d===0?(u$("route-fallback",!1),m=!0,v=null):u===d&&(m=!0,v=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),p=()=>{let y;return f?y=_:m?y=v:h.route.Component?y=T.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,T.createElement(n$,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?T.createElement(t$,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var VP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VP||{}),Qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qd||{});function i$(t){let e=T.useContext(fp);return e||ze(!1),e}function s$(t){let e=T.useContext(LP);return e||ze(!1),e}function o$(t){let e=T.useContext(oi);return e||ze(!1),e}function UP(t){let e=o$(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function a$(){var t;let e=T.useContext(FP),n=s$(Qd.UseRouteError),r=UP(Qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function l$(){let{router:t}=i$(VP.UseNavigateStable),e=UP(Qd.UseNavigateStable),n=T.useRef(!1);return $P(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fu({fromRouteId:e},s)))},[t,e])}const OS={};function u$(t,e,n){!e&&!OS[t]&&(OS[t]=!0)}function c$(t){let{to:e,replace:n,state:r,relative:i}=t;el()||ze(!1);let{future:s,static:o}=T.useContext(si),{matches:a}=T.useContext(oi),{pathname:l}=yo(),u=Cc(),c=k0(e,b0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return T.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function h$(t){return YF(t.context)}function $o(t){ze(!1)}function d$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:a}=t;el()&&ze(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:s,static:o,future:Fu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Za(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:m="default"}=r,_=T.useMemo(()=>{let v=Pa(c,l);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:m},navigationType:i}},[l,c,h,d,f,m,i]);return _==null?null:T.createElement(si.Provider,{value:u},T.createElement(pp.Provider,{children:n,value:_}))}function f$(t){let{children:e,location:n}=t;return XF(i_(e),n)}new Promise(()=>{});function i_(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,i_(r.props.children,s));return}r.type!==$o&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=i_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function jP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function p$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m$(t,e){return t.button===0&&(!e||e==="_self")&&!p$(t)}const g$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],y$=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],_$="6";try{window.__reactRouterVersion=_$}catch{}const v$=T.createContext({isTransitioning:!1}),w$="startTransition",NS=ly[w$];function E$(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=SF({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=T.useCallback(h=>{u&&NS?NS(()=>l(h)):l(h)},[l,u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(d$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const T$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zP=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=jP(e,g$),{basename:f}=T.useContext(si),m,_=!1;if(typeof u=="string"&&S$.test(u)&&(m=u,T$))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),I=Pa(w.pathname,f);w.origin===y.origin&&I!=null?u=I+w.search+w.hash:_=!0}catch{}let v=GF(u,{relative:i}),g=A$(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function p(y){r&&r(y),y.defaultPrevented||g(y)}return T.createElement("a",Yd({},d,{href:m||v,onClick:_||s?r:p,ref:n,target:l}))}),I$=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=jP(e,y$),d=mp(l,{relative:h.relative}),f=yo(),m=T.useContext(LP),{navigator:_,basename:v}=T.useContext(si),g=m!=null&&R$(d)&&u===!0,p=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,y=f.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(y=y.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&v&&(w=Pa(w,v)||w);const I=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=y===p||!o&&y.startsWith(p)&&y.charAt(I)==="/",S=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),b={isActive:E,isPending:S,isTransitioning:g},V=E?r:void 0,j;typeof s=="function"?j=s(b):j=[s,E?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let ne=typeof a=="function"?a(b):a;return T.createElement(zP,Yd({},h,{"aria-current":V,className:j,ref:n,style:ne,to:l,unstable_viewTransition:u}),typeof c=="function"?c(b):c)});var s_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(s_||(s_={}));var DS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DS||(DS={}));function C$(t){let e=T.useContext(fp);return e||ze(!1),e}function A$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Cc(),u=yo(),c=mp(t,{relative:o});return T.useCallback(h=>{if(m$(h,n)){h.preventDefault();let d=r!==void 0?r:Kd(u)===Kd(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function R$(t,e){e===void 0&&(e={});let n=T.useContext(v$);n==null&&ze(!1);let{basename:r}=C$(s_.useViewTransitionState),i=mp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Pa(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Pa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return r_(i.pathname,o)!=null||r_(i.pathname,s)!=null}var BP={exports:{}},WP={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=T;function P$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var b$=typeof Object.is=="function"?Object.is:P$,k$=Ac.useSyncExternalStore,x$=Ac.useRef,O$=Ac.useEffect,N$=Ac.useMemo,D$=Ac.useDebugValue;WP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=x$(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=N$(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var m=o.value;if(i(m,f))return h=m}return h=f}if(m=h,b$(c,f))return m;var _=r(f);return i!==void 0&&i(m,_)?m:(c=f,h=_)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=k$(t,s[0],s[1]);return O$(function(){o.hasValue=!0,o.value=a},[a]),D$(a),a};BP.exports=WP;var M$=BP.exports,hn="default"in ly?en:ly,MS=Symbol.for("react-redux-context"),LS=typeof globalThis<"u"?globalThis:{};function L$(){if(!hn.createContext)return{};const t=LS[MS]??(LS[MS]=new Map);let e=t.get(hn.createContext);return e||(e=hn.createContext(null),t.set(hn.createContext,e)),e}var Zi=L$(),F$=()=>{throw new Error("uSES not initialized!")};function x0(t=Zi){return function(){return hn.useContext(t)}}var HP=x0(),qP=F$,$$=t=>{qP=t},V$=(t,e)=>t===e;function U$(t=Zi){const e=t===Zi?HP:x0(t),n=(r,i={})=>{const{equalityFn:s=V$,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();hn.useRef(!0);const d=hn.useCallback({[r.name](m){return r(m)}}[r.name],[r,c,o.stabilityCheck]),f=qP(l.addNestedSub,a.getState,u||a.getState,d,s);return hn.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var GP=U$();function j$(t){t()}function z$(){let t=null,e=null;return{clear(){t=null,e=null},notify(){j$(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var FS={notify(){},get:()=>[]};function B$(t,e){let n,r=FS,i=0,s=!1;function o(_){c();const v=r.subscribe(_);let g=!1;return()=>{g||(g=!0,v(),h())}}function a(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=z$())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=FS)}function d(){s||(s=!0,c())}function f(){s&&(s=!1,h())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>r};return m}var W$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H$=W$?hn.useLayoutEffect:hn.useEffect;function q$({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=hn.useMemo(()=>{const u=B$(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=hn.useMemo(()=>t.getState(),[t]);H$(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Zi;return hn.createElement(l.Provider,{value:o},n)}var G$=q$;function KP(t=Zi){const e=t===Zi?HP:x0(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var K$=KP();function Q$(t=Zi){const e=t===Zi?K$:KP(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var O0=Q$();$$(M$.useSyncExternalStoreWithSelector);function ed(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(n){return typeof n}:ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(t)}function Y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X$(t,e,n){return e&&$S(t.prototype,e),n&&$S(t,n),t}function J$(t,e){return e&&(ed(e)==="object"||typeof e=="function")?e:td(t)}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},o_(t)}function td(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},a_(t,e)}function nd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QP=function(t){Z$(e,t);function e(){var n,r;Y$(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=J$(this,(n=o_(e)).call.apply(n,[this].concat(s))),nd(td(r),"state",{bootstrapped:!1}),nd(td(r),"_unsubscribe",void 0),nd(td(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return X$(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(T.PureComponent);nd(QP,"defaultProps",{children:null,loading:null});function Tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var eV=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),VS=eV,pg=()=>Math.random().toString(36).substring(7).split("").join("."),tV={INIT:`@@redux/INIT${pg()}`,REPLACE:`@@redux/REPLACE${pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pg()}`},Xd=tV;function N0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function D0(t,e,n){if(typeof t!="function")throw new Error(Tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(D0)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,g)=>{o.set(g,v)}))}function c(){if(l)throw new Error(Tt(3));return i}function h(v){if(typeof v!="function")throw new Error(Tt(4));if(l)throw new Error(Tt(5));let g=!0;u();const p=a++;return o.set(p,v),function(){if(g){if(l)throw new Error(Tt(6));g=!1,u(),o.delete(p),s=null}}}function d(v){if(!N0(v))throw new Error(Tt(7));if(typeof v.type>"u")throw new Error(Tt(8));if(typeof v.type!="string")throw new Error(Tt(17));if(l)throw new Error(Tt(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(p=>{p()}),v}function f(v){if(typeof v!="function")throw new Error(Tt(10));r=v,d({type:Xd.REPLACE})}function m(){const v=h;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Tt(11));function p(){const w=g;w.next&&w.next(c())}return p(),{unsubscribe:v(p)}},[VS](){return this}}}return d({type:Xd.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:f,[VS]:m}}function nV(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xd.INIT})>"u")throw new Error(Tt(12));if(typeof n(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function rV(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{nV(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],f=o[h],m=d(f,a);if(typeof m>"u")throw a&&a.type,new Error(Tt(14));u[h]=m,l=l||m!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Jd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function iV(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Tt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Jd(...a)(i.dispatch),{...i,dispatch:s}}}function sV(t){return N0(t)&&"type"in t&&typeof t.type=="string"}var YP=Symbol.for("immer-nothing"),US=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Un(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ba=Object.getPrototypeOf;function es(t){return!!t&&!!t[yn]}function Jr(t){var e;return t?XP(t)||Array.isArray(t)||!!t[US]||!!((e=t.constructor)!=null&&e[US])||yp(t)||_p(t):!1}var oV=Object.prototype.constructor.toString();function XP(t){if(!t||typeof t!="object")return!1;const e=ba(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===oV}function Zd(t,e){gp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function gp(t){const e=t[yn];return e?e.type_:Array.isArray(t)?1:yp(t)?2:_p(t)?3:0}function l_(t,e){return gp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JP(t,e,n){const r=gp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function aV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yp(t){return t instanceof Map}function _p(t){return t instanceof Set}function Is(t){return t.copy_||t.base_}function u_(t,e){if(yp(t))return new Map(t);if(_p(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&XP(t))return ba(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[yn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(ba(t),n)}function M0(t,e=!1){return vp(t)||es(t)||!Jr(t)||(gp(t)>1&&(t.set=t.add=t.clear=t.delete=lV),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>M0(r,!0))),t}function lV(){Un(2)}function vp(t){return Object.isFrozen(t)}var uV={};function Js(t){const e=uV[t];return e||Un(0,t),e}var $u;function ZP(){return $u}function cV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jS(t,e){e&&(Js("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function c_(t){h_(t),t.drafts_.forEach(hV),t.drafts_=null}function h_(t){t===$u&&($u=t.parent_)}function zS(t){return $u=cV($u,t)}function hV(t){const e=t[yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yn].modified_&&(c_(e),Un(4)),Jr(t)&&(t=ef(e,t),e.parent_||tf(e,t)),e.patches_&&Js("Patches").generateReplacementPatches_(n[yn].base_,t,e.patches_,e.inversePatches_)):t=ef(e,n,[]),c_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==YP?t:void 0}function ef(t,e,n){if(vp(e))return e;const r=e[yn];if(!r)return Zd(e,(i,s)=>WS(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return tf(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Zd(s,(a,l)=>WS(t,r,i,a,l,n,o)),tf(t,i,!1),n&&t.patches_&&Js("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function WS(t,e,n,r,i,s,o){if(es(i)){const a=s&&e&&e.type_!==3&&!l_(e.assigned_,r)?s.concat(r):void 0,l=ef(t,i,a);if(JP(n,r,l),es(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jr(i)&&!vp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ef(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&tf(t,i)}}function tf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&M0(e,n)}function dV(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:ZP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=L0;n&&(i=[r],s=Vu);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var L0={get(t,e){if(e===yn)return t;const n=Is(t);if(!l_(n,e))return fV(t,n,e);const r=n[e];return t.finalized_||!Jr(r)?r:r===mg(t.base_,e)?(gg(t),t.copy_[e]=f_(r,t)):r},has(t,e){return e in Is(t)},ownKeys(t){return Reflect.ownKeys(Is(t))},set(t,e,n){const r=eb(Is(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=mg(Is(t),e),s=i==null?void 0:i[yn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(aV(n,i)&&(n!==void 0||l_(t.base_,e)))return!0;gg(t),d_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gg(t),d_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Is(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Un(11)},getPrototypeOf(t){return ba(t.base_)},setPrototypeOf(){Un(12)}},Vu={};Zd(L0,(t,e)=>{Vu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vu.deleteProperty=function(t,e){return Vu.set.call(this,t,e,void 0)};Vu.set=function(t,e,n){return L0.set.call(this,t[0],e,n,t[0])};function mg(t,e){const n=t[yn];return(n?Is(n):t)[e]}function fV(t,e,n){var i;const r=eb(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function eb(t,e){if(!(e in t))return;let n=ba(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ba(n)}}function d_(t){t.modified_||(t.modified_=!0,t.parent_&&d_(t.parent_))}function gg(t){t.copy_||(t.copy_=u_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var pV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Un(6),r!==void 0&&typeof r!="function"&&Un(7);let i;if(Jr(e)){const s=zS(this),o=f_(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?c_(s):h_(s)}return jS(s,r),BS(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===YP&&(i=void 0),this.autoFreeze_&&M0(i,!0),r){const s=[],o=[];Js("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Un(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Jr(t)||Un(8),es(t)&&(t=tb(t));const e=zS(this),n=f_(t,void 0);return n[yn].isManual_=!0,h_(e),n}finishDraft(t,e){const n=t&&t[yn];(!n||!n.isManual_)&&Un(9);const{scope_:r}=n;return jS(r,e),BS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Js("Patches").applyPatches_;return es(t)?r(t,e):this.produce(t,i=>r(i,e))}};function f_(t,e){const n=yp(t)?Js("MapSet").proxyMap_(t,e):_p(t)?Js("MapSet").proxySet_(t,e):dV(t,e);return(e?e.scope_:ZP()).drafts_.push(n),n}function tb(t){return es(t)||Un(10,t),nb(t)}function nb(t){if(!Jr(t)||vp(t))return t;const e=t[yn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=u_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=u_(t,!0);return Zd(n,(r,i)=>{JP(n,r,nb(i))}),e&&(e.finalized_=!1),n}var _n=new pV,rb=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function mV(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gV(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function yV(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var HS=t=>Array.isArray(t)?t:[t];function _V(t){const e=Array.isArray(t[0])?t[0]:t;return yV(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function vV(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var wV=class{constructor(t){this.value=t}deref(){return this.value}},EV=typeof WeakRef<"u"?WeakRef:wV,TV=0,qS=1;function Sh(){return{s:TV,v:void 0,o:null,p:null}}function F0(t,e={}){let n=Sh();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var h;let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const v=_.get(m);v===void 0?(a=Sh(),_.set(m,a)):a=v}else{let _=a.p;_===null&&(a.p=_=new Map);const v=_.get(m);v===void 0?(a=Sh(),_.set(m,a)):a=v}}const u=a;let c;if(a.s===qS?c=a.v:(c=t.apply(null,arguments),s++),u.s=qS,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new EV(c):c}return u.v=c,c}return o.clearCache=()=>{n=Sh(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function ib(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),mV(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=F0,argsMemoizeOptions:m=[],devModeChecks:_={}}=c,v=HS(d),g=HS(m),p=_V(i),y=h(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const E=vV(p,arguments);return a=y.apply(null,E),a},...g);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var SV=ib(F0),IV=Object.assign((t,e=SV)=>{gV(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>IV});function sb(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var CV=sb(),AV=sb,RV=(...t)=>{const e=ib(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(es(o)?tb(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};RV(F0);var PV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)},bV=t=>t&&typeof t.match=="function";function Br(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(an(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>sV(r)&&r.type===t,n}var ob=class Fl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fl.prototype)}static get[Symbol.species](){return Fl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fl(...e[0].concat(this)):new Fl(...e.concat(this))}};function GS(t){return Jr(t)?rb(t,()=>{}):t}function KS(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(an(10));const r=n.insert(e,t);return t.set(e,r),r}function kV(t){return typeof t=="boolean"}var xV=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new ob;return n&&(kV(n)?o.push(CV):o.push(AV(n.extraArgument))),o},OV="RTK_autoBatch",ab=t=>e=>{setTimeout(e,t)},NV=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ab(10),DV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?NV:t.type==="callback"?t.queueNotification:ab(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[OV]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},MV=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new ob(t);return r&&i.push(DV(typeof r=="object"?r:void 0)),i},LV=!0;function FV(t){const e=xV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(N0(n))a=rV(n);else throw new Error(an(1));let l;typeof r=="function"?l=r(e):l=e();let u=Jd;i&&(u=PV({trace:!LV,...typeof i=="object"&&i}));const c=iV(...l),h=MV(c);let d=typeof o=="function"?o(h):h();const f=u(...d);return D0(a,s,f)}function lb(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(an(28));if(a in e)throw new Error(an(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function $V(t){return typeof t=="function"}function VV(t,e){let[n,r,i]=lb(e),s;if($V(t))s=()=>GS(t());else{const a=GS(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(es(c)){const f=h(c,l);return f===void 0?c:f}else{if(Jr(c))return rb(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw new Error(an(9))}return d}}return c},a)}return o.getInitialState=s,o}var UV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ub=(t=21)=>{let e="",n=t;for(;n--;)e+=UV[Math.random()*64|0];return e},jV=(t,e)=>bV(t)?t.match(e):t(e);function zV(...t){return e=>t.some(n=>jV(n,e))}var BV=["name","message","stack","code"],yg=class{constructor(t,e){Um(this,"_type");this.payload=t,this.meta=e}},QS=class{constructor(t,e){Um(this,"_type");this.payload=t,this.meta=e}},WV=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of BV)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},fs=(()=>{function t(e,n,r){const i=Br(e+"/fulfilled",(l,u,c,h)=>({payload:l,meta:{...h||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=Br(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=Br(e+"/rejected",(l,u,c,h,d)=>({payload:h,error:(r&&r.serializeError||WV)(l||"Rejected"),meta:{...d||{},arg:c,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,h)=>{const d=r!=null&&r.idGenerator?r.idGenerator(l):ub(),f=new AbortController;let m,_;function v(p){_=p,f.abort()}const g=async function(){var w,I;let p;try{let E=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:c,extra:h});if(qV(E)&&(E=await E),E===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((b,V)=>{m=()=>{V({name:"AbortError",message:_||"Aborted"})},f.signal.addEventListener("abort",m)});u(s(d,l,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:d,arg:l},{getState:c,extra:h}))),p=await Promise.race([S,Promise.resolve(n(l,{dispatch:u,getState:c,extra:h,requestId:d,signal:f.signal,abort:v,rejectWithValue:(b,V)=>new yg(b,V),fulfillWithValue:(b,V)=>new QS(b,V)})).then(b=>{if(b instanceof yg)throw b;return b instanceof QS?i(b.payload,d,l,b.meta):i(b,d,l)})])}catch(E){p=E instanceof yg?o(null,d,l,E.payload,E.meta):o(E,d,l)}finally{m&&f.signal.removeEventListener("abort",m)}return r&&!r.dispatchConditionRejection&&o.match(p)&&p.meta.condition||u(p),p}();return Object.assign(g,{abort:v,requestId:d,arg:l,unwrap(){return g.then(HV)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:zV(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function HV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function qV(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var GV=Symbol.for("rtk-slice-createasyncthunk");function KV(t,e){return`${t}/${e}`}function QV({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[GV];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(an(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(XV()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,w){const I=typeof y=="string"?y:y.type;if(!I)throw new Error(an(12));if(I in u.sliceCaseReducersByType)throw new Error(an(13));return u.sliceCaseReducersByType[I]=w,c},addMatcher(y,w){return u.sliceMatchers.push({matcher:y,reducer:w}),c},exposeAction(y,w){return u.actionCreators[y]=w,c},exposeCaseReducer(y,w){return u.sliceCaseReducersByName[y]=w,c}};l.forEach(y=>{const w=a[y],I={reducerName:y,type:KV(s,y),createNotation:typeof i.reducers=="function"};ZV(w)?tU(I,w,c,e):JV(I,w,c)});function h(){const[y={},w=[],I=void 0]=typeof i.extraReducers=="function"?lb(i.extraReducers):[i.extraReducers],E={...y,...u.sliceCaseReducersByType};return VV(i.initialState,S=>{for(let b in E)S.addCase(b,E[b]);for(let b of u.sliceMatchers)S.addMatcher(b.matcher,b.reducer);for(let b of w)S.addMatcher(b.matcher,b.reducer);I&&S.addDefaultCase(I)})}const d=y=>y,f=new Map;let m;function _(y,w){return m||(m=h()),m(y,w)}function v(){return m||(m=h()),m.getInitialState()}function g(y,w=!1){function I(S){let b=S[y];return typeof b>"u"&&w&&(b=v()),b}function E(S=d){const b=KS(f,w,{insert:()=>new WeakMap});return KS(b,S,{insert:()=>{const V={};for(const[j,ne]of Object.entries(i.selectors??{}))V[j]=YV(ne,S,v,w);return V}})}return{reducerPath:y,getSelectors:E,get selectors(){return E(I)},selectSlice:I}}const p={name:s,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...g(o),injectInto(y,{reducerPath:w,...I}={}){const E=w??o;return y.inject({reducerPath:E,reducer:_},I),{...p,...g(E,!0)}}};return p}}function YV(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var $0=QV();function XV(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function JV({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!eU(r))throw new Error(an(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Br(t,o):Br(t))}function ZV(t){return t._reducerDefinitionType==="asyncThunk"}function eU(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tU({type:t,reducerName:e},n,r,i){if(!i)throw new Error(an(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,s,c);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Ih,pending:a||Ih,rejected:l||Ih,settled:u||Ih})}function Ih(){}var nU=(t,e)=>{if(typeof t!="function")throw new Error(an(32))},V0="listenerMiddleware",rU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Br(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(an(21));return nU(s),{predicate:i,type:e,effect:s}},iU=Object.assign(t=>{const{type:e,predicate:n,effect:r}=rU(t);return{id:ub(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(an(22))}}},{withTypes:()=>iU}),sU=Object.assign(Br(`${V0}/add`),{withTypes:()=>sU});Br(`${V0}/removeAll`);var oU=Object.assign(Br(`${V0}/remove`),{withTypes:()=>oU});function an(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var U0="persist:",j0="persist/FLUSH",wp="persist/REHYDRATE",z0="persist/PAUSE",B0="persist/PERSIST",W0="persist/PURGE",H0="persist/REGISTER",aU=-1;function rd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(n){return typeof n}:rd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(t)}function YS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YS(n,!0).forEach(function(r){uU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cU(t,e,n,r){r.debug;var i=lU({},n);return t&&rd(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function hU(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:U0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(I){return I}:typeof t.serialize=="function"?a=t.serialize:a=dU;var l=t.writeFailHandler||null,u={},c={},h=[],d=null,f=null,m=function(I){Object.keys(I).forEach(function(E){g(E)&&u[E]!==I[E]&&h.indexOf(E)===-1&&h.push(E)}),Object.keys(u).forEach(function(E){I[E]===void 0&&g(E)&&h.indexOf(E)===-1&&u[E]!==void 0&&h.push(E)}),d===null&&(d=setInterval(_,i)),u=I};function _(){if(h.length===0){d&&clearInterval(d),d=null;return}var w=h.shift(),I=r.reduce(function(E,S){return S.in(E,w,u)},u[w]);if(I!==void 0)try{c[w]=a(I)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete c[w];h.length===0&&v()}function v(){Object.keys(c).forEach(function(w){u[w]===void 0&&delete c[w]}),f=o.setItem(s,a(c)).catch(p)}function g(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function p(w){l&&l(w)}var y=function(){for(;h.length!==0;)_();return f||Promise.resolve()};return{update:m,flush:y}}function dU(t){return JSON.stringify(t)}function fU(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:U0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=pU,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function pU(t){return JSON.parse(t)}function mU(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:U0).concat(t.key);return e.removeItem(n,gU)}function gU(t){}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(n,!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t,e){if(t==null)return{};var n=vU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var wU=5e3;function EU(t,e){var n=t.version!==void 0?t.version:aU;t.debug;var r=t.stateReconciler===void 0?cU:t.stateReconciler,i=t.getStoredState||fU,s=t.timeout!==void 0?t.timeout:wU,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(c,h){var d=c||{},f=d._persist,m=_U(d,["_persist"]),_=m;if(h.type===B0){var v=!1,g=function(b,V){v||(h.rehydrate(t.key,b,V),v=!0)};if(s&&setTimeout(function(){!v&&g(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=hU(t)),f)return Pr({},e(_,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(S){var b=t.migrate||function(V,j){return Promise.resolve(V)};b(S,n).then(function(V){g(V)},function(V){g(void 0,V)})},function(S){g(void 0,S)}),Pr({},e(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===W0)return a=!0,h.result(mU(t)),Pr({},e(_,h),{_persist:f});if(h.type===j0)return h.result(o&&o.flush()),Pr({},e(_,h),{_persist:f});if(h.type===z0)l=!0;else if(h.type===wp){if(a)return Pr({},_,{_persist:Pr({},f,{rehydrated:!0})});if(h.key===t.key){var p=e(_,h),y=h.payload,w=r!==!1&&y!==void 0?r(y,c,p,t):p,I=Pr({},w,{_persist:Pr({},f,{rehydrated:!0})});return u(I)}}}if(!f)return e(c,h);var E=e(_,h);return E===_?c:u(Pr({},E,{_persist:f}))}}function JS(t){return IU(t)||SU(t)||TU()}function TU(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function SU(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function IU(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(n,!0).forEach(function(r){CU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cb={registry:[],bootstrapped:!1},AU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cb,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case H0:return p_({},e,{registry:[].concat(JS(e.registry),[n.key])});case wp:var r=e.registry.indexOf(n.key),i=JS(e.registry);return i.splice(r,1),p_({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function RU(t,e,n){var r=n||!1,i=D0(AU,cb,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:H0,key:u})},o=function(u,c,h){var d={type:wp,payload:c,err:h,key:u};t.dispatch(d),i.dispatch(d),r&&a.getState().bootstrapped&&(r(),r=!1)},a=p_({},i,{purge:function(){var u=[];return t.dispatch({type:W0,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:j0,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:z0})},persist:function(){t.dispatch({type:B0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var q0={},G0={};G0.__esModule=!0;G0.default=kU;function id(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(n){return typeof n}:id=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},id(t)}function _g(){}var PU={getItem:_g,setItem:_g,removeItem:_g};function bU(t){if((typeof self>"u"?"undefined":id(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function kU(t){var e="".concat(t,"Storage");return bU(e)?self[e]:PU}q0.__esModule=!0;q0.default=NU;var xU=OU(G0);function OU(t){return t&&t.__esModule?t:{default:t}}function NU(t){var e=(0,xU.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var hb=void 0,DU=MU(q0);function MU(t){return t&&t.__esModule?t:{default:t}}var LU=(0,DU.default)("local");hb=LU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw tl(e)},tl=function(t){return new Error("Firebase Database ("+db.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new $U;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $U extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pb=function(t){const e=fb(t);return K0.encodeByteArray(e,!0)},nf=function(t){return pb(t).replace(/\./g,"")},rf=function(t){try{return K0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return mb(void 0,t)}function mb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!UU(n)||(t[n]=mb(t[n],e[n]));return t}function UU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=()=>jU().__FIREBASE_DEFAULTS__,BU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rf(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return zU()||BU()||WU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gb=t=>{var e,n;return(n=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yb=t=>{const e=gb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_b=()=>{var t;return(t=Ep())===null||t===void 0?void 0:t.config},vb=t=>{var e;return(e=Ep())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nf(JSON.stringify(n)),nf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function HU(){var t;const e=(t=Ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GU(){const t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tb(){return db.NODE_ADMIN===!0}function KU(){return!HU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function QU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YU,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function XU(t,e){return t.replace(JU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uu(rf(s[0])||""),n=Uu(rf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},ZU=function(t){const e=Ib(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},e4=function(t){const e=Ib(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ka(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function m_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(e1(s)&&e1(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function n4(t,e){const n=new r4(t,e);return n.subscribe.bind(n)}class r4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vg),i.error===void 0&&(i.error=vg),i.complete===void 0&&(i.complete=vg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}function Tp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l4(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a4(t){return t===Cs?void 0:t}function l4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const c4={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},h4=le.INFO,d4={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},f4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=h4,this._logHandler=f4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const p4=(t,e)=>e.some(n=>t instanceof n);let t1,n1;function m4(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g4(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,g_=new WeakMap,Ab=new WeakMap,wg=new WeakMap,X0=new WeakMap;function y4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),X0.set(e,t),e}function _4(t){if(g_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});g_.set(t,e)}let y_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return g_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v4(t){y_=t(y_)}function w4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return Ab.set(r,e.sort?e.sort():[e]),zi(r)}:g4().includes(t)?function(...e){return t.apply(Eg(this),e),zi(Cb.get(this))}:function(...e){return zi(t.apply(Eg(this),e))}}function E4(t){return typeof t=="function"?w4(t):(t instanceof IDBTransaction&&_4(t),p4(t,m4())?new Proxy(t,y_):t)}function zi(t){if(t instanceof IDBRequest)return y4(t);if(wg.has(t))return wg.get(t);const e=E4(t);return e!==t&&(wg.set(t,e),X0.set(e,t)),e}const Eg=t=>X0.get(t);function T4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const S4=["get","getKey","getAll","getAllKeys","count"],I4=["put","add","delete","clear"],Tg=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=I4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tg.set(e,s),s}v4(t=>({...t,get:(e,n,r)=>r1(e,n)||t.get(e,n,r),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const __="@firebase/app",i1="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Ip("@firebase/app"),R4="@firebase/app-compat",P4="@firebase/analytics-compat",b4="@firebase/analytics",k4="@firebase/app-check-compat",x4="@firebase/app-check",O4="@firebase/auth",N4="@firebase/auth-compat",D4="@firebase/database",M4="@firebase/database-compat",L4="@firebase/functions",F4="@firebase/functions-compat",$4="@firebase/installations",V4="@firebase/installations-compat",U4="@firebase/messaging",j4="@firebase/messaging-compat",z4="@firebase/performance",B4="@firebase/performance-compat",W4="@firebase/remote-config",H4="@firebase/remote-config-compat",q4="@firebase/storage",G4="@firebase/storage-compat",K4="@firebase/firestore",Q4="@firebase/firestore-compat",Y4="firebase",X4="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="[DEFAULT]",J4={[__]:"fire-core",[R4]:"fire-core-compat",[b4]:"fire-analytics",[P4]:"fire-analytics-compat",[x4]:"fire-app-check",[k4]:"fire-app-check-compat",[O4]:"fire-auth",[N4]:"fire-auth-compat",[D4]:"fire-rtdb",[M4]:"fire-rtdb-compat",[L4]:"fire-fn",[F4]:"fire-fn-compat",[$4]:"fire-iid",[V4]:"fire-iid-compat",[U4]:"fire-fcm",[j4]:"fire-fcm-compat",[z4]:"fire-perf",[B4]:"fire-perf-compat",[W4]:"fire-rc",[H4]:"fire-rc-compat",[q4]:"fire-gcs",[G4]:"fire-gcs-compat",[K4]:"fire-fst",[Q4]:"fire-fst-compat","fire-js":"fire-js",[Y4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,Z4=new Map,w_=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(w_.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;w_.set(e,t);for(const n of af.values())s1(n,t);for(const n of Z4.values())s1(n,t);return!0}function Cp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Rc("app","Firebase",ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=X4;function Rb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:v_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=_b()),!n)throw Bi.create("no-options");const s=af.get(i);if(s){if(of(n,s.options)&&of(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new u4(i);for(const l of w_.values())o.addComponent(l);const a=new tj(n,r,o);return af.set(i,a),a}function J0(t=v_){const e=af.get(t);if(!e&&t===v_&&_b())return Rb();if(!e)throw Bi.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let i=(r=J4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(a.join(" "));return}eo(new ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebase-heartbeat-database",rj=1,ju="firebase-heartbeat-store";let Sg=null;function Pb(){return Sg||(Sg=T4(nj,rj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function ij(t){try{const n=(await Pb()).transaction(ju),r=await n.objectStore(ju).get(bb(t));return await n.done,r}catch(e){if(e instanceof ai)Zs.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function o1(t,e){try{const r=(await Pb()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,bb(t)),await r.done}catch(n){if(n instanceof ai)Zs.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function bb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=1024,oj=30*24*60*60*1e3;class aj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=oj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a1(),{heartbeatsToSend:r,unsentEntries:i}=lj(this._heartbeatsCache.heartbeats),s=nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function a1(){return new Date().toISOString().substring(0,10)}function lj(t,e=sj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?QU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ij(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return o1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function l1(t){return nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){eo(new ts("platform-logger",e=>new C4(e),"PRIVATE")),eo(new ts("heartbeat",e=>new aj(e),"PRIVATE")),mr(__,i1,t),mr(__,i1,"esm2017"),mr("fire-js","")}cj("");function Z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=kb,xb=new Rc("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Ip("@firebase/auth");function dj(t,...e){lf.logLevel<=le.WARN&&lf.warn(`Auth (${_o}): ${t}`,...e)}function sd(t,...e){lf.logLevel<=le.ERROR&&lf.error(`Auth (${_o}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw ew(t,...e)}function gr(t,...e){return ew(t,...e)}function Ob(t,e,n){const r=Object.assign(Object.assign({},hj()),{[e]:n});return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return Ob(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ew(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xb.create(t,...e)}function Y(t,e,...n){if(!t)throw ew(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Zr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fj(){return u1()==="http:"||u1()==="https:"}function u1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fj()||qU()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=Y0()||Eb()}get(){return pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Pc(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function li(t,e,n,r,i={}){return Db(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Nb.fetch()(Mb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Db(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gj),e);try{const i=new vj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ch(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ch(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ch(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ob(t,c,u);Jn(t,c)}}catch(i){if(i instanceof ai)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function bc(t,e,n,r,i={}){const s=await li(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Mb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tw(t.config,i):`${t.config.apiScheme}://${i}`}function _j(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),yj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function c1(t){return t!==void 0&&t.enterprise!==void 0}class wj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _j(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Ej(t,e){return li(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e){return li(t,"POST","/v1/accounts:delete",e)}async function Lb(t,e){return li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sj(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=nw(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(Ig(i.auth_time)),issuedAtTime:eu(Ig(i.iat)),expirationTime:eu(Ig(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function nw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=rf(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function h1(t){const e=nw(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&Ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await xa(t,Lb(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Fb(s.providerUserInfo):[],a=Rj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new T_(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Aj(t){const e=et(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fb(t){return t.map(e=>{var{providerId:n}=e,r=Z0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,e){const n=await Db(t,{},async()=>{const r=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Mb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bj(t,e){return li(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=h1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Pj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new fa;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await xa(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sj(this,e)}reload(){return Aj(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await xa(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:E,stsTokenManager:S}=n;Y(y&&S,e,"internal-error");const b=fa.fromJSON(this.name,S);Y(typeof y=="string",e,"internal-error"),pi(h,e.name),pi(d,e.name),Y(typeof w=="boolean",e,"internal-error"),Y(typeof I=="boolean",e,"internal-error"),pi(f,e.name),pi(m,e.name),pi(_,e.name),pi(v,e.name),pi(g,e.name),pi(p,e.name);const V=new $r({uid:y,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:I,photoURL:m,phoneNumber:f,tenantId:_,stsTokenManager:b,createdAt:g,lastLoginAt:p});return E&&Array.isArray(E)&&(V.providerData=E.map(j=>Object.assign({},j))),v&&(V._redirectEventId=v),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new fa;i.updateFromServerResponse(n);const s=new $r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Fb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new fa;a.updateFromIdToken(r);const l=new $r({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Map;function Vr(t){Zr(t instanceof Function,"Expected a class definition");let e=d1.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$b.type="NONE";const f1=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(Vr(f1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vr(f1);const o=od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=$r._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new pa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new pa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bb(e))return"Blackberry";if(Wb(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||Ub(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vb(t=Ze()){return/firefox\//i.test(t)}function rw(t=Ze()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ub(t=Ze()){return/crios\//i.test(t)}function jb(t=Ze()){return/iemobile/i.test(t)}function zb(t=Ze()){return/android/i.test(t)}function Bb(t=Ze()){return/blackberry/i.test(t)}function Wb(t=Ze()){return/webos/i.test(t)}function Ap(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kj(t=Ze()){var e;return Ap(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xj(){return GU()&&document.documentMode===10}function Hb(t=Ze()){return Ap(t)||zb(t)||Wb(t)||Bb(t)||/windows phone/i.test(t)||jb(t)}function Oj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e=[]){let n;switch(t){case"Browser":n=p1(Ze());break;case"Worker":n=`${p1(Ze())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e={}){return li(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=6;class Lj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m1(this),this.idTokenSubscription=new m1(this),this.beforeStateQueue=new Nj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lb(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Wr(this));const n=e?et(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dj(this),n=new Lj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vo(t){return et(t)}class m1{constructor(e){this.auth=e,this.observer=null,this.addObserver=n4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $j(t){Rp=t}function Gb(t){return Rp.loadJS(t)}function Vj(){return Rp.recaptchaEnterpriseScript}function Uj(){return Rp.gapiScript}function jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zj="recaptcha-enterprise",Bj="NO_RECAPTCHA";class Wj{constructor(e){this.type=zj,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Ej(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new wj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;c1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Bj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&c1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Vj();l.length!==0&&(l+=a),Gb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function g1(t,e,n,r=!1){const i=new Wj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function S_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await g1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await g1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t,e){const n=Cp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(of(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gj(t,e,n){const r=vo(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Kb(e),{host:o,port:a}=Kj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Qj()}function Kb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Kj(t){const e=Kb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:y1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:y1(o)}}}function y1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function Yj(t,e){return li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function Zj(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends iw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,n,"signInWithPassword",Xj);case"emailLink":return Jj(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,r,"signUpPassword",Yj);case"emailLink":return Zj(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="http://localhost";class to extends iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new to(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:e3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n3(t){const e=$l(Vl(t)).link,n=e?$l(Vl(e)).deep_link_id:null,r=$l(Vl(t)).deep_link_id;return(r?$l(Vl(r)).link:null)||r||n||e||t}class sw{constructor(e){var n,r,i,s,o,a;const l=$l(Vl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=t3((i=l.mode)!==null&&i!==void 0?i:null);Y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=n3(e);try{return new sw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sw.parseLink(n);return Y(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends kc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends kc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends kc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t,e){return bc(t,"POST","/v1/accounts:signUp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $r._fromIdTokenResponse(e,r,i),o=_1(r);return new no({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_1(r);return new no({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cf(e,n,r,i)}}function Yb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,s,e,r):s})}async function i3(t,e,n=!1){const r=await xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const s=await xa(t,Yb(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=nw(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),no._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,n=!1){if(cr(t.app))return Promise.reject(Wr(t));const r="signIn",i=await Yb(t,r,e),s=await no._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function o3(t,e){return Xb(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a3(t,e,n){if(cr(t.app))return Promise.reject(Wr(t));const r=vo(t),o=await S_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jb(t),l}),a=await no._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function l3(t,e,n){return cr(t.app)?Promise.reject(Wr(t)):o3(et(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jb(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(t,e){return li(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await xa(r,u3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function h3(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function d3(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function f3(t){return et(t).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){const t=Ze();return rw(t)||Ap(t)}const m3=1e3,g3=10;class ek extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=p3()&&Oj(),this.fallbackToPolling=Hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ek.type="LOCAL";const y3=ek;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tk.type="SESSION";const nk=tk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ow("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function w3(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function E3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S3(){return rk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="firebaseLocalStorageDb",I3=1,df="firebaseLocalStorage",sk="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function C3(){const t=indexedDB.deleteDatabase(ik);return new xc(t).toPromise()}function I_(){const t=indexedDB.open(ik,I3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:sk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await C3(),e(await I_()))})})}async function v1(t,e,n){const r=bp(t,!0).put({[sk]:e,value:n});return new xc(r).toPromise()}async function A3(t,e){const n=bp(t,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function w1(t,e){const n=bp(t,!0).delete(e);return new xc(n).toPromise()}const R3=800,P3=3;class ok{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pp._getInstance(S3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E3(),!this.activeServiceWorker)return;this.sender=new v3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I_();return await v1(e,hf,"1"),await w1(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>v1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>A3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bp(i,!1).getAll();return new xc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ok.type="LOCAL";const b3=ok;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){return e?Vr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x3(t){return Xb(t.auth,new aw(t),t.bypassAuthState)}function O3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),s3(n,new aw(t),t.bypassAuthState)}async function N3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),i3(n,new aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x3;case"linkViaPopup":case"linkViaRedirect":return N3;case"reauthViaPopup":case"reauthViaRedirect":return O3;default:Jn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Pc(2e3,1e4);class ea extends ak{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=ow();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D3.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="pendingRedirect",ad=new Map;class L3 extends ak{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await F3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F3(t,e){const n=U3(e),r=V3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $3(t,e){ad.set(t._key(),e)}function V3(t){return Vr(t._redirectPersistence)}function U3(t){return od(M3,t.config.apiKey,t.name)}async function j3(t,e,n=!1){if(cr(t.app))return Promise.reject(Wr(t));const r=vo(t),i=k3(r,e),o=await new L3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=10*60*1e3;class B3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(E1(e))}saveEventToCache(e){this.cachedEventUids.add(E1(e)),this.lastProcessedEventTime=Date.now()}}function E1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e={}){return li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G3=/^https?/;async function K3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await H3(t);for(const n of e)try{if(Q3(n))return}catch{}Jn(t,"unauthorized-domain")}function Q3(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!G3.test(n))return!1;if(q3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=new Pc(3e4,6e4);function T1(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X3(t){return new Promise((e,n)=>{var r,i,s;function o(){T1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T1(),n(gr(t,"network-request-failed"))},timeout:Y3.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const a=jj("iframefcb");return yr()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},Gb(`${Uj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function J3(t){return ld=ld||X3(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Pc(5e3,15e3),e9="__/auth/iframe",t9="emulator/auth/iframe",n9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i9(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,t9):`https://${t.config.authDomain}/${e9}`,r={apiKey:e.apiKey,appName:t.name,v:_o},i=r9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nl(r).slice(1)}`}async function s9(t){const e=await J3(t),n=yr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:i9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},Z3.get());function l(){yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a9=500,l9=600,u9="_blank",c9="http://localhost";class S1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h9(t,e,n,r=a9,i=l9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},o9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ze().toLowerCase();n&&(a=Ub(u)?u9:n),Vb(u)&&(e=e||c9,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(kj(u)&&a!=="_self")return d9(e||"",a),new S1(null);const h=window.open(e||"",a,c);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new S1(h)}function d9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="__/auth/handler",p9="emulator/auth/handler",m9=encodeURIComponent("fac");async function I1(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_o,eventId:i};if(e instanceof Qb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof kc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${m9}=${encodeURIComponent(l)}`:"";return`${g9(t)}?${nl(a).slice(1)}${u}`}function g9({config:t}){return t.emulator?tw(t,p9):`https://${t.authDomain}/${f9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class y9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nk,this._completeRedirectFn=j3,this._overrideRedirectResult=$3}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await I1(e,n,r,E_(),i);return h9(e,o,ow())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await I1(e,n,r,E_(),i);return w3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s9(e),r=new B3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cg];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hb()||rw()||Ap()}}const _9=y9;var C1="@firebase/auth",A1="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E9(t){eo(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qb(t)},u=new Fj(r,i,s,l);return qj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new ts("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new v9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(C1,A1,w9(t)),mr(C1,A1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=5*60,S9=vb("authIdTokenMaxAge")||T9;let R1=null;const I9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S9)return;const i=n==null?void 0:n.token;R1!==i&&(R1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function C9(t=J0()){const e=Cp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hj(t,{popupRedirectResolver:_9,persistence:[b3,y3,nk]}),r=vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=I9(s.toString());d3(n,o,()=>o(n.currentUser)),h3(n,a=>o(a))}}const i=gb("auth");return i&&Gj(n,`http://${i}`),n}function A9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$j({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",A9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E9("Browser");var R9="firebase",P9="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(R9,P9,"app");var b9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,lw=lw||{},X=b9||self;function kp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function k9(t){return Object.prototype.hasOwnProperty.call(t,Ag)&&t[Ag]||(t[Ag]=++x9)}var Ag="closure_uid_"+(1e9*Math.random()>>>0),x9=0;function O9(t,e,n){return t.call.apply(t.bind,arguments)}function N9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=O9:Ut=N9,Ut.apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ms(){this.s=this.s,this.o=this.o}var D9=0;ms.prototype.s=!1;ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),D9!=0)&&k9(this)};ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function uw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function P1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var M9=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};X.addEventListener("test",n,e),X.removeEventListener("test",n,e)}catch{}return t}();function Bu(t){return/^[\s\xa0]*$/.test(t)}function xp(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return xp().indexOf(t)!=-1}function cw(t){return cw[" "](t),t}cw[" "]=function(){};function L9(t,e){var n=P6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var F9=ur("Opera"),Oa=ur("Trident")||ur("MSIE"),ck=ur("Edge"),C_=ck||Oa,hk=ur("Gecko")&&!(xp().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),$9=xp().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge");function dk(){var t=X.document;return t?t.documentMode:void 0}var A_;e:{var Rg="",Pg=function(){var t=xp();if(hk)return/rv:([^\);]+)(\)|;)/.exec(t);if(ck)return/Edge\/([\d\.]+)/.exec(t);if(Oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($9)return/WebKit\/(\S+)/.exec(t);if(F9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pg&&(Rg=Pg?Pg[1]:""),Oa){var bg=dk();if(bg!=null&&bg>parseFloat(Rg)){A_=String(bg);break e}}A_=Rg}var R_;if(X.document&&Oa){var b1=dk();R_=b1||parseInt(A_,10)||void 0}else R_=void 0;var V9=R_;function Wu(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(hk){e:{try{cw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:U9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wu.$.h.call(this)}}vt(Wu,jt);var U9={2:"touch",3:"pen",4:"mouse"};Wu.prototype.h=function(){Wu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),j9=0;function z9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++j9,this.fa=this.ia=!1}function Op(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function B9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function fk(t){const e={};for(const n in t)e[n]=t[n];return e}const k1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<k1.length;s++)n=k1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Np(t){this.src=t,this.g={},this.h=0}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=b_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new z9(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function P_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=uk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Op(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function b_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var dw="closure_lm_"+(1e6*Math.random()|0),kg={};function mk(t,e,n,r,i){if(r&&r.once)return yk(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)mk(t,e[s],n,r,i);return null}return n=mw(n),t&&t[Nc]?t.O(e,n,Oc(r)?!!r.capture:!!r,i):gk(t,e,n,!1,r,i)}function gk(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oc(i)?!!i.capture:!!i,a=pw(t);if(a||(t[dw]=a=new Np(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=W9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)M9||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function W9(){function t(n){return e.call(t.src,t.listener,n)}const e=H9;return t}function yk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yk(t,e[s],n,r,i);return null}return n=mw(n),t&&t[Nc]?t.P(e,n,Oc(r)?!!r.capture:!!r,i):gk(t,e,n,!0,r,i)}function _k(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_k(t,e[s],n,r,i);else r=Oc(r)?!!r.capture:!!r,n=mw(n),t&&t[Nc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=b_(s,n,r,i),-1<n&&(Op(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=pw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=b_(e,n,r,i)),(n=-1<t?e[t]:null)&&fw(n))}function fw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Nc])P_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pw(e))?(P_(n,t),n.h==0&&(n.src=null,e[dw]=null)):Op(t)}}}function vk(t){return t in kg?kg[t]:kg[t]="on"+t}function H9(t,e){if(t.fa)t=!0;else{e=new Wu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fw(t),t=n.call(r,e)}return t}function pw(t){return t=t[dw],t instanceof Np?t:null}var xg="__closure_events_fn_"+(1e9*Math.random()>>>0);function mw(t){return typeof t=="function"?t:(t[xg]||(t[xg]=function(e){return t.handleEvent(e)}),t[xg])}function _t(){ms.call(this),this.i=new Np(this),this.S=this,this.J=null}vt(_t,ms);_t.prototype[Nc]=!0;_t.prototype.removeEventListener=function(t,e,n,r){_k(this,t,e,n,r)};function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;e=new jt(r,t),pk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rh(o,r,!0,e)&&i}if(o=e.g=t,i=Rh(o,r,!0,e)&&i,i=Rh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rh(o,r,!1,e)&&i}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Op(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&P_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var gw=X.JSON.stringify;class q9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function G9(){var t=yw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class K9{constructor(){this.h=this.g=null}add(e,n){const r=wk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wk=new q9(()=>new Q9,t=>t.reset());class Q9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Y9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function X9(t){X.setTimeout(()=>{throw t},0)}let Hu,qu=!1,yw=new K9,Ek=()=>{const t=X.Promise.resolve(void 0);Hu=()=>{t.then(J9)}};var J9=()=>{for(var t;t=G9();){try{t.h.call(t.g)}catch(n){X9(n)}var e=wk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qu=!1};function Dp(t,e){_t.call(this),this.h=t||1,this.g=e||X,this.j=Ut(this.qb,this),this.l=Date.now()}vt(Dp,_t);M=Dp.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(_w(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _w(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Dp.$.N.call(this),_w(this),delete this.g};function vw(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function Tk(t){t.g=vw(()=>{t.g=null,t.i&&(t.i=!1,Tk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Z9 extends ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tk(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gu(t){ms.call(this),this.h=t,this.g={}}vt(Gu,ms);var x1=[];function Sk(t,e,n,r){Array.isArray(n)||(n&&(x1[0]=n.toString()),n=x1);for(var i=0;i<n.length;i++){var s=mk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ik(t){hw(t.g,function(e,n){this.g.hasOwnProperty(n)&&fw(e)},t),t.g={}}Gu.prototype.N=function(){Gu.$.N.call(this),Ik(this)};Gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mp(){this.g=!0}Mp.prototype.Ea=function(){this.g=!1};function e6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function t6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ta(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+r6(t,n)+(r?" "+r:"")})}function n6(t,e){t.info(function(){return"TIMEOUT: "+e})}Mp.prototype.info=function(){};function r6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return gw(n)}catch{return e}}var wo={},O1=null;function Lp(){return O1=O1||new _t}wo.Ta="serverreachability";function Ck(t){jt.call(this,wo.Ta,t)}vt(Ck,jt);function Ku(t){const e=Lp();bt(e,new Ck(e))}wo.STAT_EVENT="statevent";function Ak(t,e){jt.call(this,wo.STAT_EVENT,t),this.stat=e}vt(Ak,jt);function qt(t){const e=Lp();bt(e,new Ak(e,t))}wo.Ua="timingevent";function Rk(t,e){jt.call(this,wo.Ua,t),this.size=e}vt(Rk,jt);function Dc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}var Fp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ww(){}ww.prototype.h=null;function N1(t){return t.h||(t.h=t.i())}function bk(){}var Mc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ew(){jt.call(this,"d")}vt(Ew,jt);function Tw(){jt.call(this,"c")}vt(Tw,jt);var k_;function $p(){}vt($p,ww);$p.prototype.g=function(){return new XMLHttpRequest};$p.prototype.i=function(){return{}};k_=new $p;function Lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gu(this),this.P=i6,t=C_?125:void 0,this.V=new Dp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kk}function kk(){this.i=null,this.g="",this.h=!1}var i6=45e3,xk={},x_={};M=Lc.prototype;M.setTimeout=function(t){this.P=t};function O_(t,e,n){t.L=1,t.A=Up(ei(e)),t.u=n,t.S=!0,Ok(t,null)}function Ok(t,e){t.G=Date.now(),Fc(t),t.B=ei(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Uk(n.i,"t",r),t.o=0,n=t.l.J,t.h=new kk,t.g=ax(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Z9(Ut(t.Pa,t,t.g),t.O)),Sk(t.U,t.g,"readystatechange",t.nb),e=t.I?fk(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ku(),e6(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=hr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||C_||this.g&&(this.h.h||this.g.ja()||F1(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ku(3):Ku(2)),Vp(this);var n=this.g.da();this.ca=n;t:if(Nk(this)){var r=F1(this.g);t="";var i=r.length,s=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),tu(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,t6(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bu(a)){var u=a;break t}}u=null}if(n=u)ta(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,N_(this,n);else{this.i=!1,this.s=3,qt(12),Ns(this),tu(this);break e}}this.S?(Dk(this,c,o),C_&&this.i&&c==3&&(Sk(this.U,this.V,"tick",this.mb),this.V.start())):(ta(this.j,this.m,o,null),N_(this,o)),c==4&&Ns(this),this.i&&!this.J&&(c==4?rx(this.l,this):(this.i=!1,Fc(this)))}else C6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ns(this),tu(this)}}}catch{}finally{}};function Nk(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Dk(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=s6(t,n),i==x_){e==4&&(t.s=4,qt(14),r=!1),ta(t.j,t.m,null,"[Incomplete Response]");break}else if(i==xk){t.s=4,qt(15),ta(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ta(t.j,t.m,i,null),N_(t,i);Nk(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pw(e),e.M=!0,qt(11))):(ta(t.j,t.m,n,"[Invalid Chunked Response]"),Ns(t),tu(t))}M.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.o<e.length&&(Vp(this),Dk(this,t,e),this.i&&t!=4&&Fc(this))}};function s6(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?x_:(n=Number(e.substring(n,r)),isNaN(n)?xk:(r+=1,r+n>e.length?x_:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,Ns(this)};function Fc(t){t.Y=Date.now()+t.P,Mk(t,t.P)}function Mk(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Dc(Ut(t.lb,t),e)}function Vp(t){t.C&&(X.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(n6(this.j,this.B),this.L!=2&&(Ku(),qt(17)),Ns(this),this.s=2,tu(this)):Mk(this,this.Y-t)};function tu(t){t.l.H==0||t.J||rx(t.l,t)}function Ns(t){Vp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_w(t.V),Ik(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function N_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||D_(n.i,t))){if(!t.K&&D_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)mf(n),Wp(n);else break e;Rw(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dc(Ut(n.ib,n),6e3));if(1>=Bk(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ds(n,11)}else if((t.K||n.g==t)&&mf(n),!Bu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Sw(s,s.h),s.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,De(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=ox(r,r.J?r.pa:null,r.Y),o.K){Wk(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Vp(a),Fc(a)),r.g=o}else tx(r);0<n.j.length&&Hp(n)}else u[0]!="stop"&&u[0]!="close"||Ds(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ds(n,7):Aw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ku(4)}catch{}}function o6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function a6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Lk(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=a6(t),r=o6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Fk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof zs){this.h=t.h,ff(this,t.j),this.s=t.s,this.g=t.g,pf(this,t.m),this.l=t.l;var e=t.i,n=new Qu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),D1(this,n),this.o=t.o}else t&&(e=String(t).match(Fk))?(this.h=!1,ff(this,e[1]||"",!0),this.s=Ul(e[2]||""),this.g=Ul(e[3]||"",!0),pf(this,e[4]),this.l=Ul(e[5]||"",!0),D1(this,e[6]||"",!0),this.o=Ul(e[7]||"")):(this.h=!1,this.i=new Qu(null,this.h))}zs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jl(e,M1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(jl(e,M1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(jl(n,n.charAt(0)=="/"?h6:c6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jl(n,f6)),t.join("")};function ei(t){return new zs(t)}function ff(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function D1(t,e,n){e instanceof Qu?(t.i=e,p6(t.i,t.h)):(n||(e=jl(e,d6)),t.i=new Qu(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Up(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,u6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function u6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var M1=/[#\/\?@]/g,c6=/[#\?:]/g,h6=/[#\?]/g,d6=/[#\?@]/g,f6=/#/g;function Qu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&l6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Qu.prototype;M.add=function(t,e){gs(this),this.i=null,t=il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $k(t,e){gs(t),e=il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Vk(t,e){return gs(t),e=il(t,e),t.g.has(e)}M.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){gs(this);let e=[];if(typeof t=="string")Vk(this,t)&&(e=e.concat(this.g.get(il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return gs(this),this.i=null,t=il(this,t),Vk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Uk(t,e,n){$k(t,e),0<n.length&&(t.i=null,t.g.set(il(t,e),uw(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function p6(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($k(this,r),Uk(this,i,n))},t)),t.j=e}var m6=class{constructor(t,e){this.g=t,this.map=e}};function jk(t){this.l=t||g6,X.PerformanceNavigationTiming?(t=X.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var g6=10;function zk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Bk(t){return t.h?1:t.g?t.g.size:0}function D_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Sw(t,e){t.g?t.g.add(e):t.h=e}function Wk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jk.prototype.cancel=function(){if(this.i=Hk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Hk(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return uw(t.i)}var y6=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function _6(){this.g=new y6}function v6(t,e,n){const r=n||"";try{Lk(t,function(i,s){let o=i;Oc(i)&&(o=gw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function w6(t,e){const n=new Mp;if(X.Image){const r=new Image;r.onload=Ah(Ph,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Ph,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Ph,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Ph,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ph(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jp(t){this.l=t.ec||null,this.j=t.ob||!1}vt(jp,ww);jp.prototype.g=function(){return new zp(this.l,this.j)};jp.prototype.i=function(t){return function(){return t}}({});function zp(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Iw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(zp,_t);var Iw=0;M=zp.prototype;M.open=function(t,e){if(this.readyState!=Iw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yu(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$c(this)),this.readyState=Iw};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function qk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$c(this):Yu(this),this.readyState==3&&qk(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,$c(this))};M.Ya=function(t){this.g&&(this.response=t,$c(this))};M.ka=function(){this.g&&$c(this)};function $c(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yu(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var E6=X.JSON.parse;function qe(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gk,this.L=this.M=!1}vt(qe,_t);var Gk="",T6=/^https?$/i,S6=["POST","PUT"];M=qe.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():k_.g(),this.C=this.u?N1(this.u):N1(k_),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){L1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&t instanceof X.FormData,!(0<=uk(S6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yk(this),0<this.B&&((this.L=I6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=vw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){L1(this,s)}};function I6(t){return Oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof lw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function L1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Kk(t),Bp(t)}function Kk(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),Bp(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bp(this,!0)),qe.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?Qk(this):this.kb())};M.kb=function(){Qk(this)};function Qk(t){if(t.h&&typeof lw<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)vw(t.La,0,t);else if(bt(t,"readystatechange"),hr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Fk)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!T6.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var s=2<hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Kk(t)}}finally{Bp(t)}}}}function Bp(t,e){if(t.g){Yk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Yk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),E6(e)}};function F1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Gk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C6(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Bu(t[r]))continue;var n=Y9(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}B9(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xk(t){let e="";return hw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Xk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jk(t){this.Ga=0,this.j=[],this.l=new Mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cl("baseRetryDelayMs",5e3,t),this.hb=Cl("retryDelaySeedMs",1e4,t),this.eb=Cl("forwardChannelMaxRetries",2,t),this.xa=Cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jk(t&&t.concurrentRequestLimit),this.Ja=new _6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=Jk.prototype;M.ra=8;M.H=1;function Aw(t){if(Zk(t),t.H==3){var e=t.W++,n=ei(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Vc(t,n),e=new Lc(t,t.l,e),e.L=2,e.A=Up(ei(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=e.A,n=!0),n||(e.g=ax(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Fc(e)}sx(t)}function Wp(t){t.g&&(Pw(t),t.g.cancel(),t.g=null)}function Zk(t){Wp(t),t.u&&(X.clearTimeout(t.u),t.u=null),mf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&X.clearTimeout(t.m),t.m=null)}function Hp(t){if(!zk(t.i)&&!t.m){t.m=!0;var e=t.Na;Hu||Ek(),qu||(Hu(),qu=!0),yw.add(e,t),t.C=0}}function A6(t,e){return Bk(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dc(Ut(t.Na,t,e),ix(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Lc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=fk(s),pk(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ex(this,i,e),n=ei(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Vc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Xk(s)))+"&"+e:this.o&&Cw(n,this.o,s)),Sw(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),i.aa=!0,O_(i,n,null)):O_(i,n,e),this.H=2}}else this.H==3&&(t?$1(this,t):this.j.length==0||zk(this.i)||$1(this))};function $1(t,e){var n;e?n=e.m:n=t.W++;const r=ei(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Vc(t,r),t.o&&t.s&&Cw(r,t.o,t.s),n=new Lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ex(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Sw(t.i,n),O_(n,r,e)}function Vc(t,e){t.na&&hw(t.na,function(n,r){De(e,r,n)}),t.h&&Lk({},function(n,r){De(e,r,n)})}function ex(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{v6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hu||Ek(),qu||(Hu(),qu=!0),yw.add(e,t),t.A=0}}function Rw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dc(Ut(t.Ma,t),ix(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,nx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dc(Ut(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),Wp(this),nx(this))};function Pw(t){t.B!=null&&(X.clearTimeout(t.B),t.B=null)}function nx(t){t.g=new Lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Vc(t,e),t.o&&t.s&&Cw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Up(ei(e)),n.u=null,n.S=!0,Ok(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Wp(this),Rw(this),qt(19))};function mf(t){t.v!=null&&(X.clearTimeout(t.v),t.v=null)}function rx(t,e){var n=null;if(t.g==e){mf(t),Pw(t),t.g=null;var r=2}else if(D_(t.i,e))n=e.F,Wk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lp(),bt(r,new Rk(r,n)),Hp(t)}else tx(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&A6(t,e)||r==2&&Rw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ds(t,5);break;case 4:Ds(t,10);break;case 3:Ds(t,6);break;default:Ds(t,2)}}}function ix(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ds(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new zs("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||ff(n,"https"),Up(n)),w6(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),sx(t),Zk(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function sx(t){if(t.H=0,t.ma=[],t.h){const e=Hk(t.i);(e.length!=0||t.j.length!=0)&&(P1(t.ma,e),P1(t.ma,t.j),t.i.i.length=0,uw(t.j),t.j.length=0),t.h.ya()}}function ox(t,e,n){var r=n instanceof zs?ei(n):new zs(n);if(r.g!="")e&&(r.g=e+"."+r.g),pf(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new zs(null);r&&ff(s,r),e&&(s.g=e),i&&pf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Vc(t,r),r}function ax(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new qe(new jp({ob:n})):new qe(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function lx(){}M=lx.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function gf(){if(Oa&&!(10<=Number(V9)))throw Error("Environmental error: no available transport.")}gf.prototype.g=function(t,e){return new vn(t,e)};function vn(t,e){_t.call(this),this.g=new Jk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new sl(this)}vt(vn,_t);vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ox(t,null,t.Y),Hp(t)};vn.prototype.close=function(){Aw(this.g)};vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=gw(t),t=n);e.j.push(new m6(e.fb++,t)),e.H==3&&Hp(e)};vn.prototype.N=function(){this.g.h=null,delete this.j,Aw(this.g),delete this.g,vn.$.N.call(this)};function ux(t){Ew.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(ux,Ew);function cx(){Tw.call(this),this.status=1}vt(cx,Tw);function sl(t){this.g=t}vt(sl,lx);sl.prototype.Ba=function(){bt(this.g,"a")};sl.prototype.Aa=function(t){bt(this.g,new ux(t))};sl.prototype.za=function(t){bt(this.g,new cx)};sl.prototype.ya=function(){bt(this.g,"b")};function R6(){this.blockSize=-1}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(Zn,R6);Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Og(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Og(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Og(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Og(this,r),i=0;break}}this.h=i,this.i+=e};Zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var P6={};function bw(t){return-128<=t&&128>t?L9(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function dr(t){if(isNaN(t)||!isFinite(t))return ga;if(0>t)return Ct(dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=M_;return new we(e,0)}function hx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(hx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dr(Math.pow(e,8)),r=ga,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=dr(Math.pow(e,s)),r=r.R(s).add(dr(o))):(r=r.R(n),r=r.add(dr(o)))}return r}var M_=4294967296,ga=bw(0),L_=bw(1),V1=bw(16777216);M=we.prototype;M.ea=function(){if(Pn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:M_+r)*e,e*=M_}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ur(this))return"0";if(Pn(this))return"-"+Ct(this).toString(t);for(var e=dr(Math.pow(t,6)),n=this,r="";;){var i=_f(n,e).g;n=yf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ur(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ur(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Pn(t){return t.h==-1}M.X=function(t){return t=yf(this,t),Pn(t)?-1:Ur(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(L_)}M.abs=function(){return Pn(this)?Ct(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function yf(t,e){return t.add(Ct(e))}M.R=function(t){if(Ur(this)||Ur(t))return ga;if(Pn(this))return Pn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Pn(t))return Ct(this.R(Ct(t)));if(0>this.X(V1)&&0>t.X(V1))return dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,bh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function bh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Al(t,e){this.g=t,this.h=e}function _f(t,e){if(Ur(e))throw Error("division by zero");if(Ur(t))return new Al(ga,ga);if(Pn(t))return e=_f(Ct(t),e),new Al(Ct(e.g),Ct(e.h));if(Pn(e))return e=_f(t,Ct(e)),new Al(Ct(e.g),e.h);if(30<t.g.length){if(Pn(t)||Pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=L_,r=e;0>=r.X(t);)n=U1(n),r=U1(r);var i=No(n,1),s=No(r,1);for(r=No(r,2),n=No(n,2);!Ur(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=No(r,1),n=No(n,1)}return e=yf(t,i.R(e)),new Al(i,e)}for(i=ga;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=dr(n),o=s.R(e);Pn(o)||0<o.X(t);)n-=r,s=dr(n),o=s.R(e);Ur(s)&&(s=L_),i=i.add(s),t=yf(t,o)}return new Al(i,t)}M.gb=function(t){return _f(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function U1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function No(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}gf.prototype.createWebChannel=gf.prototype.g;vn.prototype.send=vn.prototype.u;vn.prototype.open=vn.prototype.m;vn.prototype.close=vn.prototype.close;Fp.NO_ERROR=0;Fp.TIMEOUT=8;Fp.HTTP_ERROR=6;Pk.COMPLETE="complete";bk.EventType=Mc;Mc.OPEN="a";Mc.CLOSE="b";Mc.ERROR="c";Mc.MESSAGE="d";_t.prototype.listen=_t.prototype.O;qe.prototype.listenOnce=qe.prototype.P;qe.prototype.getLastError=qe.prototype.Sa;qe.prototype.getLastErrorCode=qe.prototype.Ia;qe.prototype.getStatus=qe.prototype.da;qe.prototype.getResponseJson=qe.prototype.Wa;qe.prototype.getResponseText=qe.prototype.ja;qe.prototype.send=qe.prototype.ha;qe.prototype.setWithCredentials=qe.prototype.Oa;Zn.prototype.digest=Zn.prototype.l;Zn.prototype.reset=Zn.prototype.reset;Zn.prototype.update=Zn.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=dr;we.fromString=hx;var b6=function(){return new gf},k6=function(){return Lp()},Ng=Fp,x6=Pk,O6=wo,j1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kh=bk,N6=qe,D6=Zn,ya=we;const z1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Ip("@firebase/firestore");function Rl(){return ro.logLevel}function D(t,...e){if(ro.logLevel<=le.DEBUG){const n=e.map(kw);ro.debug(`Firestore (${ol}): ${t}`,...n)}}function Er(t,...e){if(ro.logLevel<=le.ERROR){const n=e.map(kw);ro.error(`Firestore (${ol}): ${t}`,...n)}}function Na(t,...e){if(ro.logLevel<=le.WARN){const n=e.map(kw);ro.warn(`Firestore (${ol}): ${t}`,...n)}}function kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function be(t,e){t||J()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class L6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new dx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Lt(e)}}class $6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new U6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new at(0,0))}static max(){return new ee(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Xu{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const B6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Xu{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return B6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H($e.fromString(e))}static fromName(e){return new H($e.fromString(e).popFirst(5))}static empty(){return new H($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new $e(e.slice()))}}function W6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ns(i,H.empty(),e)}function H6(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(ee.min(),H.empty(),-1)}static max(){return new ns(ee.max(),H.empty(),-1)}}function q6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==G6)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new nu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ow(r.target.error);this.V.reject(new nu(e,i))}}static open(e,n,r,i){try{return new xw(n,e.transaction(i,r))}catch(s){throw new nu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Y6(n)}}class Ms{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ms.S(Ze())===12.2&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),bs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Sb())return!1;if(Ms.C())return!0;const e=Ze(),n=Ms.S(e),r=0<n&&n<10,i=Ms.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new B(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new B(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new nu(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=xw.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),P.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Q6{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return bs(this.k.delete())}}class nu extends B{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jc(t){return t.name==="IndexedDbTransactionError"}class Y6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),bs(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),bs(this.store.add(e))}get(e){return bs(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),bs(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),bs(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new P((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new P((r,i)=>{n.onerror=s=>{const o=Ow(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Q6(a),u=n(a.primaryKey,a.value,l);if(u instanceof P){const c=u.catch(h=>(l.done(),P.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function bs(t){return new P((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Ow(r.target.error);n(i)}})}let B1=!1;function Ow(t){const e=Ms.S(Ze());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B1||(B1=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Nw._e=-1;function qp(t){return t==null}function vf(t){return t===0&&1/t==-1/0}function X6(t){return typeof t=="number"&&Number.isInteger(t)&&!vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function px(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tt=class F_{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new F_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new F_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}},xh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wi=class xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=s??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new H1(this.data.getIterator())}getIteratorFrom(e){return new H1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class H1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new kt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mx("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const J6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(be(!!t),typeof t=="string"){let e=0;const n=J6.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function io(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mw(t){const e=t.mapValue.fields.__previous_value__;return Dw(e)?Mw(e):e}function Ju(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dw(t)?4:ez(t)?9007199254740991:10:J()}function Tr(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return io(i.bytesValue).isEqual(io(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?vf(o)===vf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(W1(o)!==W1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function ec(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function Ma(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return q1(t.timestampValue,e.timestampValue);case 4:return q1(Ju(t),Ju(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){const a=io(s),l=io(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=me(a[u],l[u]);if(c!==0)return c}return me(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me(Ye(s.latitude),Ye(o.latitude));return a!==0?a:me(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ma(a[u],l[u]);if(c)return c}return me(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Oh.mapValue&&o===Oh.mapValue)return 0;if(s===Oh.mapValue)return 1;if(o===Oh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=me(l[h],c[h]);if(d!==0)return d;const f=Ma(a[l[h]],u[c[h]]);if(f!==0)return f}return me(l.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=rs(t),r=rs(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function La(t){return $_(t)}function $_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=$_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${$_(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function V_(t){return!!t&&"integerValue"in t}function Lw(t){return!!t&&"arrayValue"in t}function G1(t){return!!t&&"nullValue"in t}function K1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ez(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ru(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){al(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(ru(this.value))}}function gx(t){const e=[];return al(t.fields,(n,r)=>{const i=new Rt([n]);if(ud(r)){const s=gx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,ee.min(),ee.min(),ee.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,ee.min(),ee.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ee.min(),ee.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.position=e,this.inclusive=n}}function Q1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Ma(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function tz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{}class it extends yx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rz(e,n,r):n==="array-contains"?new oz(e,r):n==="in"?new az(e,r):n==="not-in"?new lz(e,r):n==="array-contains-any"?new uz(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iz(e,r):new sz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ma(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends yx{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Sr(e,n)}matches(e){return _x(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _x(t){return t.op==="and"}function vx(t){return nz(t)&&_x(t)}function nz(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function U_(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+La(t.value);if(vx(t))return t.filters.map(e=>U_(e)).join(",");{const e=t.filters.map(n=>U_(n)).join(",");return`${t.op}(${e})`}}function wx(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wx(o,i.filters[a]),!0):!1}(t,e):void J()}function Ex(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${La(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ex).join(" ,")+"}"}(t):"Filter"}class rz extends it{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class iz extends it{constructor(e,n){super(e,"in",n),this.keys=Tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sz extends it{constructor(e,n){super(e,"not-in",n),this.keys=Tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class oz extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lw(n)&&ec(n.arrayValue,this.value)}}class az extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class lz extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}}class uz extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function X1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new cz(t,e,n,r,i,s,o)}function Fw(t){const e=te(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>U_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>La(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>La(r)).join(",")),e.ce=n}return e.ce}function $w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y1(t.startAt,e.startAt)&&Y1(t.endAt,e.endAt)}function j_(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function hz(t,e,n,r,i,s,o,a){return new Gp(t,e,n,r,i,s,o,a)}function Vw(t){return new Gp(t)}function J1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dz(t){return t.collectionGroup!==null}function iu(t){const e=te(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ef(s,r))}),n.has(Rt.keyField().canonicalString())||e.le.push(new Ef(Rt.keyField(),r))}return e.le}function _r(t){const e=te(t);return e.he||(e.he=fz(e,iu(t))),e.he}function fz(t,e){if(t.limitType==="F")return X1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ef(i.field,s)});const n=t.endAt?new wf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wf(t.startAt.position,t.startAt.inclusive):null;return X1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z_(t,e,n){return new Gp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return $w(_r(t),_r(e))&&t.limitType===e.limitType}function Sx(t){return`${Fw(_r(t))}|lt:${t.limitType}`}function Vo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ex(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>La(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>La(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Q1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,iu(r),i)||r.endAt&&!function(o,a,l){const u=Q1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,iu(r),i))}(t,e)}function pz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ix(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const s=mz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mz(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ma(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return px(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new tt(H.comparator);function ti(){return gz}const Cx=new tt(H.comparator);function zl(...t){let e=Cx;for(const n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=Cx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return su()}function Rx(){return su()}function su(){return new ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const yz=new tt(H.comparator),_z=new kt(H.comparator);function ue(...t){let e=_z;for(const n of t)e=e.add(n);return e}const vz=new kt(me);function wz(){return vz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function bx(t){return{integerValue:""+t}}function Ez(t,e){return X6(e)?bx(e):Px(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function Tz(t,e,n){return t instanceof Tf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Dw(s)&&(s=Mw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tc?xx(t,e):t instanceof nc?Ox(t,e):function(i,s){const o=kx(i,s),a=Z1(o)+Z1(i.Ie);return V_(o)&&V_(i.Ie)?bx(a):Px(i.serializer,a)}(t,e)}function Sz(t,e,n){return t instanceof tc?xx(t,e):t instanceof nc?Ox(t,e):n}function kx(t,e){return t instanceof Sf?function(r){return V_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tf extends Yp{}class tc extends Yp{constructor(e){super(),this.elements=e}}function xx(t,e){const n=Nx(e);for(const r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends Yp{constructor(e){super(),this.elements=e}}function Ox(t,e){let n=Nx(e);for(const r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}class Sf extends Yp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Z1(t){return Ye(t.integerValue||t.doubleValue)}function Nx(t){return Lw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Iz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tc&&i instanceof tc||r instanceof nc&&i instanceof nc?Da(r.elements,i.elements,Tr):r instanceof Sf&&i instanceof Sf?Tr(r.Ie,i.Ie):r instanceof Tf&&i instanceof Tf}(t.transform,e.transform)}class Cz{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function Dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lx(t.key,qr.none()):new zc(t.key,t.data,qr.none());{const n=t.data,r=bn.empty();let i=new kt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Eo(t.key,r,new zn(i.toArray()),qr.none())}}function Az(t,e,n){t instanceof zc?function(i,s,o){const a=i.value.clone(),l=tI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Eo?function(i,s,o){if(!cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Mx(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof zc?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=s.value.clone(),c=nI(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Eo?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=nI(s.fieldTransforms,l,o),c=o.data;return c.setAll(Mx(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Rz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kx(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function eI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Da(r,i,(s,o)=>Iz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Xp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends Xp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tI(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sz(o,a,n[i]))}return r}function nI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Tz(s,o,e))}return r}class Lx extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pz extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Az(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rx();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Dx(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>eI(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>eI(n,r))}}class Uw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return yz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Uw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,de;function Oz(t){switch(t){default:return J();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Fx(t){if(t===void 0)return Er("GRPC error has no .code"),k.UNKNOWN;switch(t){case Qe.OK:return k.OK;case Qe.CANCELLED:return k.CANCELLED;case Qe.UNKNOWN:return k.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return k.INTERNAL;case Qe.UNAVAILABLE:return k.UNAVAILABLE;case Qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Qe.NOT_FOUND:return k.NOT_FOUND;case Qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Qe.ABORTED:return k.ABORTED;case Qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Qe.DATA_LOSS:return k.DATA_LOSS;default:return J()}}(de=Qe||(Qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=new ya([4294967295,4294967295],0);function rI(t){const e=Nz().encode(t),n=new D6;return n.update(e),new Uint8Array(n.digest())}function iI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ya([n,r],0),new ya([i,s],0)]}class jw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ya.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(ya.fromNumber(r)));return i.compare(Dz)===1&&(i=new ya([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=rI(e),[r,i]=iI(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new jw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=rI(e),[r,i]=iI(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(ee.min(),i,new tt(me),ti(),ue())}}class Bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class $x{constructor(e,n){this.targetId=e,this.fe=n}}class Vx{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sI{constructor(){this.ge=0,this.pe=aI(),this.ye=Bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Bc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=aI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Mz{constructor(e){this.Be=e,this.ke=new Map,this.qe=ti(),this.Qe=oI(),this.Ke=new tt(me)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(j_(s))if(r===0){const o=new H(s.path);this.We(n,o,$t.newNoDocument(o,ee.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=io(r).toUint8Array()}catch(l){if(l instanceof mx)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jw(o,i,s)}catch(l){return Na(l instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&j_(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$t.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Jp(e,n,this.Ke,this.qe,r);return this.qe=ti(),this.Qe=oI(),this.Ke=new tt(me),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new sI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kt(me),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new sI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function oI(){return new tt(H.comparator)}function aI(){return new tt(H.comparator)}const Lz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Fz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$z=(()=>({and:"AND",or:"OR"}))();class Vz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B_(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ux(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uz(t,e){return If(t,e.toTimestamp())}function vr(t){return be(!!t),ee.fromTimestamp(function(n){const r=rs(n);return new at(r.seconds,r.nanos)}(t))}function zw(t,e){return W_(t,e).canonicalString()}function W_(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jx(t){const e=$e.fromString(t);return be(qx(e)),e}function H_(t,e){return zw(t.databaseId,e.path)}function Dg(t,e){const n=jx(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Bx(n))}function zx(t,e){return zw(t.databaseId,e)}function jz(t){const e=jx(t);return e.length===4?$e.emptyPath():Bx(e)}function q_(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bx(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lI(t,e,n){return{name:H_(t,e),fields:n.value.mapValue.fields}}function zz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),Bt.fromBase64String(c||"")):(be(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:Fx(u.code);return new B(c,u.message||"")}(o);n=new Vx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dg(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ee.min(),a=new bn({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new hd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dg(t,r.document),s=r.readTime?vr(r.readTime):ee.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dg(t,r.document),s=r.removedTargetIds||[];n=new hd([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new xz(i,s),a=r.targetId;n=new $x(a,o)}}return n}function Bz(t,e){let n;if(e instanceof zc)n={update:lI(t,e.key,e.value)};else if(e instanceof Lx)n={delete:H_(t,e.key)};else if(e instanceof Eo)n={update:lI(t,e.key,e.data),updateMask:Jz(e.fieldMask)};else{if(!(e instanceof Pz))return J();n={verify:H_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Uz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function Wz(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(ee.min())&&(o=vr(s)),new Cz(o,i.transformResults||[])}(n,e))):[]}function Hz(t,e){return{documents:[zx(t,e.path)]}}function qz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zx(t,i);const s=function(u){if(u.length!==0)return Hx(Sr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Uo(d.field),direction:Qz(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=B_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function Gz(t){let e=jz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=Wx(h);return d instanceof Sr&&vx(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(m){return new Ef(jo(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,qp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new wf(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new wf(f,d)}(n.endAt)),hz(e,i,o,s,a,"F",l,u)}function Kz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jo(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return it.create(jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>Wx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function Qz(t){return Lz[t]}function Yz(t){return Fz[t]}function Xz(t){return $z[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function jo(t){return Rt.fromServerFormat(t.fieldPath)}function Hx(t){return t instanceof it?function(n){if(n.op==="=="){if(K1(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(G1(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K1(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(G1(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:Yz(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>Hx(i));return r.length===1?r[0]:{compositeFilter:{op:Xz(n.op),filters:r}}}(t):J()}function Jz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.ct=e}}function eB(t){const e=Gz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?z_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this._n=new nB}addToCollectionParentIndex(e,n){return this._n.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ns.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class nB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fa(0)}static Ln(){return new Fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.changes=new ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,zn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=su(),a=function(){return su()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Eo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ou(c.mutation,u,c.mutation.getFieldMask(),at.now())):o.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new iB(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=su();let i=new tt((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Rx();c.forEach(d=>{if(!s.has(d)){const f=Dx(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Ls());let a=-1,l=s;return o.next(u=>P.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(c=>({batchId:a,changes:Ax(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zl();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,l=>{const u=function(h,d){return new Gp(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$t.newInvalidDocument(c)))});let a=zl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ou(c.mutation,u,zn.empty(),at.now()),Qp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return P.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:eB(i.bundledQuery),readTime:vr(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(){this.overlays=new tt(H.comparator),this.hr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ls(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kz(n,r));let s=this.hr.get(n);s===void 0&&(s=ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Pr=new kt(dt.Ir),this.Tr=new kt(dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new $e([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new $e([])),r=new dt(n,e),i=new dt(n,e+1);let s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||me(e.pr,n.pr)}static Er(e,n){return me(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new kt(dt.Ir)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bz(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(me);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),P.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new dt(new H(s),0);let a=new kt(me);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),P.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return P.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dt(n,0),i=this.wr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.vr=e,this.docs=function(){return new tt(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||q6(H6(c),r)<=0||(i.has(c.key)||Qp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Fr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cB(this)}getSize(e){return P.resolve(this.size)}}class cB extends rB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.persistence=e,this.Mr=new ll(n=>Fw(n),$w),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Bw,this.targetCount=0,this.Lr=Fa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),P.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.qn(n),P.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n){this.Br={},this.overlays={},this.kr=new Nw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new hB(this),this.indexManager=new tB,this.remoteDocumentCache=function(i){return new uB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Zz(n),this.$r=new oB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new lB(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new fB(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fB extends K6{constructor(e){super(),this.currentSequenceNumber=e}}class Ww{constructor(e){this.persistence=e,this.zr=new Bw,this.jr=null}static Hr(e){return new Ww(e)}get Jr(){if(this.jr)return this.jr;throw J()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),P.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Jr,r=>{const i=H.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return P.or([()=>P.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return KU()?8:Ms.v(Ze())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new pB;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Rl()<=le.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),P.resolve()):(Rl()<=le.DEBUG&&D("QueryEngine","Query:",Vo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Rl()<=le.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):P.resolve())}ji(e,n){if(J1(n))return P.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=z_(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,z_(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return J1(n)||i.isEqual(ee.min())?P.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?P.resolve(null):(Rl()<=le.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vo(n)),this.es(e,o,n,W6(i,-1)).next(a=>a))})}Zi(e,n){let r=new kt(Ix(e));return n.forEach((i,s)=>{Qp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Rl()<=le.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.zi.getDocumentsMatchingQuery(e,n,ns.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new tt(me),this.rs=new ll(s=>Fw(s),$w),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function yB(t,e,n,r){return new gB(t,e,n,r)}async function Gx(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function _B(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=P.resolve();return d.forEach(m=>{f=f.next(()=>c.getEntry(l,m)).next(_=>{const v=u.docVersions.get(m);be(v!==null),_.version.compareTo(v)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Kx(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function vB(t,e){const n=te(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Bt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(_,v,g){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=ti(),u=ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(wB(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ee.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function wB(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function EB(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TB(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ki(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function G_(t,e,n){const r=te(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jc(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function uI(t,e,n){const r=te(t);let i=ee.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=te(l),d=h.rs.get(c);return d!==void 0?P.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:ue())).next(a=>(SB(r,pz(e),a),{documents:a,hs:s})))}function SB(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class cI{constructor(){this.activeTargetIds=wz()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IB{constructor(){this.no=new cI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Mg(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class PB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Mg(),l=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Na("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=AB[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Mg();return new Promise((o,a)=>{const l=new N6;l.setWithCredentials(!0),l.listenOnce(x6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ng.NO_ERROR:const c=l.getResponseJson();D(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ng.TIMEOUT:D(Dt,`RPC '${e}' ${s} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const h=l.getStatus();if(D(Dt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const m=function(v){const g=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(g)>=0?g:k.UNKNOWN}(f.status);a(new B(m,f.message))}else a(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{D(Dt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Dt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Mg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=b6(),a=k6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Dt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const m=new RB({lo:v=>{f?D(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(D(Dt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),D(Dt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},ho:()=>h.close()}),_=(v,g,p)=>{v.listen(g,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return _(h,kh.EventType.OPEN,()=>{f||D(Dt,`RPC '${e}' stream ${i} transport opened.`)}),_(h,kh.EventType.CLOSE,()=>{f||(f=!0,D(Dt,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),_(h,kh.EventType.ERROR,v=>{f||(f=!0,Na(Dt,`RPC '${e}' stream ${i} transport errored:`,v),m.Vo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),_(h,kh.EventType.MESSAGE,v=>{var g;if(!f){const p=v.data[0];be(!!p);const y=p,w=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(w){D(Dt,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let E=function(V){const j=Qe[V];if(j!==void 0)return Fx(j)}(I),S=w.message;E===void 0&&(E=k.INTERNAL,S="Unknown error status: "+I+" with message "+w.message),f=!0,m.Vo(new B(E,S)),h.close()}else D(Dt,`RPC '${e}' stream ${i} received:`,p),m.mo(p)}}),_(a,O6.STAT_EVENT,v=>{v.stat===j1.PROXY?D(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===j1.NOPROXY&&D(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new Vz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Qx(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bB extends Yx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=zz(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?vr(o.readTime):ee.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=q_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=j_(l)?{documents:Hz(s,l)}:{query:qz(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ux(s,o.resumeToken);const u=B_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=If(s,o.snapshotVersion.toTimestamp());const u=B_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Kz(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=q_(this.serializer),n.removeTarget=e,this.t_(n)}}class kB extends Yx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Wz(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.T_(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=q_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bz(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,W_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,W_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class OB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Er(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{To(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=te(l);u.v_.add(4),await Wc(u),u.x_.set("Unknown"),u.v_.delete(4),await em(u)}(this))})}),this.x_=new OB(r,i)}}async function em(t){if(To(t))for(const e of t.F_)await e(!0)}async function Wc(t){for(const e of t.F_)await e(!1)}function Xx(t,e){const n=te(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Qw(n)?Kw(n):ul(n).Jo()&&Gw(n,e))}function qw(t,e){const n=te(t),r=ul(n);n.C_.delete(e),r.Jo()&&Jx(n,e),n.C_.size===0&&(r.Jo()?r.Xo():To(n)&&n.x_.set("Unknown"))}function Gw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).c_(e)}function Jx(t,e){t.O_.Oe(e),ul(t).l_(e)}function Kw(t){t.O_=new Mz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.x_.p_()}function Qw(t){return To(t)&&!ul(t).Ho()&&t.C_.size>0}function To(t){return te(t).v_.size===0}function Zx(t){t.O_=void 0}async function DB(t){t.C_.forEach((e,n)=>{Gw(t,e)})}async function MB(t,e){Zx(t),Qw(t)?(t.x_.S_(e),Kw(t)):t.x_.set("Unknown")}async function LB(t,e,n){if(t.x_.set("Online"),e instanceof Vx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cf(t,r)}else if(e instanceof hd?t.O_.$e(e):e instanceof $x?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ee.min()))try{const r=await Kx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Bt.EMPTY_BYTE_STRING,c.snapshotVersion)),Jx(s,l);const h=new ki(c.target,l,u,c.sequenceNumber);Gw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Cf(t,r)}}async function Cf(t,e,n){if(!jc(e))throw e;t.v_.add(1),await Wc(t),t.x_.set("Offline"),n||(n=()=>Kx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await em(t)})}function eO(t,e){return e().catch(n=>Cf(t,n,e))}async function tm(t){const e=te(t),n=is(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;FB(e);)try{const i=await EB(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,$B(e,i)}catch(i){await Cf(e,i)}tO(e)&&nO(e)}function FB(t){return To(t)&&t.D_.length<10}function $B(t,e){t.D_.push(e);const n=is(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function tO(t){return To(t)&&!is(t).Ho()&&t.D_.length>0}function nO(t){is(t).start()}async function VB(t){is(t).d_()}async function UB(t){const e=is(t);for(const n of t.D_)e.I_(n.mutations)}async function jB(t,e,n){const r=t.D_.shift(),i=Uw.from(r,e,n);await eO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function zB(t,e){e&&is(t).P_&&await async function(r,i){if(function(o){return Oz(o)&&o!==k.ABORTED}(i.code)){const s=r.D_.shift();is(r).Zo(),await eO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),tO(t)&&nO(t)}async function dI(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=To(n);n.v_.add(3),await Wc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await em(n)}async function BB(t,e){const n=te(t);e?(n.v_.delete(2),await em(n)):e||(n.v_.add(2),await Wc(n),n.x_.set("Unknown"))}function ul(t){return t.N_||(t.N_=function(n,r,i){const s=te(n);return s.R_(),new bB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:DB.bind(null,t),To:MB.bind(null,t),u_:LB.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Qw(t)?Kw(t):t.x_.set("Unknown")):(await t.N_.stop(),Zx(t))})),t.N_}function is(t){return t.L_||(t.L_=function(n,r,i){const s=te(n);return s.R_(),new kB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:VB.bind(null,t),To:zB.bind(null,t),E_:UB.bind(null,t),T_:jB.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await tm(t)):(await t.L_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Yw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xw(t,e){if(Er("AsyncQueue",`${e}: ${t}`),jc(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.B_=new tt(H.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):J():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $a{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $a(e,n,_a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class HB{constructor(){this.queries=new ll(e=>Sx(e),Kp),this.onlineState="Unknown",this.W_=new Set}}async function qB(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new WB,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Xw(o,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&Jw(n)}async function GB(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KB(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&Jw(n)}function QB(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Jw(t){t.W_.forEach(e=>{e.next()})}var K_,pI;(pI=K_||(K_={})).j_="default",pI.Cache="cache";class YB{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==K_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.key=e}}class iO{constructor(e){this.key=e}}class XB{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ue(),this.mutatedKeys=ue(),this.ha=Ix(e),this.Pa=new _a(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new fI,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Qp(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?m!==_&&(r.track({type:3,doc:f}),v=!0):this.da(d,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.ha(f,l)>0||u&&this.ha(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),v=!0):d&&!f&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,h)=>function(f,m){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return _(f)-_(m)}(c.type,h.type)||this.ha(c.doc,h.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new $a(this.query,e.Pa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new fI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ue(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new iO(r))}),this.la.forEach(r=>{e.has(r)||n.push(new rO(r))}),n}fa(e){this.ua=e.hs,this.la=ue();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return $a.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class JB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZB{constructor(e){this.key=e,this.pa=!1}}class e5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ll(a=>Sx(a),Kp),this.Sa=new Map,this.ba=new Set,this.Da=new tt(H.comparator),this.Ca=new Map,this.va=new Bw,this.Fa={},this.Ma=new Map,this.xa=Fa.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function t5(t,e,n=!0){const r=cO(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await sO(r,e,n,!0),i}async function n5(t,e){const n=cO(t);await sO(n,e,!0,!1)}async function sO(t,e,n,r){const i=await TB(t.localStore,_r(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await r5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Xx(t.remoteStore,i),a}async function r5(t,e,n,r,i){t.Na=(h,d,f)=>async function(_,v,g,p){let y=v.view.Ta(g);y.Xi&&(y=await uI(_.localStore,v.query,!1).then(({documents:S})=>v.view.Ta(S,y)));const w=p&&p.targetChanges.get(v.targetId),I=p&&p.targetMismatches.get(v.targetId)!=null,E=v.view.applyChanges(y,_.isPrimaryClient,w,I);return gI(_,v.targetId,E.Va),E.snapshot}(t,h,d,f);const s=await uI(t.localStore,e,!0),o=new XB(e,s.hs),a=o.Ta(s.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);gI(t,n,u.Va);const c=new JB(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function i5(t,e,n){const r=te(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Kp(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await G_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qw(r.remoteStore,i.targetId),Q_(r,i.targetId)}).catch(Uc)):(Q_(r,i.targetId),await G_(r.localStore,i.targetId,!0))}async function s5(t,e){const n=te(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qw(n.remoteStore,r.targetId))}async function o5(t,e,n){const r=f5(t);try{const i=await function(o,a){const l=te(o),u=at.now(),c=a.reduce((f,m)=>f.add(m.key),ue());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ti(),_=ue();return l.os.getEntries(f,c).next(v=>{m=v,m.forEach((g,p)=>{p.isValidDocument()||(_=_.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(v=>{h=v;const g=[];for(const p of a){const y=Rz(p,h.get(p.key).overlayedDocument);y!=null&&g.push(new Eo(p.key,y,gx(y.value.mapValue),qr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,g,a)}).next(v=>{d=v;const g=v.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,v.batchId,g)})}).then(()=>({batchId:d.batchId,changes:Ax(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new tt(me)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Hc(r,i.changes),await tm(r.remoteStore)}catch(i){const s=Xw(i,"Failed to persist write");n.reject(s)}}async function oO(t,e){const n=te(t);try{const r=await vB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?be(o.pa):i.removedDocuments.size>0&&(be(o.pa),o.pa=!1))}),await Hc(n,r,e)}catch(r){await Uc(r)}}function mI(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.G_(a)&&(u=!0)}),u&&Jw(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a5(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new tt(H.comparator);o=o.insert(s,$t.newNoDocument(s,ee.min()));const a=ue().add(s),l=new Jp(ee.min(),new Map,new tt(me),o,a);await oO(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),Zw(r)}else await G_(r.localStore,e,!1).then(()=>Q_(r,e,n)).catch(Uc)}async function l5(t,e){const n=te(t),r=e.batch.batchId;try{const i=await _B(n.localStore,e);lO(n,r,null),aO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,i)}catch(i){await Uc(i)}}async function u5(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);lO(r,e,n),aO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,i)}catch(i){await Uc(i)}}function aO(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function lO(t,e,n){const r=te(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Q_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||uO(t,r)})}function uO(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(qw(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),Zw(t))}function gI(t,e,n){for(const r of n)r instanceof rO?(t.va.addReference(r.key,e),c5(t,r)):r instanceof iO?(D("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||uO(t,r.key)):J()}function c5(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ba.add(r),Zw(t))}function Zw(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new H($e.fromString(e)),r=t.xa.next();t.Ca.set(r,new ZB(n)),t.Da=t.Da.insert(n,r),Xx(t.remoteStore,new ki(_r(Vw(n.path)),r,"TargetPurposeLimboResolution",Nw._e))}}async function Hc(t,e,n){const r=te(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Hw.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,u){const c=te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(u,d=>P.forEach(d.qi,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>P.forEach(d.Qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!jc(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ns.get(d),m=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(d,_)}}}(r.localStore,s))}async function h5(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await Gx(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new B(k.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.us)}}function d5(t,e){const n=te(t),r=n.Ca.get(e);if(r&&r.pa)return ue().add(r.key);{let i=ue();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function cO(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a5.bind(null,e),e.ya.u_=KB.bind(null,e.eventManager),e.ya.La=QB.bind(null,e.eventManager),e}function f5(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u5.bind(null,e),e}class yI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yB(this.persistence,new mB,e.initialUser,this.serializer)}createPersistence(e){return new dB(Ww.Hr,this.serializer)}createSharedClientState(e){return new IB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class p5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=h5.bind(null,this.syncEngine),await BB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HB}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(s){return new PB(s)}(e.databaseInfo);return function(s,o,a,l){return new xB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new NB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mI(this.syncEngine,n,0),function(){return hI.D()?new hI:new CB}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new e5(i,s,o,a,l,u);return c&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=te(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Wc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=fx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Gx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _I(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _5(t);D("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dI(e.remoteStore,i)),t._onlineComponents=e}function y5(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!y5(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new yI)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await Fg(t,new yI);return t._offlineComponents}async function hO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await _I(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await _I(t,new p5))),t._onlineComponents}function v5(t){return hO(t).then(e=>e.syncEngine)}async function w5(t){const e=await hO(t),n=e.eventManager;return n.onListen=t5.bind(null,e.syncEngine),n.onUnlisten=i5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s5.bind(null,e.syncEngine),n}function E5(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new m5({next:d=>{o.enqueueAndForget(()=>GB(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new YB(Vw(a.path),c,{includeMetadataChanges:!0,ta:!0});return qB(s,h)}(await w5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T5(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wI(t){if(!H.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EI(t){if(H.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eE(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M6;switch(r.type){case"firstParty":return new V6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vI.get(n);r&&(D("ComponentProvider","Removing Datastore"),vI.delete(n),r.terminate())}(this),Promise.resolve()}}function S5(t,e,n,r={}){var i;const s=(t=rc(t,nm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=wb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(u)}t._authCredentials=new L6(new dx(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tE(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Hi extends tE{constructor(e,n,r){super(e,n,Vw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new H(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function I5(t,e,...n){if(t=et(t),fO("collection","path",e),t instanceof nm){const r=$e.fromString(e,...n);return EI(r),new Hi(t,null,r)}{if(!(t instanceof pn||t instanceof Hi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return EI(r),new Hi(t.firestore,null,r)}}function C5(t,e,...n){if(t=et(t),arguments.length===1&&(e=fx.newId()),fO("doc","path",e),t instanceof nm){const r=$e.fromString(e,...n);return wI(r),new pn(t,null,new H(r))}{if(!(t instanceof pn||t instanceof Hi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return wI(r),new pn(t.firestore,t instanceof Hi?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Qx(this,"async_queue_retry"),this.cu=()=>{const n=Lg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Hr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!jc(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Yw.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&J()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class nE extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new A5}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mO(this),this._firestoreClient.terminate()}}function R5(t,e){const n=typeof t=="object"?t:J0(),r=typeof t=="string"?t:e||"(default)",i=Cp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yb("firestore");s&&S5(i,...s)}return i}function pO(t){return t._firestoreClient||mO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Z6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,dO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new g5(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(Bt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Va(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=/^__.*__$/;class b5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function yO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class sE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new sE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Af(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(yO(this.Vu)&&P5.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class k5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Cu(e,n,r,i=!1){return new sE({Vu:e,methodName:n,Du:r,path:Rt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x5(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new k5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O5(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);EO("Data must be an object, but it was:",o,r);const a=vO(r,o);let l,u;if(s.merge)l=new zn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=N5(e,h,n);if(!o.contains(d))throw new B(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);M5(c,d)||c.push(d)}l=new zn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new b5(new bn(a),l,u)}function _O(t,e){if(wO(t=et(t)))return EO("Unsupported field value:",e,t),vO(t,e);if(t instanceof gO)return function(r,i){if(!yO(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_O(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ez(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:If(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(i.serializer,s)}}if(r instanceof iE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:Ux(i.serializer,r._byteString)};if(r instanceof pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${eE(r)}`)}(t,e)}function vO(t,e){const n={};return px(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,(r,i)=>{const s=_O(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof iE||t instanceof Va||t instanceof pn||t instanceof gO)}function EO(t,e,n){if(!wO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=eE(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function N5(t,e,n){if((e=et(e))instanceof rE)return e._internalPath;if(typeof e=="string")return TO(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const D5=new RegExp("[~\\*/\\[\\]]");function TO(t,e,n){if(e.search(D5)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rE(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(k.INVALID_ARGUMENT,a+t+l)}function M5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L5 extends SO{data(){return super.data()}}function IO(t,e){return typeof e=="string"?TO(t,e):e instanceof rE?e._internalPath:e._delegate._internalPath}class F5{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new iE(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=rs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);be(qx(r));const i=new Zu(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CO extends SO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new U5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class U5 extends CO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t){t=rc(t,pn);const e=rc(t.firestore,nE);return E5(pO(e),t._key).then(n=>H5(e,t,n))}class z5 extends F5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function B5(t,e,n){t=rc(t,pn);const r=rc(t.firestore,nE),i=$5(t.converter,e,n);return W5(r,[O5(x5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function W5(t,e){return function(r,i){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>o5(await v5(r),i,s)),s.promise}(pO(t),e)}function H5(t,e,n){const r=n.docs.get(e._key),i=new z5(t);return new CO(t,i,e._key,r,new V5(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ol=i})(_o),eo(new ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new nE(new F6(r.getProvider("auth-internal")),new j6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mr(z1,"4.6.0",e),mr(z1,"4.6.0","esm2017")})();const q5={apiKey:"AIzaSyAnkp7Cdlmpf9PjBnpYwp9-0ze0F47L7hE",authDomain:"nany-services-9a09d.firebaseapp.com",databaseURL:"https://nany-services-9a09d-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"nany-services-9a09d",storageBucket:"nany-services-9a09d.appspot.com",messagingSenderId:"734209943459",appId:"1:734209943459:web:bbf6c4586c1423684a5c16",measurementId:"G-CPK9PRQMWC"},AO=Rb(q5),cl=C9(AO),oE=R5(AO);let G5={data:""},K5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||G5,Q5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Y5=/\/\*[^]*?\*\/|  +/g,SI=/\n+/g,Ai=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ai(o,s):s+"{"+Ai(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ai(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ai.p?Ai.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},br={},RO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+RO(t[n]);return e}return t},X5=(t,e,n,r,i)=>{let s=RO(t),o=br[s]||(br[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!br[o]){let l=s!==t?t:(u=>{let c,h,d=[{}];for(;c=Q5.exec(u.replace(Y5,""));)c[4]?d.shift():c[3]?(h=c[3].replace(SI," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][c[1]]=c[2].replace(SI," ").trim();return d[0]})(t);br[o]=Ai(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&br.g?br.g:null;return n&&(br.g=br[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(br[o],e,r,a),o},J5=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ai(a,""):a===!1?"":a}return r+i+(o??"")},"");function rm(t){let e=this||{},n=t.call?t(e.p):t;return X5(n.unshift?n.raw?J5(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,K5(e.target),e.g,e.o,e.k)}let PO,Y_,X_;rm.bind({g:1});let ni=rm.bind({k:1});function Z5(t,e,n,r){Ai.p=e,PO=t,Y_=n,X_=r}function ys(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Y_&&Y_()},a),n.o=/ *go\d+/.test(l),a.className=rm.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),X_&&u[0]&&X_(a),PO(u,a)}return e?e(i):i}}var eW=t=>typeof t=="function",Rf=(t,e)=>eW(t)?t(e):t,tW=(()=>{let t=0;return()=>(++t).toString()})(),bO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),nW=20,dd=new Map,rW=1e3,II=t=>{if(dd.has(t))return;let e=setTimeout(()=>{dd.delete(t),So({type:4,toastId:t})},rW);dd.set(t,e)},iW=t=>{let e=dd.get(t);e&&clearTimeout(e)},J_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,nW)};case 1:return e.toast.id&&iW(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?J_(t,{type:1,toast:n}):J_(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?II(r):t.toasts.forEach(s=>{II(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},fd=[],pd={toasts:[],pausedAt:void 0},So=t=>{pd=J_(pd,t),fd.forEach(e=>{e(pd)})},sW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oW=(t={})=>{let[e,n]=T.useState(pd);T.useEffect(()=>(fd.push(n),()=>{let i=fd.indexOf(n);i>-1&&fd.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||sW[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},aW=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||tW()}),qc=t=>(e,n)=>{let r=aW(e,t,n);return So({type:2,toast:r}),r.id},dn=(t,e)=>qc("blank")(t,e);dn.error=qc("error");dn.success=qc("success");dn.loading=qc("loading");dn.custom=qc("custom");dn.dismiss=t=>{So({type:3,toastId:t})};dn.remove=t=>So({type:4,toastId:t});dn.promise=(t,e,n)=>{let r=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(dn.success(Rf(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{dn.error(Rf(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var lW=(t,e)=>{So({type:1,toast:{id:t,height:e}})},uW=()=>{So({type:5,time:Date.now()})},cW=t=>{let{toasts:e,pausedAt:n}=oW(t);T.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&dn.dismiss(a.id);return}return setTimeout(()=>dn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=T.useCallback(()=>{n&&So({type:6,time:Date.now()})},[n]),i=T.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(f=>(f.position||u)===(s.position||u)&&f.height),h=c.findIndex(f=>f.id===s.id),d=c.filter((f,m)=>m<h&&f.visible).length;return c.filter(f=>f.visible).slice(...a?[d+1]:[0,d]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:lW,startPause:uW,endPause:r,calculateOffset:i}}},hW=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dW=ni`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fW=ni`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pW=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mW=ni`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gW=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${mW} 1s linear infinite;
`,yW=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_W=ni`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vW=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_W} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wW=ys("div")`
  position: absolute;
`,EW=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TW=ni`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SW=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IW=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?T.createElement(SW,null,e):e:n==="blank"?null:T.createElement(EW,null,T.createElement(gW,{...r}),n!=="loading"&&T.createElement(wW,null,n==="error"?T.createElement(pW,{...r}):T.createElement(vW,{...r})))},CW=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AW=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,RW="0%{opacity:0;} 100%{opacity:1;}",PW="0%{opacity:1;} 100%{opacity:0;}",bW=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kW=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xW=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=bO()?[RW,PW]:[CW(n),AW(n)];return{animation:e?`${ni(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ni(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OW=T.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?xW(t.position||e||"top-center",t.visible):{opacity:0},s=T.createElement(IW,{toast:t}),o=T.createElement(kW,{...t.ariaProps},Rf(t.message,t));return T.createElement(bW,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):T.createElement(T.Fragment,null,s,o))});Z5(T.createElement);var NW=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=T.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return T.createElement("div",{ref:s,className:e,style:n},i)},DW=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:bO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},MW=rm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dh=16,LW=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=cW(n);return T.createElement("div",{style:{position:"fixed",zIndex:9999,top:Dh,left:Dh,right:Dh,bottom:Dh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=DW(c,h);return T.createElement(NW,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?MW:"",style:d},u.type==="custom"?Rf(u.message,u):i?i(u):T.createElement(OW,{toast:u,position:c}))}))},Gn=dn;const md=fs("auth/registerUser",async({email:t,password:e,displayName:n},{rejectWithValue:r})=>{try{const i=await a3(cl,t,e);return await c3(i.user,{displayName:n}),Gn.success("Registration was successful"),{userId:i.user.uid,userName:i.user.displayName}}catch(i){return i.message==="Firebase: Error (auth/email-already-in-use)."?Gn.error("This email is already in use"):Gn.error("Oops, something went wrong. Try again later"),r(i.message)}}),gd=fs("auth/logInUser",async({email:t,password:e},{rejectWithValue:n})=>{try{const r=await l3(cl,t,e);return Gn.success("Login was successful"),{userId:r.user.uid,userName:r.user.displayName}}catch(r){return r.message==="Firebase: Error (auth/invalid-credential)."?Gn.error("Incorrect email or password"):Gn.error("errror"),n(r.message)}}),yd=fs("auth/logOut",async(t,{rejectWithValue:e})=>{try{await f3(cl),Gn.success("Log out successful")}catch(n){return Gn.error("Oops, something went wrong. Try again later"),e(n.message)}}),$g=t=>{t.loading=!0,t.error=null},Vg=(t,e)=>{t.loading=!1,t.error=e.payload},FW={userId:null,userName:null,error:null,loading:!1,currentPage:1},$W=$0({name:"auth",initialState:FW,reducers:{},extraReducers:t=>{t.addCase(md.pending,$g).addCase(md.fulfilled,(e,n)=>{e.loading=!1,e.userId=n.payload.userId,e.userName=n.payload.userName,e.error=null}).addCase(md.rejected,Vg).addCase(gd.pending,$g).addCase(gd.fulfilled,(e,n)=>{e.loading=!1,e.userId=n.payload.userId,e.userName=n.payload.userName,e.error=null}).addCase(gd.rejected,Vg).addCase(yd.pending,$g).addCase(yd.fulfilled,e=>{e.loading=!1,e.userId=null,e.userName=null,e.error=null}).addCase(yd.rejected,Vg)}}),VW=$W.reducer,CI="@firebase/database",AI="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kO="";function UW(t){kO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jW(e)}}catch{}return new zW},Fs=xO("localStorage"),Z_=xO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Ip("@firebase/database"),BW=function(){let t=1;return function(){return t++}}(),OO=function(t){const e=s4(t),n=new t4;n.update(e);const r=n.digest();return K0.encodeByteArray(r)},Gc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Gc.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let Bs=null,RI=!0;const WW=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(va.logLevel=le.VERBOSE,Bs=va.log.bind(va),e&&Z_.set("logging_enabled",!0)):typeof t=="function"?Bs=t:(Bs=null,Z_.remove("logging_enabled"))},Vt=function(...t){if(RI===!0&&(RI=!1,Bs===null&&Z_.get("logging_enabled")===!0&&WW(!0)),Bs){const e=Gc.apply(null,t);Bs(e)}},Kc=function(t){return function(...e){Vt(t,...e)}},ev=function(...t){const e="FIREBASE INTERNAL ERROR: "+Gc(...t);va.error(e)},ri=function(...t){const e=`FIREBASE FATAL ERROR: ${Gc(...t)}`;throw va.error(e),new Error(e)},mn=function(...t){const e="FIREBASE WARNING: "+Gc(...t);va.warn(e)},HW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},aE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},qW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},oo="[MIN_NAME]",ss="[MAX_NAME]",hl=function(t,e){if(t===e)return 0;if(t===oo||e===ss)return-1;if(e===oo||t===ss)return 1;{const n=PI(t),r=PI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},GW=function(t,e){return t===e?0:t<e?-1:1},Pl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},lE=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=rt(e[r]),n+=":",n+=lE(t[e[r]]);return n+="}",n},NO=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const DO=function(t){N(!aE(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},KW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YW(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const XW=new RegExp("^-?(0*)\\d{1,10}$"),JW=-2147483648,ZW=2147483647,PI=function(t){if(XW.test(t)){const e=Number(t);if(e>=JW&&e<=ZW)return e}return null},Qc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mn("Exception was thrown by user callback.",n),e},Math.floor(0))}},eH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},au=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(e)}}class wa{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}wa.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="5",MO="v",LO="s",FO="r",$O="f",VO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UO="ls",jO="p",tv="ac",zO="websocket",BO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function rH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HO(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===zO)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);rH(t)&&(n.ns=t.namespace);const i=[];return ln(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.counters_={}}incrementCounter(e,n=1){Cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return VU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={},jg={};function cE(t){const e=t.toString();return Ug[e]||(Ug[e]=new iH),Ug[e]}function sH(t,e){const n=t.toString();return jg[n]||(jg[n]=e()),jg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="start",aH="close",lH="pLPCommand",uH="pRTLPCB",qO="id",GO="pw",KO="ser",cH="cb",hH="seg",dH="ts",fH="d",pH="dframe",QO=1870,YO=30,mH=QO-YO,gH=25e3,yH=3e4;class na{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(e),this.stats_=cE(n),this.urlFn=l=>(this.appCheckToken&&(l[tv]=this.appCheckToken),HO(n,BO,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new oH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yH)),qW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bI)this.id=a,this.password=l;else if(o===aH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[bI]="t",r[KO]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[cH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[MO]=uE,this.transportSessionId&&(r[LO]=this.transportSessionId),this.lastSessionId&&(r[UO]=this.lastSessionId),this.applicationId&&(r[jO]=this.applicationId),this.appCheckToken&&(r[tv]=this.appCheckToken),typeof location<"u"&&location.hostname&&VO.test(location.hostname)&&(r[FO]=$O);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){na.forceAllow_=!0}static forceDisallow(){na.forceDisallow_=!0}static isAvailable(){return na.forceAllow_?!0:!na.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!KW()&&!QW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pb(n),i=NO(r,mH);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[pH]="t",r[qO]=e,r[GO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class hE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BW(),window[lH+this.uniqueCallbackIdentifier]=e,window[uH+this.uniqueCallbackIdentifier]=n,this.myIFrame=hE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Vt("frame writing exception"),a.stack&&Vt(a.stack),Vt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[qO]=this.myID,e[GO]=this.myPW,e[KO]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+YO+r.length<=QO;){const o=this.pendingSegs.shift();r=r+"&"+hH+i+"="+o.seg+"&"+dH+i+"="+o.ts+"&"+fH+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(gH)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=16384,vH=45e3;let Pf=null;typeof MozWebSocket<"u"?Pf=MozWebSocket:typeof WebSocket<"u"&&(Pf=WebSocket);class jn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=cE(n),this.connURL=jn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[MO]=uE,typeof location<"u"&&location.hostname&&VO.test(location.hostname)&&(o[FO]=$O),n&&(o[LO]=n),r&&(o[UO]=r),i&&(o[tv]=i),s&&(o[jO]=s),HO(e,zO,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fs.set("previous_websocket_failure",!0);try{let r;Tb(),this.mySock=new Pf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pf!==null&&!jn.forceDisallow_}static previouslyFailed(){return Fs.isInMemoryStorage||Fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=NO(n,_H);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jn.responsesRequiredToBeHealthy=2;jn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[na,jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=jn&&jn.isAvailable();let r=n&&!jn.previouslyFailed();if(e.webSocketOnly&&(n||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jn];else{const i=this.transports_=[];for(const s of ic.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ic.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ic.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=6e4,EH=5e3,TH=10*1024,SH=100*1024,zg="t",kI="d",IH="s",xI="r",CH="e",OI="o",NI="a",DI="n",MI="p",AH="h";class RH{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new ic(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=au(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zg in e){const n=e[zg];n===NI?this.upgradeIfSecondaryHealthy_():n===xI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Pl("t",e),r=Pl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:NI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Pl("t",e),r=Pl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Pl(zg,e);if(kI in e){const r=e[kI];if(n===AH){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IH?this.onConnectionShutdown_(r):n===xI?this.onReset_(r):n===CH?ev("Server Error: "+r):n===OI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ev("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),uE!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),au(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(wH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):au(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MI,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends JO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Y0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bf}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=32,FI=768;class Se{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new Se("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function os(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Se(t.pieces_,e)}function ZO(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function tN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Se(e,0)}function st(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Se(n,0)}function oe(t){return t.pieceNum_>=t.pieces_.length}function Gt(t,e){const n=he(t),r=he(e);if(n===null)return e;if(n===r)return Gt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nN(t,e){if(os(t)!==os(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(os(t)>os(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class bH{constructor(e,n){this.errorPrefix_=n,this.parts_=eN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sp(this.parts_[r]);rN(this)}}function kH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sp(e),rN(t)}function xH(t){const e=t.parts_.pop();t.byteLength_-=Sp(e),t.parts_.length>0&&(t.byteLength_-=1)}function rN(t){if(t.byteLength_>FI)throw new Error(t.errorPrefix_+"has a key path longer than "+FI+" bytes ("+t.byteLength_+").");if(t.parts_.length>LI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+LI+") or object contains a cycle "+As(t))}function As(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends JO{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dE}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=1e3,OH=60*5*1e3,$I=30*1e3,NH=1.3,DH=3e4,MH="server_kill",VI=3;class Gr extends XO{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gr.nextPersistentConnectionId_++,this.log_=Kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bl,this.maxReconnectDelay_=OH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Tb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(rt(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Q0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Gr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cr(e,"w")){const r=ka(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||e4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$I)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ZU(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ev("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DH&&(this.reconnectDelay_=bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new RH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{mn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(MH)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&mn(h),l())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],m_(this.interruptReasons_)&&(this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>lE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Se(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=VI&&(this.reconnectDelay_=$I,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=VI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+kO.replace(/\./g,"-")]=1,Y0()?e["framework.cordova"]=1:Eb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bf.getInstance().currentlyOnline();return m_(this.interruptReasons_)&&e}}Gr.nextPersistentConnectionId_=0;Gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ae(oo,e),i=new ae(oo,n);return this.compare(r,i)!==0}minPost(){return ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;class iN extends im{static get __EMPTY_NODE(){return Mh}static set __EMPTY_NODE(e){Mh=e}compare(e,n){return hl(e.name,n.name)}isDefinedOn(e){throw tl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ae.MIN}maxPost(){return new ae(ss,Mh)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new ae(e,Mh)}toString(){return".key"}}const qi=new iN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??nn.EMPTY_NODE,this.right=s??nn.EMPTY_NODE}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pt.RED=!0;pt.BLACK=!1;class LH{copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(e,n=nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pt.BLACK,null,null))}remove(e){return new nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lh(this.root_,null,this.comparator_,!0,e)}}nn.EMPTY_NODE=new LH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t,e){return hl(t.name,e.name)}function fE(t,e){return hl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv;function $H(t){nv=t}const sN=function(t){return typeof t=="number"?"number:"+DO(t):"string:"+t},oN=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cr(e,".sv"),"Priority must be a string or number.")}else N(t===nv||t.isEmpty(),"priority of unexpected type.");N(t===nv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UI;class ht{constructor(e,n=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oN(this.priorityNode_)}static set __childrenNodeConstructor(e){UI=e}static get __childrenNodeConstructor(){return UI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return oe(e)?this:he(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=he(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||os(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+sN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=DO(this.value_):e+=this.value_,this.lazyHash_=OO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ht.VALUE_TYPE_ORDER.indexOf(n),s=ht.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aN,lN;function VH(t){aN=t}function UH(t){lN=t}class jH extends im{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(ss,new ht("[PRIORITY-POST]",lN))}makePost(e,n){const r=aN(e);return new ae(n,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ue=new jH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=Math.log(2);class BH{constructor(e){const n=s=>parseInt(Math.log(s)/zH,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new pt(d,h.node,pt.BLACK,null,null);{const f=parseInt(c/2,10)+l,m=i(l,f),_=i(f+1,u);return h=t[f],d=n?n(h):h,new pt(d,h.node,pt.BLACK,m,_)}},s=function(l){let u=null,c=null,h=t.length;const d=function(m,_){const v=h-m,g=h;h-=m;const p=i(v+1,g),y=t[v],w=n?n(y):y;f(new pt(w,y.node,_,null,p))},f=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const _=l.nextBitIsOne(),v=Math.pow(2,l.count-(m+1));_?d(v,pt.BLACK):(d(v,pt.BLACK),d(v,pt.RED))}return c},o=new BH(t.length),a=s(o);return new nn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;const Do={};class jr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Do&&Ue,"ChildrenNode.ts has not been loaded"),Bg=Bg||new jr({".priority":Do},{".priority":Ue}),Bg}get(e){const n=ka(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof nn?n:null}hasIndex(e){return Cr(this.indexSet_,e.toString())}addIndex(e,n){N(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ae.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=kf(r,e.getCompare()):a=Do;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new jr(c,u)}addToIndexes(e,n){const r=sf(this.indexes_,(i,s)=>{const o=ka(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Do)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ae.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),kf(a,o.getCompare())}else return Do;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ae(e.name,a))),l.insert(e,e.node)}});return new jr(r,this.indexSet_)}removeFromIndexes(e,n){const r=sf(this.indexes_,i=>{if(i===Do)return i;{const s=n.get(e.name);return s?i.remove(new ae(e.name,s)):i}});return new jr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oN(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kl||(kl=new Q(new nn(fE),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kl}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?kl:n}}getChild(e){const n=he(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ae(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?kl:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=he(e);if(r===null)return n;{N(he(e)!==".priority"||os(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Re(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ue,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+sN(this.getPriority().val())+":"),this.forEachChild(Ue,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":OO(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ae(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ae.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yc?-1:0}withIndex(e){if(e===qi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ue),i=n.getIterator(Ue);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qi?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WH extends Q{constructor(){super(new nn(fE),Q.EMPTY_NODE,jr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Yc=new WH;Object.defineProperties(ae,{MIN:{value:new ae(oo,Q.EMPTY_NODE)},MAX:{value:new ae(ss,Yc)}});iN.__EMPTY_NODE=Q.EMPTY_NODE;ht.__childrenNodeConstructor=Q;$H(Yc);UH(Yc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=!0;function At(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ht(n,At(e))}if(!(t instanceof Array)&&HH){const n=[];let r=!1;if(ln(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=At(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ae(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=kf(n,FH,o=>o.name,fE);if(r){const o=kf(n,Ue.getCompare());return new Q(s,At(e),new jr({".priority":o},{".priority":Ue}))}else return new Q(s,At(e),jr.Default)}else{let n=Q.EMPTY_NODE;return ln(t,(r,i)=>{if(Cr(t,r)&&r.substring(0,1)!=="."){const s=At(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(At(e))}}VH(At);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends im{constructor(e){super(),this.indexPath_=e,N(!oe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}makePost(e,n){const r=At(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new ae(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Yc);return new ae(ss,e)}toString(){return eN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH extends im{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(e,n){const r=At(e);return new ae(n,r)}toString(){return".value"}}const uN=new qH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){return{type:"value",snapshotNode:t}}function Ua(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function oc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function GH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(sc(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ua(n,r)):o.trackChildChange(oc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ue,(i,s)=>{n.hasChild(i)||r.trackChildChange(sc(i,s))}),n.isLeafNode()||n.forEachChild(Ue,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(oc(i,s,o))}else r.trackChildChange(Ua(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.indexedFilter_=new mE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ac.getStartPost_(e),this.endPost_=ac.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ae(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Ue,(o,a)=>{s.matches(new ae(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ac(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ae(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new ae(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(oc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(sc(n,h));const _=a.updateImmediateChild(n,Q.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(Ua(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(sc(u.name,u.node)),s.trackChildChange(Ua(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oo}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new gE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QH(t){return t.loadsAllData()?new mE(t.getIndex()):t.hasLimit()?new KH(t):new ac(t)}function YH(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function XH(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function JH(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function hN(t,e){const n=t.copy();return n.index_=e,n}function jI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===uN?n="$value":t.index_===qi?n="$key":(N(t.index_ instanceof pE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=rt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+rt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=rt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function zI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends XO{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xf.getListenId_(e,r),a={};this.listens_[o]=a;const l=jI(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),ka(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=xf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=jI(e._queryParams),r=e._path.toString(),i=new Q0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uu(a.responseText)}catch{mn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&mn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(){return{value:null,children:new Map}}function dN(t,e,n){if(oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=he(e);t.children.has(r)||t.children.set(r,Of());const i=t.children.get(r);e=Re(e),dN(i,e,n)}}function rv(t,e,n){t.value!==null?n(e,t.value):e8(t,(r,i)=>{const s=new Se(e.toString()+"/"+r);rv(i,s,n)})}function e8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ln(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=10*1e3,n8=30*1e3,r8=5*60*1e3;class i8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new t8(e);const r=BI+(n8-BI)*Math.random();au(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ln(e,(i,s)=>{s>0&&Cr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),au(this.reportStats_.bind(this),Math.floor(Math.random()*2*r8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wn||(Wn={}));function fN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _E(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wn.ACK_USER_WRITE,this.source=fN()}operationForChild(e){if(oe(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Se(e));return new Nf(pe(),n,this.revert)}}else return N(he(this.path)===e,"operationForChild called for unrelated child."),new Nf(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.source=e,this.path=n,this.type=Wn.LISTEN_COMPLETE}operationForChild(e){return oe(this.path)?new lc(this.source,pe()):new lc(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wn.OVERWRITE}operationForChild(e){return oe(this.path)?new ao(this.source,pe(),this.snap.getImmediateChild(e)):new ao(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wn.MERGE}operationForChild(e){if(oe(this.path)){const n=this.children.subtree(new Se(e));return n.isEmpty()?null:n.value?new ao(this.source,pe(),n.value):new uc(this.source,pe(),n)}else return N(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uc(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=he(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function o8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(GH(o.childName,o.snapshotNode))}),xl(t,i,"child_removed",e,r,n),xl(t,i,"child_added",e,r,n),xl(t,i,"child_moved",s,r,n),xl(t,i,"child_changed",e,r,n),xl(t,i,"value",e,r,n),i}function xl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>l8(t,a,l)),o.forEach(a=>{const l=a8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function a8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l8(t,e,n){if(e.childName==null||n.childName==null)throw tl("Should only compare child_ events.");const r=new ae(e.childName,e.snapshotNode),i=new ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){return{eventCache:t,serverCache:e}}function lu(t,e,n,r){return sm(new as(e,n,r),t.serverCache)}function pN(t,e,n,r){return sm(t.eventCache,new as(e,n,r))}function Df(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function lo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;const u8=()=>(Wg||(Wg=new nn(GW)),Wg);class Ne{constructor(e,n=u8()){this.value=e,this.children=n}static fromObject(e){let n=new Ne(null);return ln(e,(r,i)=>{n=n.set(new Se(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pe(),value:this.value};if(oe(e))return null;{const r=he(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:st(new Se(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(oe(e))return this;{const n=he(e),r=this.children.get(n);return r!==null?r.subtree(Re(e)):new Ne(null)}}set(e,n){if(oe(e))return new Ne(n,this.children);{const r=he(e),s=(this.children.get(r)||new Ne(null)).set(Re(e),n),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(oe(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=he(e),r=this.children.get(n);if(r){const i=r.remove(Re(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}else return this}}get(e){if(oe(e))return this.value;{const n=he(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(oe(e))return n;{const r=he(e),s=(this.children.get(r)||new Ne(null)).setTree(Re(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(st(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(oe(e))return null;{const s=he(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),st(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,r){if(oe(e))return this;{this.value&&r(n,this.value);const i=he(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),st(n,i),r):new Ne(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(st(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.writeTree_=e}static empty(){return new Kn(new Ne(null))}}function uu(t,e,n){if(oe(e))return new Kn(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Gt(i,e);return s=s.updateChild(o,n),new Kn(t.writeTree_.set(i,s))}else{const i=new Ne(n),s=t.writeTree_.setTree(e,i);return new Kn(s)}}}function WI(t,e,n){let r=t;return ln(n,(i,s)=>{r=uu(r,st(e,i),s)}),r}function HI(t,e){if(oe(e))return Kn.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new Kn(n)}}function iv(t,e){return Io(t,e)!=null}function Io(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Gt(n.path,e)):null}function qI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(r,i)=>{e.push(new ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ae(r,i.value))}),e}function Gi(t,e){if(oe(e))return t;{const n=Io(t,e);return n!=null?new Kn(new Ne(n)):new Kn(t.writeTree_.subtree(e))}}function sv(t){return t.writeTree_.isEmpty()}function ja(t,e){return mN(pe(),t.writeTree_,e)}function mN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=mN(st(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(st(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){return vN(e,t)}function c8(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=uu(t.visibleWrites,e,n)),t.lastWriteId=r}function h8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function d8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f8(a,r.path)?i=!1:Bn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return p8(t),!0;if(r.snap)t.visibleWrites=HI(t.visibleWrites,r.path);else{const a=r.children;ln(a,l=>{t.visibleWrites=HI(t.visibleWrites,st(r.path,l))})}return!0}else return!1}function f8(t,e){if(t.snap)return Bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bn(st(t.path,n),e))return!0;return!1}function p8(t){t.visibleWrites=gN(t.allWrites,m8,pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m8(t){return t.visible}function gN(t,e,n){let r=Kn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Bn(n,o)?(a=Gt(n,o),r=uu(r,a,s.snap)):Bn(o,n)&&(a=Gt(o,n),r=uu(r,pe(),s.snap.getChild(a)));else if(s.children){if(Bn(n,o))a=Gt(n,o),r=WI(r,a,s.children);else if(Bn(o,n))if(a=Gt(o,n),oe(a))r=WI(r,pe(),s.children);else{const l=ka(s.children,he(a));if(l){const u=l.getChild(Re(a));r=uu(r,pe(),u)}}}else throw tl("WriteRecord should have .snap or .children")}}return r}function yN(t,e,n,r,i){if(!r&&!i){const s=Io(t.visibleWrites,e);if(s!=null)return s;{const o=Gi(t.visibleWrites,e);if(sv(o))return n;if(n==null&&!iv(o,pe()))return null;{const a=n||Q.EMPTY_NODE;return ja(o,a)}}}else{const s=Gi(t.visibleWrites,e);if(!i&&sv(s))return n;if(!i&&n==null&&!iv(s,pe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Bn(u.path,e)||Bn(e,u.path))},a=gN(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return ja(a,l)}}}function g8(t,e,n){let r=Q.EMPTY_NODE;const i=Io(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ue,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Gi(t.visibleWrites,e);return n.forEachChild(Ue,(o,a)=>{const l=ja(Gi(s,new Se(o)),a);r=r.updateImmediateChild(o,l)}),qI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Gi(t.visibleWrites,e);return qI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function y8(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=st(e,n);if(iv(t.visibleWrites,s))return null;{const o=Gi(t.visibleWrites,s);return sv(o)?i.getChild(n):ja(o,i.getChild(n))}}function _8(t,e,n,r){const i=st(e,n),s=Io(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Gi(t.visibleWrites,i);return ja(o,r.getNode().getImmediateChild(n))}else return null}function v8(t,e){return Io(t.visibleWrites,e)}function w8(t,e,n,r,i,s,o){let a;const l=Gi(t.visibleWrites,e),u=Io(l,pe());if(u!=null)a=u;else if(n!=null)a=ja(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=d.getNext();for(;f&&c.length<i;)h(f,r)!==0&&c.push(f),f=d.getNext();return c}else return[]}function E8(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}function Mf(t,e,n,r){return yN(t.writeTree,t.treePath,e,n,r)}function vE(t,e){return g8(t.writeTree,t.treePath,e)}function GI(t,e,n,r){return y8(t.writeTree,t.treePath,e,n,r)}function Lf(t,e){return v8(t.writeTree,st(t.treePath,e))}function T8(t,e,n,r,i,s){return w8(t.writeTree,t.treePath,e,n,r,i,s)}function wE(t,e,n){return _8(t.writeTree,t.treePath,e,n)}function _N(t,e){return vN(st(t.treePath,e),t.writeTree)}function vN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,oc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ua(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,oc(r,e.snapshotNode,i.oldSnap));else throw tl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const wN=new I8;class EE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:lo(this.viewCache_),s=T8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){return{filter:t}}function A8(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function R8(t,e,n,r,i){const s=new S8;let o,a;if(n.type===Wn.OVERWRITE){const u=n;u.source.fromUser?o=ov(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!oe(u.path),o=Ff(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Wn.MERGE){const u=n;u.source.fromUser?o=b8(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=av(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Wn.ACK_USER_WRITE){const u=n;u.revert?o=O8(t,e,u.path,r,i,s):o=k8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Wn.LISTEN_COMPLETE)o=x8(t,e,n.path,r,s);else throw tl("Unknown operation type: "+n.type);const l=s.getChanges();return P8(e,o,l),{viewCache:o,changes:l}}function P8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Df(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cN(Df(e)))}}function EN(t,e,n,r,i,s){const o=e.eventCache;if(Lf(r,n)!=null)return e;{let a,l;if(oe(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=lo(e),c=u instanceof Q?u:Q.EMPTY_NODE,h=vE(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Mf(r,lo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=he(n);if(u===".priority"){N(os(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=GI(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=Re(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=GI(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=wE(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return lu(e,a,o.isFullyInitialized()||oe(n),t.filter.filtersNodes())}}function Ff(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(oe(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=he(n);if(!l.isCompleteForPath(n)&&os(n)>1)return e;const m=Re(n),v=l.getNode().getImmediateChild(f).updateChild(m,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,m,wN,null)}const h=pN(e,u,l.isFullyInitialized()||oe(n),c.filtersNodes()),d=new EE(i,h,s);return EN(t,h,n,i,d,a)}function ov(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new EE(i,e,s);if(oe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lu(e,u,!0,t.filter.filtersNodes());else{const h=he(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=lu(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Re(n),f=a.getNode().getImmediateChild(h);let m;if(oe(d))m=r;else{const _=c.getCompleteChild(h);_!=null?ZO(d)===".priority"&&_.getChild(tN(d)).isEmpty()?m=_:m=_.updateChild(d,r):m=Q.EMPTY_NODE}if(f.equals(m))l=e;else{const _=t.filter.updateChild(a.getNode(),h,m,d,c,o);l=lu(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function KI(t,e){return t.eventCache.isCompleteForChild(e)}function b8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=st(n,l);KI(e,he(c))&&(a=ov(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=st(n,l);KI(e,he(c))||(a=ov(t,a,c,u,i,s,o))}),a}function QI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function av(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;oe(n)?u=r:u=new Ne(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),m=QI(t,f,d);l=Ff(t,l,new Se(h),m,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!f){const m=e.serverCache.getNode().getImmediateChild(h),_=QI(t,m,d);l=Ff(t,l,new Se(h),_,i,s,o,a)}}),l}function k8(t,e,n,r,i,s,o){if(Lf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(oe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ff(t,e,n,l.getNode().getChild(n),i,s,a,o);if(oe(n)){let u=new Ne(null);return l.getNode().forEachChild(qi,(c,h)=>{u=u.set(new Se(c),h)}),av(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ne(null);return r.foreach((c,h)=>{const d=st(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),av(t,e,n,u,i,s,a,o)}}function x8(t,e,n,r,i){const s=e.serverCache,o=pN(e,s.getNode(),s.isFullyInitialized()||oe(n),s.isFiltered());return EN(t,o,n,r,wN,i)}function O8(t,e,n,r,i,s){let o;if(Lf(r,n)!=null)return e;{const a=new EE(r,e,i),l=e.eventCache.getNode();let u;if(oe(n)||he(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Mf(r,lo(e));else{const h=e.serverCache.getNode();N(h instanceof Q,"serverChildren would be complete if leaf node"),c=vE(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=he(n);let h=wE(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,Re(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Q.EMPTY_NODE,Re(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mf(r,lo(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Lf(r,pe())!=null,lu(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new mE(r.getIndex()),s=QH(r);this.processor_=C8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),c=new as(l,o.isFullyInitialized(),i.filtersNodes()),h=new as(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=sm(h,c),this.eventGenerator_=new s8(this.query_)}get query(){return this.query_}}function D8(t){return t.viewCache_.serverCache.getNode()}function M8(t){return Df(t.viewCache_)}function L8(t,e){const n=lo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!oe(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function YI(t){return t.eventRegistrations_.length===0}function F8(t,e){t.eventRegistrations_.push(e)}function XI(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function JI(t,e,n,r){e.type===Wn.MERGE&&e.source.queryId!==null&&(N(lo(t.viewCache_),"We should always have a full cache before handling merges"),N(Df(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=R8(t.processor_,i,e,n,r);return A8(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,TN(t,s.changes,s.viewCache.eventCache.getNode(),null)}function $8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(s,o)=>{r.push(Ua(s,o))}),n.isFullyInitialized()&&r.push(cN(n.getNode())),TN(t,r,n.getNode(),e)}function TN(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return o8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;class SN{constructor(){this.views=new Map}}function V8(t){N(!$f,"__referenceConstructor has already been defined"),$f=t}function U8(){return N($f,"Reference.ts has not been loaded"),$f}function j8(t){return t.views.size===0}function TE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),JI(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(JI(o,e,n,r));return s}}function IN(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Mf(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=vE(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=sm(new as(a,l,!1),new as(r,i,!1));return new N8(e,u)}return o}function z8(t,e,n,r,i,s){const o=IN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),F8(o,n),$8(o,n)}function B8(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ls(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(XI(u,n,r)),YI(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(XI(l,n,r)),YI(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ls(t)&&s.push(new(U8())(e._repo,e._path)),{removed:s,events:o}}function CN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ki(t,e){let n=null;for(const r of t.views.values())n=n||L8(r,e);return n}function AN(t,e){if(e._queryParams.loadsAllData())return am(t);{const r=e._queryIdentifier;return t.views.get(r)}}function RN(t,e){return AN(t,e)!=null}function ls(t){return am(t)!=null}function am(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;function W8(t){N(!Vf,"__referenceConstructor has already been defined"),Vf=t}function H8(){return N(Vf,"Reference.ts has not been loaded"),Vf}let q8=1;class ZI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=E8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function G8(t,e,n,r,i){return c8(t.pendingWriteTree_,e,n,r,i),i?Jc(t,new ao(fN(),e,n)):[]}function ra(t,e,n=!1){const r=h8(t.pendingWriteTree_,e);if(d8(t.pendingWriteTree_,e)){let s=new Ne(null);return r.snap!=null?s=s.set(pe(),!0):ln(r.children,o=>{s=s.set(new Se(o),!0)}),Jc(t,new Nf(r.path,s,n))}else return[]}function Xc(t,e,n){return Jc(t,new ao(yE(),e,n))}function K8(t,e,n){const r=Ne.fromObject(n);return Jc(t,new uc(yE(),e,r))}function Q8(t,e){return Jc(t,new lc(yE(),e))}function Y8(t,e,n){const r=SE(t,n);if(r){const i=IE(r),s=i.path,o=i.queryId,a=Gt(s,e),l=new lc(_E(o),a);return CE(t,s,l)}else return[]}function PN(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||RN(o,e))){const l=B8(o,e,n,r);j8(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,f)=>ls(f));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=eq(d);for(let m=0;m<f.length;++m){const _=f[m],v=_.query,g=NN(t,_);t.listenProvider_.startListening(cu(v),cc(t,v),g.hashFn,g.onComplete)}}}!h&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(cu(e),null):u.forEach(d=>{const f=t.queryToTagMap.get(lm(d));t.listenProvider_.stopListening(cu(d),f)}))}tq(t,u)}return a}function bN(t,e,n,r){const i=SE(t,r);if(i!=null){const s=IE(i),o=s.path,a=s.queryId,l=Gt(o,e),u=new ao(_E(a),l,n);return CE(t,o,u)}else return[]}function X8(t,e,n,r){const i=SE(t,r);if(i){const s=IE(i),o=s.path,a=s.queryId,l=Gt(o,e),u=Ne.fromObject(n),c=new uc(_E(a),l,u);return CE(t,o,c)}else return[]}function J8(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,f)=>{const m=Gt(d,i);s=s||Ki(f,m),o=o||ls(f)});let a=t.syncPointTree_.get(i);a?(o=o||ls(a),s=s||Ki(a,pe())):(a=new SN,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,m)=>{const _=Ki(m,pe());_&&(s=s.updateImmediateChild(f,_))}));const u=RN(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=lm(e);N(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=nq();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const c=om(t.pendingWriteTree_,i);let h=z8(a,e,n,c,s,l);if(!u&&!o&&!r){const d=AN(a,e);h=h.concat(rq(t,e,d))}return h}function kN(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Gt(o,e),u=Ki(a,l);if(u)return u});return yN(i,e,s,n,!0)}function Z8(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const h=Gt(u,n);r=r||Ki(c,h)});let i=t.syncPointTree_.get(n);i?r=r||Ki(i,pe()):(i=new SN,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new as(r,!0,!1):null,a=om(t.pendingWriteTree_,e._path),l=IN(i,e,a,s?o.getNode():Q.EMPTY_NODE,s);return M8(l)}function Jc(t,e){return xN(e,t.syncPointTree_,null,om(t.pendingWriteTree_,pe()))}function xN(t,e,n,r){if(oe(t.path))return ON(t,e,n,r);{const i=e.get(pe());n==null&&i!=null&&(n=Ki(i,pe()));let s=[];const o=he(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=_N(r,o);s=s.concat(xN(a,l,u,c))}return i&&(s=s.concat(TE(i,t,r,n))),s}}function ON(t,e,n,r){const i=e.get(pe());n==null&&i!=null&&(n=Ki(i,pe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=_N(r,o),c=t.operationForChild(o);c&&(s=s.concat(ON(c,a,l,u)))}),i&&(s=s.concat(TE(i,t,r,n))),s}function NN(t,e){const n=e.query,r=cc(t,n);return{hashFn:()=>(D8(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Y8(t,n._path,r):Q8(t,n._path);{const s=YW(i,n);return PN(t,n,null,s)}}}}function cc(t,e){const n=lm(e);return t.queryToTagMap.get(n)}function lm(t){return t._path.toString()+"$"+t._queryIdentifier}function SE(t,e){return t.tagToQueryMap.get(e)}function IE(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Se(t.substr(0,e))}}function CE(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=om(t.pendingWriteTree_,e);return TE(r,n,i,null)}function eq(t){return t.fold((e,n,r)=>{if(n&&ls(n))return[am(n)];{let i=[];return n&&(i=CN(n)),ln(r,(s,o)=>{i=i.concat(o)}),i}})}function cu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(H8())(t._repo,t._path):t}function tq(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=lm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function nq(){return q8++}function rq(t,e,n){const r=e._path,i=cc(t,e),s=NN(t,n),o=t.listenProvider_.startListening(cu(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)N(!ls(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!oe(u)&&c&&ls(c))return[am(c).query];{let d=[];return c&&(d=d.concat(CN(c).map(f=>f.query))),ln(h,(f,m)=>{d=d.concat(m)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(cu(c),cc(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new AE(n)}node(){return this.node_}}class RE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=st(this.path_,e);return new RE(this.syncTree_,n)}node(){return kN(this.syncTree_,this.path_)}}const iq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},eC=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return oq(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},oq=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},aq=function(t,e,n,r){return PE(e,new RE(n,t),r)},lq=function(t,e,n){return PE(t,new AE(e),n)};function PE(t,e,n){const r=t.getPriority().val(),i=eC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=eC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ht(a,At(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ht(i))),o.forEachChild(Ue,(a,l)=>{const u=PE(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function kE(t,e){let n=e instanceof Se?e:new Se(e),r=t,i=he(n);for(;i!==null;){const s=ka(r.node.children,i)||{children:{},childCount:0};r=new bE(i,r,s),n=Re(n),i=he(n)}return r}function dl(t){return t.node.value}function DN(t,e){t.node.value=e,lv(t)}function MN(t){return t.node.childCount>0}function uq(t){return dl(t)===void 0&&!MN(t)}function um(t,e){ln(t.node.children,(n,r)=>{e(new bE(n,t,r))})}function LN(t,e,n,r){n&&!r&&e(t),um(t,i=>{LN(i,e,!0,r)}),n&&r&&e(t)}function cq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zc(t){return new Se(t.parent===null?t.name:Zc(t.parent)+"/"+t.name)}function lv(t){t.parent!==null&&hq(t.parent,t.name,t)}function hq(t,e,n){const r=uq(n),i=Cr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,lv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,lv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=/[\[\].#$\/\u0000-\u001F\u007F]/,fq=/[\[\].#$\u0000-\u001F\u007F]/,Hg=10*1024*1024,xE=function(t){return typeof t=="string"&&t.length!==0&&!dq.test(t)},FN=function(t){return typeof t=="string"&&t.length!==0&&!fq.test(t)},pq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FN(t)},tC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!aE(t)||t&&typeof t=="object"&&Cr(t,".sv")},$N=function(t,e,n,r){r&&e===void 0||OE(Tp(t,"value"),e,n)},OE=function(t,e,n){const r=n instanceof Se?new bH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+As(r));if(typeof e=="function")throw new Error(t+"contains a function "+As(r)+" with contents = "+e.toString());if(aE(e))throw new Error(t+"contains "+e.toString()+" "+As(r));if(typeof e=="string"&&e.length>Hg/3&&Sp(e)>Hg)throw new Error(t+"contains a string greater than "+Hg+" utf8 bytes "+As(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ln(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!xE(o)))throw new Error(t+" contains an invalid key ("+o+") "+As(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kH(r,o),OE(t,a,r),xH(r)}),i&&s)throw new Error(t+' contains ".value" child '+As(r)+" in addition to actual children.")}},VN=function(t,e,n,r){if(!(r&&n===void 0)&&!xE(n))throw new Error(Tp(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},NE=function(t,e,n,r){if(!(r&&n===void 0)&&!FN(n))throw new Error(Tp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},mq=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NE(t,e,n,r)},gq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pq(n))throw new Error(Tp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _q(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!nN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function _s(t,e,n){_q(t,n),vq(t,r=>Bn(r,e)||Bn(e,r))}function vq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(wq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function wq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Bs&&Vt("event: "+n.toString()),Qc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="repo_interrupt",Tq=25;class Sq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Of(),this.transactionQueueTree_=new bE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Iq(t,e,n){if(t.stats_=cE(t.repoInfo_),t.forceRestClient_||eH())t.server_=new xf(t.repoInfo_,(r,i,s,o)=>{nC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>rC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gr(t.repoInfo_,e,(r,i,s,o)=>{nC(t,r,i,s,o)},r=>{rC(t,r)},r=>{Aq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=sH(t.repoInfo_,()=>new i8(t.stats_,t.server_)),t.infoData_=new ZH,t.infoSyncTree_=new ZI({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Xc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),DE(t,"connected",!1),t.serverSyncTree_=new ZI({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);_s(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Cq(t){const n=t.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function UN(t){return iq({timestamp:Cq(t)})}function nC(t,e,n,r,i){t.dataUpdateCount++;const s=new Se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=sf(n,u=>At(u));o=X8(t.serverSyncTree_,s,l,i)}else{const l=At(n);o=bN(t.serverSyncTree_,s,l,i)}else if(r){const l=sf(n,u=>At(u));o=K8(t.serverSyncTree_,s,l)}else{const l=At(n);o=Xc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=FE(t,s)),_s(t.eventQueue_,a,o)}function rC(t,e){DE(t,"connected",e),e===!1&&bq(t)}function Aq(t,e){ln(e,(n,r)=>{DE(t,n,r)})}function DE(t,e,n){const r=new Se("/.info/"+e),i=At(n);t.infoData_.updateSnapshot(r,i);const s=Xc(t.infoSyncTree_,r,i);_s(t.eventQueue_,r,s)}function Rq(t){return t.nextWriteId_++}function Pq(t,e,n){const r=Z8(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=At(i).withIndex(e._queryParams.getIndex());J8(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Xc(t.serverSyncTree_,e._path,s);else{const a=cc(t.serverSyncTree_,e);o=bN(t.serverSyncTree_,e._path,s,a)}return _s(t.eventQueue_,e._path,o),PN(t.serverSyncTree_,e,n,null,!0),s},i=>(ME(t,"get for query "+rt(e)+" failed: "+i),Promise.reject(new Error(i))))}function bq(t){ME(t,"onDisconnectEvents");const e=UN(t),n=Of();rv(t.onDisconnect_,pe(),(i,s)=>{const o=aq(i,s,t.serverSyncTree_,e);dN(n,i,o)});let r=[];rv(n,pe(),(i,s)=>{r=r.concat(Xc(t.serverSyncTree_,i,s));const o=Nq(t,i);FE(t,o)}),t.onDisconnect_=Of(),_s(t.eventQueue_,pe(),r)}function kq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Eq)}function ME(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vt(n,...e)}function jN(t,e,n){return kN(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function LE(t,e=t.transactionQueueTree_){if(e||cm(t,e),dl(e)){const n=BN(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&xq(t,Zc(e),n)}else MN(e)&&um(e,n=>{LE(t,n)})}function xq(t,e,n){const r=n.map(u=>u.currentWriteId),i=jN(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Gt(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ME(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(ra(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();cm(t,kE(t.transactionQueueTree_,e)),LE(t,t.transactionQueueTree_),_s(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)Qc(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{mn("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}FE(t,e)}},o)}function FE(t,e){const n=zN(t,e),r=Zc(n),i=BN(t,n);return Oq(t,i,r),r}function Oq(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Gt(n,l.path);let c=!1,h;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(ra(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Tq)c=!0,h="maxretry",i=i.concat(ra(t.serverSyncTree_,l.currentWriteId,!0));else{const d=jN(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){OE("transaction failed: Data returned ",f,l.path);let m=At(f);typeof f=="object"&&f!=null&&Cr(f,".priority")||(m=m.updatePriority(d.getPriority()));const v=l.currentWriteId,g=UN(t),p=lq(m,d,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=p,l.currentWriteId=Rq(t),o.splice(o.indexOf(v),1),i=i.concat(G8(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(ra(t.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(ra(t.serverSyncTree_,l.currentWriteId,!0))}_s(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}cm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qc(r[a]);LE(t,t.transactionQueueTree_)}function zN(t,e){let n,r=t.transactionQueueTree_;for(n=he(e);n!==null&&dl(r)===void 0;)r=kE(r,n),e=Re(e),n=he(e);return r}function BN(t,e){const n=[];return WN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function WN(t,e,n){const r=dl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);um(e,i=>{WN(t,i,n)})}function cm(t,e){const n=dl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,DN(e,n.length>0?n:void 0)}um(e,r=>{cm(t,r)})}function Nq(t,e){const n=Zc(zN(t,e)),r=kE(t.transactionQueueTree_,e);return cq(r,i=>{qg(t,i)}),qg(t,r),LN(r,i=>{qg(t,i)}),n}function qg(t,e){const n=dl(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ra(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?DN(e,void 0):n.length=s+1,_s(t.eventQueue_,Zc(e),i);for(let o=0;o<r.length;o++)Qc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Mq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mn(`Invalid query segment '${n}' in query '${t}'`)}return e}const iC=function(t,e){const n=Lq(t),r=n.namespace;n.domain==="firebase.com"&&ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||HW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new WO(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Se(n.pathString)}},Lq=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=Dq(t.substring(c,h)));const d=Mq(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class $q{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return oe(this._path)?null:ZO(this._path)}get ref(){return new ui(this._repo,this._path)}get _queryIdentifier(){const e=zI(this._queryParams),n=lE(e);return n==="{}"?"default":n}get _queryObject(){return zI(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof vs))return!1;const n=this._repo===e._repo,r=nN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PH(this._path)}}function HN(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hm(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==oo)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ss)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ue){if(e!=null&&!tC(e)||n!=null&&!tC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(N(t.getIndex()instanceof pE||t.getIndex()===uN,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qN(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ui extends vs{constructor(e,n){super(e,n,new gE,!1)}get parent(){const e=tN(this._path);return e===null?null:new ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class hc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Se(e),r=uv(this.ref,e);return new hc(this._node.getChild(n),r,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new hc(i,uv(this.ref,r),Ue)))}hasChild(e){const n=new Se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function GN(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?uv(t._root,e):t._root}function uv(t,e){return t=et(t),he(t._path)===null?mq("child","path",e,!1):NE("child","path",e,!1),new ui(t._repo,st(t._path,e))}function KN(t){t=et(t);const e=new Vq(()=>{}),n=new $E(e);return Pq(t._repo,t,n).then(r=>new hc(r,new ui(t._repo,t._path),t._queryParams.getIndex()))}class $E{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Fq("value",this,new hc(e.snapshotNode,new ui(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $q(this,e,n):null}matches(e){return e instanceof $E?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class eh{}class Uq extends eh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){$N("endAt",this._value,e._path,!0);const n=JH(e._queryParams,this._value,this._key);if(qN(n),hm(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vs(e._repo,e._path,n,e._orderByCalled)}}function jq(t,e){return VN("endAt","key",e,!0),new Uq(t,e)}class zq extends eh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){$N("startAt",this._value,e._path,!0);const n=XH(e._queryParams,this._value,this._key);if(qN(n),hm(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vs(e._repo,e._path,n,e._orderByCalled)}}function QN(t=null,e){return VN("startAt","key",e,!0),new zq(t,e)}class Bq extends eh{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vs(e._repo,e._path,YH(e._queryParams,this._limit),e._orderByCalled)}}function Wq(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bq(t)}class Hq extends eh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){HN(e,"orderByChild");const n=new Se(this._path);if(oe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new pE(n),i=hN(e._queryParams,r);return hm(i),new vs(e._repo,e._path,i,!0)}}function Mo(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return NE("orderByChild","path",t,!1),new Hq(t)}class qq extends eh{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){HN(e,"orderByKey");const n=hN(e._queryParams,qi);return hm(n),new vs(e._repo,e._path,n,!0)}}function YN(){return new qq}function mi(t,...e){let n=et(t);for(const r of e)n=r._apply(n);return n}V8(ui);W8(ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq="FIREBASE_DATABASE_EMULATOR_HOST",cv={};let Kq=!1;function Qq(t,e,n,r){t.repoInfo_=new WO(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Yq(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=iC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Gq]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=iC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new wa(wa.OWNER):new nH(t.name,t.options,e);gq("Invalid Firebase Database URL",o),oe(o.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Jq(a,t,c,new tH(t.name,n));return new Zq(h,t)}function Xq(t,e){const n=cv[e];(!n||n[t.key]!==t)&&ri(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kq(t),delete n[t.key]}function Jq(t,e,n,r){let i=cv[e.name];i||(i={},cv[e.name]=i);let s=i[t.toURLString()];return s&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Sq(t,Kq,n,r),i[t.toURLString()]=s,s}class Zq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Iq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ui(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Xq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ri("Cannot call "+e+" on a deleted database.")}}function XN(t=J0(),e){const n=Cp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=yb("database");r&&e7(n,...r)}return n}function e7(t,e,n,r={}){t=et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ri("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new wa(wa.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:wb(r.mockUserToken,t.app.options.projectId);s=new wa(o)}Qq(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){UW(_o),eo(new ts("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Yq(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mr(CI,AI,t),mr(CI,AI,"esm2017")}Gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};t7();const Gg=fs("nanny/fetchUserData",async(t,e)=>{try{const n=XN(),r=GN(n),i=mi(r,YN(),QN(String((t-1)*3)),Wq(3)),s=await KN(i);let o=[];return s.forEach(a=>{o.push(a.val())}),o}catch(n){return Gn.error("Error fetching data"),e.rejectWithValue(n.message)}}),Kg=fs("nanny/fetchFilteredData",async(t,e)=>{try{const n=XN(),r=GN(n);let i;switch(t){case"az":i=mi(r,Mo("name"));break;case"za":i=mi(r,Mo("name"));break;case"less":i=mi(r,Mo("price_per_hour"),jq(10));break;case"greater":i=mi(r,Mo("price_per_hour"),QN(10));break;case"popular":i=mi(r,Mo("rating"));break;case"notPopular":i=mi(r,Mo("rating"));break;case"all":i=mi(r,YN());break}const s=await KN(i);let o=[];switch(s.forEach(a=>{o.push(a.val())}),t){case"za":o.sort((a,l)=>a.name<l.name?1:-1);break;case"popular":o.sort((a,l)=>l.rating-a.rating);break}return o}catch(n){return Gn.error("Error fetching data"),e.rejectWithValue(n.message)}}),sC=t=>{t.loading=!0,t.error=null},oC=(t,e)=>{t.loading=!1,t.error=e.payload},n7={error:null,loading:!1,nannyList:[],filteredList:[],filter:null,isVisibleButton:!0},JN=$0({name:"nannies",initialState:n7,reducers:{setFilterOption(t,e){t.filter=e.payload},resetFilterOption(t){t.filter=null}},extraReducers:t=>{t.addCase(Gg.pending,sC).addCase(Gg.fulfilled,(e,n)=>{e.loading=!1,e.filter=null,e.isVisibleButton=!0,e.nannyList.some(i=>i.id===n.payload[0].id)?e.nannyList=n.payload:e.nannyList.push(...n.payload),n.payload.length<3&&(e.isVisibleButton=!1),e.error=null}).addCase(Gg.rejected,oC).addCase(Kg.pending,sC).addCase(Kg.fulfilled,(e,n)=>{e.loading=!1,e.isVisibleButton=!1,e.nannyList=n.payload,e.error=null}).addCase(Kg.rejected,oC)}}),r7=JN.reducer,{setFilterOption:cte,resetFilterOption:hte}=JN.actions,dte=fs("favorites/addToFavorites",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return Gn.error("You must be logged in to add favorites!"),e("User is not logged in!");try{const r=C5(oE,"users",`${n.uid}`);B5(r,t,{merge:!0}),console.log(r);const i=await j5(r);console.log(i),i.exists()?console.log("Document data:",i.data()):console.log("No such document!")}catch(r){return console.log(r),e(r.message)}}),Qg=fs("favorites/fetchFavorites",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return console.error("User is not logged in!"),e("User is not logged in!");const r=oE.collection("users").doc(n.uid).collection("objects");try{const i=await r.get(),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(i){return console.error("Error:",i),e(i.message)}}),Yg=fs("favorites/toggleFavorite",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return console.error("User is not logged in!"),e("User is not logged in!");const r=I5(oE,"users",n.uid,"favorites");console.log(r)}),i7={error:null,loading:!1,favorites:[]},s7=$0({name:"favorites",initialState:i7,reducers:{},extraReducers:t=>{t.addCase(Qg.pending,e=>{e.loading=!0,e.error=null}).addCase(Qg.fulfilled,(e,n)=>{e.loading=!1,e.error=null,console.log(n.payload),e.favorites=n.payload}).addCase(Qg.rejected,(e,n)=>{e.loading=!0,e.error=n.payload}).addCase(Yg.pending,e=>{e.loading=!0,e.error=null}).addCase(Yg.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.favorites.findIndex(i=>i.id===n.payload.id)===-1&&e.favorites.push(n.payload)}).addCase(Yg.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),o7=s7.reducer,a7={key:"auth",storage:hb,whitelist:["userName","userId"]},ZN=FV({reducer:{auth:EU(a7,VW),nannies:r7,favorites:o7},middleware:t=>t({serializableCheck:{ignoredActions:[j0,wp,z0,B0,W0,H0]}})});let l7=RU(ZN);var gt=function(){return gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gt.apply(this,arguments)};function za(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function fte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xe="-ms-",hu="-moz-",ge="-webkit-",eD="comm",dm="rule",VE="decl",u7="@import",tD="@keyframes",c7="@layer",nD=Math.abs,UE=String.fromCharCode,hv=Object.assign;function h7(t,e){return mt(t,0)^45?(((e<<2^mt(t,0))<<2^mt(t,1))<<2^mt(t,2))<<2^mt(t,3):0}function rD(t){return t.trim()}function Nr(t,e){return(t=e.exec(t))?t[0]:t}function ie(t,e,n){return t.replace(e,n)}function _d(t,e,n){return t.indexOf(e,n)}function mt(t,e){return t.charCodeAt(e)|0}function Ba(t,e,n){return t.slice(e,n)}function ar(t){return t.length}function iD(t){return t.length}function Wl(t,e){return e.push(t),t}function d7(t,e){return t.map(e).join("")}function aC(t,e){return t.filter(function(n){return!Nr(n,e)})}var fm=1,Wa=1,sD=0,Dn=0,Xe=0,fl="";function pm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:fm,column:Wa,length:o,return:"",siblings:a}}function gi(t,e){return hv(pm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Lo(t){for(;t.root;)t=gi(t.root,{children:[t]});Wl(t,t.siblings)}function f7(){return Xe}function p7(){return Xe=Dn>0?mt(fl,--Dn):0,Wa--,Xe===10&&(Wa=1,fm--),Xe}function Qn(){return Xe=Dn<sD?mt(fl,Dn++):0,Wa++,Xe===10&&(Wa=1,fm++),Xe}function Ws(){return mt(fl,Dn)}function vd(){return Dn}function mm(t,e){return Ba(fl,t,e)}function dv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function m7(t){return fm=Wa=1,sD=ar(fl=t),Dn=0,[]}function g7(t){return fl="",t}function Xg(t){return rD(mm(Dn-1,fv(t===91?t+2:t===40?t+1:t)))}function y7(t){for(;(Xe=Ws())&&Xe<33;)Qn();return dv(t)>2||dv(Xe)>3?"":" "}function _7(t,e){for(;--e&&Qn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return mm(t,vd()+(e<6&&Ws()==32&&Qn()==32))}function fv(t){for(;Qn();)switch(Xe){case t:return Dn;case 34:case 39:t!==34&&t!==39&&fv(Xe);break;case 40:t===41&&fv(t);break;case 92:Qn();break}return Dn}function v7(t,e){for(;Qn()&&t+Xe!==47+10;)if(t+Xe===42+42&&Ws()===47)break;return"/*"+mm(e,Dn-1)+"*"+UE(t===47?t:Qn())}function w7(t){for(;!dv(Ws());)Qn();return mm(t,Dn)}function E7(t){return g7(wd("",null,null,null,[""],t=m7(t),0,[0],t))}function wd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,m=0,_=1,v=1,g=1,p=0,y="",w=i,I=s,E=r,S=y;v;)switch(m=p,p=Qn()){case 40:if(m!=108&&mt(S,h-1)==58){_d(S+=ie(Xg(p),"&","&\f"),"&\f",nD(u?a[u-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:S+=Xg(p);break;case 9:case 10:case 13:case 32:S+=y7(m);break;case 92:S+=_7(vd()-1,7);continue;case 47:switch(Ws()){case 42:case 47:Wl(T7(v7(Qn(),vd()),e,n,l),l);break;default:S+="/"}break;case 123*_:a[u++]=ar(S)*g;case 125*_:case 59:case 0:switch(p){case 0:case 125:v=0;case 59+c:g==-1&&(S=ie(S,/\f/g,"")),f>0&&ar(S)-h&&Wl(f>32?uC(S+";",r,n,h-1,l):uC(ie(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Wl(E=lC(S,e,n,u,c,i,a,y,w=[],I=[],h,s),s),p===123)if(c===0)wd(S,e,E,E,w,s,h,a,I);else switch(d===99&&mt(S,3)===110?100:d){case 100:case 108:case 109:case 115:wd(t,E,E,r&&Wl(lC(t,E,E,0,0,i,a,y,i,w=[],h,I),I),i,I,h,a,r?w:I);break;default:wd(S,E,E,E,[""],I,0,a,I)}}u=c=f=0,_=g=1,y=S="",h=o;break;case 58:h=1+ar(S),f=m;default:if(_<1){if(p==123)--_;else if(p==125&&_++==0&&p7()==125)continue}switch(S+=UE(p),p*_){case 38:g=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(ar(S)-1)*g,g=1;break;case 64:Ws()===45&&(S+=Xg(Qn())),d=Ws(),c=h=ar(y=S+=w7(vd())),p++;break;case 45:m===45&&ar(S)==2&&(_=0)}}return s}function lC(t,e,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,f=i===0?s:[""],m=iD(f),_=0,v=0,g=0;_<r;++_)for(var p=0,y=Ba(t,d+1,d=nD(v=o[_])),w=t;p<m;++p)(w=rD(v>0?f[p]+" "+y:ie(y,/&\f/g,f[p])))&&(l[g++]=w);return pm(t,e,n,i===0?dm:a,l,u,c,h)}function T7(t,e,n,r){return pm(t,e,n,eD,UE(f7()),Ba(t,2,-2),0,r)}function uC(t,e,n,r,i){return pm(t,e,n,VE,Ba(t,0,r),Ba(t,r+1,-1),r,i)}function oD(t,e,n){switch(h7(t,e)){case 5103:return ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ge+t+t;case 4789:return hu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ge+t+hu+t+xe+t+t;case 5936:switch(mt(t,e+11)){case 114:return ge+t+xe+ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ge+t+xe+ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ge+t+xe+ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ge+t+xe+t+t;case 6165:return ge+t+xe+"flex-"+t+t;case 5187:return ge+t+ie(t,/(\w+).+(:[^]+)/,ge+"box-$1$2"+xe+"flex-$1$2")+t;case 5443:return ge+t+xe+"flex-item-"+ie(t,/flex-|-self/g,"")+(Nr(t,/flex-|baseline/)?"":xe+"grid-row-"+ie(t,/flex-|-self/g,""))+t;case 4675:return ge+t+xe+"flex-line-pack"+ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return ge+t+xe+ie(t,"shrink","negative")+t;case 5292:return ge+t+xe+ie(t,"basis","preferred-size")+t;case 6060:return ge+"box-"+ie(t,"-grow","")+ge+t+xe+ie(t,"grow","positive")+t;case 4554:return ge+ie(t,/([^-])(transform)/g,"$1"+ge+"$2")+t;case 6187:return ie(ie(ie(t,/(zoom-|grab)/,ge+"$1"),/(image-set)/,ge+"$1"),t,"")+t;case 5495:case 3959:return ie(t,/(image-set\([^]*)/,ge+"$1$`$1");case 4968:return ie(ie(t,/(.+:)(flex-)?(.*)/,ge+"box-pack:$3"+xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ge+t+t;case 4200:if(!Nr(t,/flex-|baseline/))return xe+"grid-column-align"+Ba(t,e)+t;break;case 2592:case 3360:return xe+ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Nr(r.props,/grid-\w+-end/)})?~_d(t+(n=n[e].value),"span",0)?t:xe+ie(t,"-start","")+t+xe+"grid-row-span:"+(~_d(n,"span",0)?Nr(n,/\d+/):+Nr(n,/\d+/)-+Nr(t,/\d+/))+";":xe+ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Nr(r.props,/grid-\w+-start/)})?t:xe+ie(ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ie(t,/(.+)-inline(.+)/,ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(t)-1-e>6)switch(mt(t,e+1)){case 109:if(mt(t,e+4)!==45)break;case 102:return ie(t,/(.+:)(.+)-([^]+)/,"$1"+ge+"$2-$3$1"+hu+(mt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_d(t,"stretch",0)?oD(ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return xe+i+":"+s+u+(o?xe+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(mt(t,e+6)===121)return ie(t,":",":"+ge)+t;break;case 6444:switch(mt(t,mt(t,14)===45?18:11)){case 120:return ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ge+(mt(t,14)===45?"inline-":"")+"box$3$1"+ge+"$2$3$1"+xe+"$2box$3")+t;case 100:return ie(t,":",":"+xe)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(t,"scroll-","scroll-snap-")+t}return t}function Uf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function S7(t,e,n,r){switch(t.type){case c7:if(t.children.length)break;case u7:case VE:return t.return=t.return||t.value;case eD:return"";case tD:return t.return=t.value+"{"+Uf(t.children,r)+"}";case dm:if(!ar(t.value=t.props.join(",")))return""}return ar(n=Uf(t.children,r))?t.return=t.value+"{"+n+"}":""}function I7(t){var e=iD(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function C7(t){return function(e){e.root||(e=e.return)&&t(e)}}function A7(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case VE:t.return=oD(t.value,t.length,n);return;case tD:return Uf([gi(t,{value:ie(t.value,"@","@"+ge)})],r);case dm:if(t.length)return d7(n=t.props,function(i){switch(Nr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Lo(gi(t,{props:[ie(i,/:(read-\w+)/,":"+hu+"$1")]})),Lo(gi(t,{props:[i]})),hv(t,{props:aC(n,r)});break;case"::placeholder":Lo(gi(t,{props:[ie(i,/:(plac\w+)/,":"+ge+"input-$1")]})),Lo(gi(t,{props:[ie(i,/:(plac\w+)/,":"+hu+"$1")]})),Lo(gi(t,{props:[ie(i,/:(plac\w+)/,xe+"input-$1")]})),Lo(gi(t,{props:[i]})),hv(t,{props:aC(n,r)});break}return""})}}var R7={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ha=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",aD="active",lD="data-styled-version",gm="6.1.8",jE=`/*!sc*/
`,zE=typeof window<"u"&&"HTMLElement"in window,P7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),b7={},ym=Object.freeze([]),qa=Object.freeze({});function uD(t,e,n){return n===void 0&&(n=qa),t.theme!==n.theme&&t.theme||e||n.theme}var cD=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),k7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x7=/(^-|-$)/g;function cC(t){return t.replace(k7,"-").replace(x7,"")}var O7=/(a)(d)/gi,Fh=52,hC=function(t){return String.fromCharCode(t+(t>25?39:97))};function pv(t){var e,n="";for(e=Math.abs(t);e>Fh;e=e/Fh|0)n=hC(e%Fh)+n;return(hC(e%Fh)+n).replace(O7,"$1-$2")}var Jg,hD=5381,ia=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},dD=function(t){return ia(hD,t)};function BE(t){return pv(dD(t)>>>0)}function N7(t){return t.displayName||t.name||"Component"}function Zg(t){return typeof t=="string"&&!0}var fD=typeof Symbol=="function"&&Symbol.for,pD=fD?Symbol.for("react.memo"):60115,D7=fD?Symbol.for("react.forward_ref"):60112,M7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},L7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},F7=((Jg={})[D7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jg[pD]=mD,Jg);function dC(t){return("type"in(e=t)&&e.type.$$typeof)===pD?mD:"$$typeof"in t?F7[t.$$typeof]:M7;var e}var $7=Object.defineProperty,V7=Object.getOwnPropertyNames,fC=Object.getOwnPropertySymbols,U7=Object.getOwnPropertyDescriptor,j7=Object.getPrototypeOf,pC=Object.prototype;function gD(t,e,n){if(typeof e!="string"){if(pC){var r=j7(e);r&&r!==pC&&gD(t,r,n)}var i=V7(e);fC&&(i=i.concat(fC(e)));for(var s=dC(t),o=dC(e),a=0;a<i.length;++a){var l=i[a];if(!(l in L7||n&&n[l]||o&&l in o||s&&l in s)){var u=U7(e,l);try{$7(t,l,u)}catch{}}}}return t}function uo(t){return typeof t=="function"}function WE(t){return typeof t=="object"&&"styledComponentId"in t}function $s(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function jf(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function dc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function mv(t,e,n){if(n===void 0&&(n=!1),!n&&!dc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=mv(t[r],e[r]);else if(dc(e))for(var r in e)t[r]=mv(t[r],e[r]);return t}function HE(t,e){Object.defineProperty(t,"toString",{value:e})}function co(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var z7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw co(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(jE);return n},t}(),Ed=new Map,zf=new Map,Td=1,$h=function(t){if(Ed.has(t))return Ed.get(t);for(;zf.has(Td);)Td++;var e=Td++;return Ed.set(t,e),zf.set(e,t),e},B7=function(t,e){Td=e+1,Ed.set(t,e),zf.set(e,t)},W7="style[".concat(Ha,"][").concat(lD,'="').concat(gm,'"]'),H7=new RegExp("^".concat(Ha,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),q7=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},G7=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(jE),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(H7);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(B7(c,u),q7(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function K7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yD=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Ha,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Ha,aD),r.setAttribute(lD,gm);var o=K7();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Q7=function(){function t(e){this.element=yD(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw co(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Y7=function(){function t(e){this.element=yD(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),X7=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),mC=zE,J7={isServer:!zE,useCSSOMInjection:!P7},Bf=function(){function t(e,n,r){e===void 0&&(e=qa),n===void 0&&(n={});var i=this;this.options=gt(gt({},J7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&zE&&mC&&(mC=!1,function(s){for(var o=document.querySelectorAll(W7),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(Ha)!==aD&&(G7(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),HE(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(h){var d=function(g){return zf.get(g)}(h);if(d===void 0)return"continue";var f=s.names.get(d),m=o.getGroup(h);if(f===void 0||m.length===0)return"continue";var _="".concat(Ha,".g").concat(h,'[id="').concat(d,'"]'),v="";f!==void 0&&f.forEach(function(g){g.length>0&&(v+="".concat(g,","))}),l+="".concat(m).concat(_,'{content:"').concat(v,'"}').concat(jE)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return $h(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(gt(gt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new X7(i):r?new Q7(i):new Y7(i)}(this.options),new z7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if($h(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules($h(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup($h(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Z7=/&/g,eG=/^\s*\/\/.*$/gm;function _D(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=_D(n.children,e)),n})}function tG(t){var e,n,r,i=t===void 0?qa:t,s=i.options,o=s===void 0?qa:s,a=i.plugins,l=a===void 0?ym:a,u=function(d,f,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===dm&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(Z7,n).replace(r,u))}),o.prefix&&c.push(A7),c.push(S7);var h=function(d,f,m,_){f===void 0&&(f=""),m===void 0&&(m=""),_===void 0&&(_="&"),e=_,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var v=d.replace(eG,""),g=E7(m||f?"".concat(m," ").concat(f," { ").concat(v," }"):v);o.namespace&&(g=_D(g,o.namespace));var p=[];return Uf(g,I7(c.concat(C7(function(y){return p.push(y)})))),p};return h.hash=l.length?l.reduce(function(d,f){return f.name||co(15),ia(d,f.name)},hD).toString():"",h}var nG=new Bf,gv=tG(),vD=en.createContext({shouldForwardProp:void 0,styleSheet:nG,stylis:gv});vD.Consumer;en.createContext(void 0);function yv(){return T.useContext(vD)}var wD=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=gv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,HE(this,function(){throw co(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=gv),this.name+e.hash},t}(),rG=function(t){return t>="A"&&t<="Z"};function gC(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;rG(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var ED=function(t){return t==null||t===!1||t===""},TD=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!ED(s)&&(Array.isArray(s)&&s.isCss||uo(s)?r.push("".concat(gC(i),":"),s,";"):dc(s)?r.push.apply(r,za(za(["".concat(i," {")],TD(s),!1),["}"],!1)):r.push("".concat(gC(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in R7||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Qi(t,e,n,r){if(ED(t))return[];if(WE(t))return[".".concat(t.styledComponentId)];if(uo(t)){if(!uo(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Qi(i,e,n,r)}var s;return t instanceof wD?n?(t.inject(n,r),[t.getName(r)]):[t]:dc(t)?TD(t):Array.isArray(t)?Array.prototype.concat.apply(ym,t.map(function(o){return Qi(o,e,n,r)})):[t.toString()]}function SD(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(uo(n)&&!WE(n))return!1}return!0}var iG=dD(gm),sG=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&SD(e),this.componentId=n,this.baseHash=ia(iG,n),this.baseStyle=r,Bf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=$s(i,this.staticRulesId);else{var s=jf(Qi(this.rules,e,n,r)),o=pv(ia(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=$s(i,o),this.staticRulesId=o}else{for(var l=ia(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var d=jf(Qi(h,e,n,r));l=ia(l,d+c),u+=d}}if(u){var f=pv(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(u,".".concat(f),void 0,this.componentId)),i=$s(i,f)}}return i},t}(),fc=en.createContext(void 0);fc.Consumer;function oG(t){var e=en.useContext(fc),n=T.useMemo(function(){return function(r,i){if(!r)throw co(14);if(uo(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw co(8);return i?gt(gt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?en.createElement(fc.Provider,{value:n},t.children):null}var ey={};function aG(t,e,n){var r=WE(t),i=t,s=!Zg(t),o=e.attrs,a=o===void 0?ym:o,l=e.componentId,u=l===void 0?function(w,I){var E=typeof w!="string"?"sc":cC(w);ey[E]=(ey[E]||0)+1;var S="".concat(E,"-").concat(BE(gm+E+ey[E]));return I?"".concat(I,"-").concat(S):S}(e.displayName,e.parentComponentId):l,c=e.displayName,h=c===void 0?function(w){return Zg(w)?"styled.".concat(w):"Styled(".concat(N7(w),")")}(t):c,d=e.displayName&&e.componentId?"".concat(cC(e.displayName),"-").concat(e.componentId):e.componentId||u,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;m=function(w,I){return _(w,I)&&v(w,I)}}else m=_}var g=new sG(n,d,r?i.componentStyle:void 0);function p(w,I){return function(E,S,b){var V=E.attrs,j=E.componentStyle,ne=E.defaultProps,We=E.foldedComponentIds,Ce=E.styledComponentId,W=E.target,K=en.useContext(fc),Te=yv(),A=E.shouldForwardProp||Te.shouldForwardProp,R=uD(S,K,ne)||qa,L=function(Et,ut,Wt){for(var hi,nr=gt(gt({},ut),{className:void 0,theme:Wt}),xo=0;xo<Et.length;xo+=1){var di=uo(hi=Et[xo])?hi(nr):hi;for(var rr in di)nr[rr]=rr==="className"?$s(nr[rr],di[rr]):rr==="style"?gt(gt({},nr[rr]),di[rr]):di[rr]}return ut.className&&(nr.className=$s(nr.className,ut.className)),nr}(V,S,R),U=L.as||W,q={};for(var re in L)L[re]===void 0||re[0]==="$"||re==="as"||re==="theme"&&L.theme===R||(re==="forwardedAs"?q.as=L.forwardedAs:A&&!A(re,U)||(q[re]=L[re]));var lt=function(Et,ut){var Wt=yv(),hi=Et.generateAndInjectStyles(ut,Wt.styleSheet,Wt.stylis);return hi}(j,L),Ke=$s(We,Ce);return lt&&(Ke+=" "+lt),L.className&&(Ke+=" "+L.className),q[Zg(U)&&!cD.has(U)?"class":"className"]=Ke,q.ref=b,T.createElement(U,q)}(y,w,I)}p.displayName=h;var y=en.forwardRef(p);return y.attrs=f,y.componentStyle=g,y.displayName=h,y.shouldForwardProp=m,y.foldedComponentIds=r?$s(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=d,y.target=r?i.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(I){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];for(var b=0,V=E;b<V.length;b++)mv(I,V[b],!0);return I}({},i.defaultProps,w):w}}),HE(y,function(){return".".concat(y.styledComponentId)}),s&&gD(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function yC(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var _C=function(t){return Object.assign(t,{isCss:!0})};function qE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(uo(t)||dc(t))return _C(Qi(yC(ym,za([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Qi(r):_C(Qi(yC(r,e)))}function _v(t,e,n){if(n===void 0&&(n=qa),!e)throw co(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,qE.apply(void 0,za([i],s,!1)))};return r.attrs=function(i){return _v(t,e,gt(gt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return _v(t,e,gt(gt({},n),i))},r}var ID=function(t){return _v(aG,t)},Ie=ID;cD.forEach(function(t){Ie[t]=ID(t)});var lG=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=SD(e),Bf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(jf(Qi(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Bf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function uG(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=qE.apply(void 0,za([t],e,!1)),i="sc-global-".concat(BE(JSON.stringify(r))),s=new lG(r,i),o=function(l){var u=yv(),c=en.useContext(fc),h=en.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),en.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,d){if(s.isStatic)s.renderStyles(l,b7,c,d);else{var f=gt(gt({},u),{theme:uD(u,h,o.defaultProps)});s.renderStyles(l,f,c,d)}}return en.memo(o)}function pte(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=jf(qE.apply(void 0,za([t],e,!1))),i=BE(r);return new wD(i,r)}const cG={colors:{white:"#fbfbfb",snowWhite:"ffffff",green:"#103931",black:"#11101c",grayBackgraund:"#f3f3f3",textGray:"#8a8a89",activeGreen:"#38cd3e",inputBorderColor:"rgba(17, 16, 28, 0.1)",textBorder:" rgba(17, 16, 28, 0.2)",timeColor:"rgba(17, 16, 28, 0.3)",borderColor:"rgba(251, 251, 251, 0.4)",textGrayColor:"rgba(17, 16, 28, 0.5)",gradientColor:"rgba(18, 20, 23, 0.6)",avatarBorder:"rgba(16, 57, 49, 0.2)",red:"#d80027",modalOverlay:"rgba(4, 4, 4, 0.4)",darkGrayColor:"#303030"},radii:{sd:"4px",ld:"12px"},spacing:t=>`${t*4}px`,transition:"linear"};const hG="/nanny-services/assets/HelveticaNeue-Regular-0ff3a909.otf",dG="/nanny-services/assets/HelveticaNeueMedium-38188783.otf",fG="/nanny-services/assets/HelveticaNeueBold-14928444.otf",pG=uG`


    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaRegular'),
        url(${hG}) format('truetype');
        font-weight: 400;
        font-style: normal;
    }

    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaMedium'),
        url(${dG}) format('truetype');
        font-weight: 500;
        font-style: normal;
    }

    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaBold'),
        url(${fG}) format('truetype');
        font-weight: 700;
        font-style: normal;
    }
   
body {
  margin: 0; 
  padding: 0;
  font-family: 'Helvetica', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: 'Helvetica', sans-serif;
}

a {
    text-decoration: none;
    cursor: pointer;
  }


ul,
ol {
  list-style: none;
  padding: 0;
  margin: 0;
}


h1,
h2,
h3,
h4,
h5,
h6, 
p {
  margin: 0;
  padding: 0;
}

img {
  display: block;
  width: 100%;
  height: auto;
}

input, textarea, select, button {
  font: inherit;
  outline: none;
}

button {
  cursor: pointer;
  border: none;
  outline: none;
  background-color: transparent;
  padding: 0;
  }
  
`,mG="modulepreload",gG=function(t){return"/nanny-services/"+t},vC={},GE=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=gG(s),s in vC)return;vC[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":mG,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},yG=t=>t.auth.userId,_G=t=>t.auth.userName,vG=({component:t,redirectTo:e="/"})=>GP(yG)===null?O.jsx(c$,{to:e}):t;var vv={exports:{}},ho={},CD={exports:{}},wG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EG=wG,TG=EG;function AD(){}function RD(){}RD.resetWarningCache=AD;var SG=function(){function t(r,i,s,o,a,l){if(l!==TG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RD,resetWarningCache:AD};return n.PropTypes=n,n};CD.exports=SG();var PD=CD.exports,wv={exports:{}},er={},Ev={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(h,d){return d.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var d=h.offsetWidth<=0&&h.offsetHeight<=0;if(d&&!h.innerHTML)return!0;try{var f=window.getComputedStyle(h),m=f.getPropertyValue("display");return d?m!==r&&s(h,f):m===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(h){for(var d=h,f=h.getRootNode&&h.getRootNode();d&&d!==document.body;){if(f&&d===f&&(d=f.host.parentNode),o(d))return!1;d=d.parentNode}return!0}function l(h,d){var f=h.nodeName.toLowerCase(),m=i.test(f)&&!h.disabled||f==="a"&&h.href||d;return m&&a(h)}function u(h){var d=h.getAttribute("tabindex");d===null&&(d=void 0);var f=isNaN(d);return(f||d>=0)&&l(h,!f)}function c(h){var d=[].slice.call(h.querySelectorAll("*"),0).reduce(function(f,m){return f.concat(m.shadowRoot?c(m.shadowRoot):[m])},[]);return d.filter(u)}t.exports=e.default})(Ev,Ev.exports);var bD=Ev.exports;Object.defineProperty(er,"__esModule",{value:!0});er.resetState=RG;er.log=PG;er.handleBlur=pc;er.handleFocus=mc;er.markForFocusLater=bG;er.returnFocus=kG;er.popWithoutFocus=xG;er.setupScopedFocus=OG;er.teardownScopedFocus=NG;var IG=bD,CG=AG(IG);function AG(t){return t&&t.__esModule?t:{default:t}}var Ga=[],sa=null,Tv=!1;function RG(){Ga=[]}function PG(){}function pc(){Tv=!0}function mc(){if(Tv){if(Tv=!1,!sa)return;setTimeout(function(){if(!sa.contains(document.activeElement)){var t=(0,CG.default)(sa)[0]||sa;t.focus()}},0)}}function bG(){Ga.push(document.activeElement)}function kG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Ga.length!==0&&(e=Ga.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function xG(){Ga.length>0&&Ga.pop()}function OG(t){sa=t,window.addEventListener?(window.addEventListener("blur",pc,!1),document.addEventListener("focus",mc,!0)):(window.attachEvent("onBlur",pc),document.attachEvent("onFocus",mc))}function NG(){sa=null,window.addEventListener?(window.removeEventListener("blur",pc),document.removeEventListener("focus",mc)):(window.detachEvent("onBlur",pc),document.detachEvent("onFocus",mc))}var Sv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=bD,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,h=l.shiftKey,d=u[0],f=u[u.length-1],m=s();if(a===m){if(!h)return;c=f}if(f===m&&!h&&(c=d),d===m&&h&&(c=f),c){l.preventDefault(),c.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),v=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(v){var g=u.indexOf(m);if(g>-1&&(g+=h?-1:1),c=u[g],typeof c>"u"){l.preventDefault(),c=h?f:d,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(Sv,Sv.exports);var DG=Sv.exports,tr={},MG=function(){},LG=MG,Yn={},kD={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(kD);var FG=kD.exports;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.canUseDOM=Yn.SafeNodeList=Yn.SafeHTMLCollection=void 0;var $G=FG,VG=UG($G);function UG(t){return t&&t.__esModule?t:{default:t}}var _m=VG.default,jG=_m.canUseDOM?window.HTMLElement:{};Yn.SafeHTMLCollection=_m.canUseDOM?window.HTMLCollection:{};Yn.SafeNodeList=_m.canUseDOM?window.NodeList:{};Yn.canUseDOM=_m.canUseDOM;Yn.default=jG;Object.defineProperty(tr,"__esModule",{value:!0});tr.resetState=qG;tr.log=GG;tr.assertNodeList=xD;tr.setElement=KG;tr.validateElement=KE;tr.hide=QG;tr.show=YG;tr.documentNotReadyOrSSRTesting=XG;var zG=LG,BG=HG(zG),WG=Yn;function HG(t){return t&&t.__esModule?t:{default:t}}var In=null;function qG(){In&&(In.removeAttribute?In.removeAttribute("aria-hidden"):In.length!=null?In.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(In).forEach(function(t){return t.removeAttribute("aria-hidden")})),In=null}function GG(){}function xD(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function KG(t){var e=t;if(typeof e=="string"&&WG.canUseDOM){var n=document.querySelectorAll(e);xD(n,e),e=n}return In=e||In,In}function KE(t){var e=t||In;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,BG.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function QG(t){var e=!0,n=!1,r=void 0;try{for(var i=KE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function YG(t){var e=!0,n=!1,r=void 0;try{for(var i=KE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function XG(){In=null}var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.resetState=JG;pl.log=ZG;var du={},fu={};function wC(t,e){t.classList.remove(e)}function JG(){var t=document.getElementsByTagName("html")[0];for(var e in du)wC(t,du[e]);var n=document.body;for(var r in fu)wC(n,fu[r]);du={},fu={}}function ZG(){}var eK=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},tK=function(e,n){return e[n]&&(e[n]-=1),n},nK=function(e,n,r){r.forEach(function(i){eK(n,i),e.add(i)})},rK=function(e,n,r){r.forEach(function(i){tK(n,i),n[i]===0&&e.remove(i)})};pl.add=function(e,n){return nK(e.classList,e.nodeName.toLowerCase()=="html"?du:fu,n.split(" "))};pl.remove=function(e,n){return rK(e.classList,e.nodeName.toLowerCase()=="html"?du:fu,n.split(" "))};var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.log=sK;ml.resetState=oK;function iK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var OD=function t(){var e=this;iK(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Wf=new OD;function sK(){console.log("portalOpenInstances ----------"),console.log(Wf.openInstances.length),Wf.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function oK(){Wf=new OD}ml.default=Wf;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.resetState=cK;QE.log=hK;var aK=ml,lK=uK(aK);function uK(t){return t&&t.__esModule?t:{default:t}}var Mt=void 0,Fn=void 0,Hs=[];function cK(){for(var t=[Mt,Fn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Mt=Fn=null,Hs=[]}function hK(){console.log("bodyTrap ----------"),console.log(Hs.length);for(var t=[Mt,Fn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function EC(){Hs.length!==0&&Hs[Hs.length-1].focusContent()}function dK(t,e){!Mt&&!Fn&&(Mt=document.createElement("div"),Mt.setAttribute("data-react-modal-body-trap",""),Mt.style.position="absolute",Mt.style.opacity="0",Mt.setAttribute("tabindex","0"),Mt.addEventListener("focus",EC),Fn=Mt.cloneNode(),Fn.addEventListener("focus",EC)),Hs=e,Hs.length>0?(document.body.firstChild!==Mt&&document.body.insertBefore(Mt,document.body.firstChild),document.body.lastChild!==Fn&&document.body.appendChild(Fn)):(Mt.parentElement&&Mt.parentElement.removeChild(Mt),Fn.parentElement&&Fn.parentElement.removeChild(Fn))}lK.default.subscribe(dK);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var Te=arguments[K];for(var A in Te)Object.prototype.hasOwnProperty.call(Te,A)&&(W[A]=Te[A])}return W},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},i=function(){function W(K,Te){for(var A=0;A<Te.length;A++){var R=Te[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(K,R.key,R)}}return function(K,Te,A){return Te&&W(K.prototype,Te),A&&W(K,A),K}}(),s=T,o=PD,a=I(o),l=er,u=w(l),c=DG,h=I(c),d=tr,f=w(d),m=pl,_=w(m),v=Yn,g=I(v),p=ml,y=I(p);function w(W){if(W&&W.__esModule)return W;var K={};if(W!=null)for(var Te in W)Object.prototype.hasOwnProperty.call(W,Te)&&(K[Te]=W[Te]);return K.default=W,K}function I(W){return W&&W.__esModule?W:{default:W}}function E(W,K){if(!(W instanceof K))throw new TypeError("Cannot call a class as a function")}function S(W,K){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:W}function b(W,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);W.prototype=Object.create(K&&K.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(W,K):W.__proto__=K)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},j=function(K){return K.code==="Tab"||K.keyCode===9},ne=function(K){return K.code==="Escape"||K.keyCode===27},We=0,Ce=function(W){b(K,W);function K(Te){E(this,K);var A=S(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Te));return A.setOverlayRef=function(R){A.overlay=R,A.props.overlayRef&&A.props.overlayRef(R)},A.setContentRef=function(R){A.content=R,A.props.contentRef&&A.props.contentRef(R)},A.afterClose=function(){var R=A.props,L=R.appElement,U=R.ariaHideApp,q=R.htmlOpenClassName,re=R.bodyOpenClassName,lt=R.parentSelector,Ke=lt&&lt().ownerDocument||document;re&&_.remove(Ke.body,re),q&&_.remove(Ke.getElementsByTagName("html")[0],q),U&&We>0&&(We-=1,We===0&&f.show(L)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(u.returnFocus(A.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),y.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(u.setupScopedFocus(A.node),u.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var R=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:R},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function(R){j(R)&&(0,h.default)(A.content,R),A.props.shouldCloseOnEsc&&ne(R)&&(R.stopPropagation(),A.requestClose(R))},A.handleOverlayOnClick=function(R){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose(R):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function(R){!A.props.shouldCloseOnOverlayClick&&R.target==A.overlay&&R.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function(R){return A.ownerHandlesClose()&&A.props.onRequestClose(R)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function(R,L){var U=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:V[R],afterOpen:V[R]+"--after-open",beforeClose:V[R]+"--before-close"},q=U.base;return A.state.afterOpen&&(q=q+" "+U.afterOpen),A.state.beforeClose&&(q=q+" "+U.beforeClose),typeof L=="string"&&L?q+" "+L:q},A.attributesFromObject=function(R,L){return Object.keys(L).reduce(function(U,q){return U[R+"-"+q]=L[q],U},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return i(K,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,R){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!R.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,R=A.appElement,L=A.ariaHideApp,U=A.htmlOpenClassName,q=A.bodyOpenClassName,re=A.parentSelector,lt=re&&re().ownerDocument||document;q&&_.add(lt.body,q),U&&_.add(lt.getElementsByTagName("html")[0],U),L&&(We+=1,f.hide(R)),y.default.register(this)}},{key:"render",value:function(){var A=this.props,R=A.id,L=A.className,U=A.overlayClassName,q=A.defaultStyles,re=A.children,lt=L?{}:q.content,Ke=U?{}:q.overlay;if(this.shouldBeClosed())return null;var Et={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},Ke,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ut=n({id:R,ref:this.setContentRef,style:n({},lt,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Wt=this.props.contentElement(ut,re);return this.props.overlayElement(Et,Wt)}}]),K}(s.Component);Ce.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Ce.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(g.default),a.default.instanceOf(v.SafeHTMLCollection),a.default.instanceOf(v.SafeNodeList),a.default.arrayOf(a.default.instanceOf(g.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Ce,t.exports=e.default})(wv,wv.exports);var fK=wv.exports;function ND(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function DD(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function MD(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ND.__suppressDeprecationWarning=!0;DD.__suppressDeprecationWarning=!0;MD.__suppressDeprecationWarning=!0;function pK(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=ND,e.componentWillReceiveProps=DD),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=MD;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,h){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,u,c,d)}}return t}const mK=Object.freeze(Object.defineProperty({__proto__:null,polyfill:pK},Symbol.toStringTag,{value:"Module"})),gK=J2(mK);Object.defineProperty(ho,"__esModule",{value:!0});ho.bodyOpenClassName=ho.portalClassName=void 0;var TC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),LD=T,Hf=th(LD),_K=xP,qf=th(_K),vK=PD,Z=th(vK),wK=fK,SC=th(wK),EK=tr,TK=IK(EK),xi=Yn,IC=th(xi),SK=gK;function IK(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function th(t){return t&&t.__esModule?t:{default:t}}function CK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var RK=ho.portalClassName="ReactModalPortal",PK=ho.bodyOpenClassName="ReactModal__Body--open",Rs=xi.canUseDOM&&qf.default.createPortal!==void 0,AC=function(e){return document.createElement(e)},RC=function(){return Rs?qf.default.createPortal:qf.default.unstable_renderSubtreeIntoContainer};function Vh(t){return t()}var nh=function(t){AK(e,t);function e(){var n,r,i,s;CK(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=CC(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Rs&&qf.default.unmountComponentAtNode(i.node);var u=Vh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=RC(),h=c(i,Hf.default.createElement(SC.default,TC({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(h)},r),CC(i,s)}return yK(e,[{key:"componentDidMount",value:function(){if(xi.canUseDOM){Rs||(this.node=AC("div")),this.node.className=this.props.portalClassName;var r=Vh(this.props.parentSelector);r.appendChild(this.node),!Rs&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Vh(r.parentSelector),s=Vh(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(xi.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,c=s.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Rs&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!xi.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!xi.canUseDOM||!Rs)return null;!this.node&&Rs&&(this.node=AC("div"));var r=RC();return r(Hf.default.createElement(SC.default,TC({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){TK.setElement(r)}}]),e}(LD.Component);nh.propTypes={isOpen:Z.default.bool.isRequired,style:Z.default.shape({content:Z.default.object,overlay:Z.default.object}),portalClassName:Z.default.string,bodyOpenClassName:Z.default.string,htmlOpenClassName:Z.default.string,className:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),overlayClassName:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),appElement:Z.default.oneOfType([Z.default.instanceOf(IC.default),Z.default.instanceOf(xi.SafeHTMLCollection),Z.default.instanceOf(xi.SafeNodeList),Z.default.arrayOf(Z.default.instanceOf(IC.default))]),onAfterOpen:Z.default.func,onRequestClose:Z.default.func,closeTimeoutMS:Z.default.number,ariaHideApp:Z.default.bool,shouldFocusAfterRender:Z.default.bool,shouldCloseOnOverlayClick:Z.default.bool,shouldReturnFocusAfterClose:Z.default.bool,preventScroll:Z.default.bool,parentSelector:Z.default.func,aria:Z.default.object,data:Z.default.object,role:Z.default.string,contentLabel:Z.default.string,shouldCloseOnEsc:Z.default.bool,overlayRef:Z.default.func,contentRef:Z.default.func,id:Z.default.string,overlayElement:Z.default.func,contentElement:Z.default.func};nh.defaultProps={isOpen:!1,portalClassName:RK,bodyOpenClassName:PK,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Hf.default.createElement("div",e,n)},contentElement:function(e,n){return Hf.default.createElement("div",e,n)}};nh.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,SK.polyfill)(nh);ho.default=nh;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ho,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(vv,vv.exports);var bK=vv.exports;const FD=vc(bK),Ka="/nanny-services/assets/icons-8e6e0356.svg",kK=Ie.button`
  position: absolute;
  top: 20px;
  right: 20px;
  background-color: transparent;
`,xK=Ie.svg`
  width: 20px;
  height: 20px;
  transition: fill 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    fill: ${t=>t.theme.colors.green};
  }
`;FD.setAppElement("#modal");const OK=({children:t,isModalOpen:e,closeModal:n,styles:r})=>O.jsxs(FD,{isOpen:e,onRequestClose:n,style:r,contentLabel:"Custom Modal",children:[O.jsx(kK,{type:"button",onClick:n,children:O.jsx(xK,{children:O.jsx("use",{href:`${Ka}#close`})})}),t]});var NK=function(e){return DK(e)&&!MK(e)};function DK(t){return!!t&&typeof t=="object"}function MK(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||$K(t)}var LK=typeof Symbol=="function"&&Symbol.for,FK=LK?Symbol.for("react.element"):60103;function $K(t){return t.$$typeof===FK}function VK(t){return Array.isArray(t)?[]:{}}function Gf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?gc(VK(t),t,e):t}function UK(t,e,n){return t.concat(e).map(function(r){return Gf(r,n)})}function jK(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Gf(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Gf(e[i],n):r[i]=gc(t[i],e[i],n)}),r}function gc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||UK,n.isMergeableObject=n.isMergeableObject||NK;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):jK(t,e,n):Gf(e,n)}gc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return gc(r,i,n)},{})};var Iv=gc,zK=typeof global=="object"&&global&&global.Object===Object&&global;const $D=zK;var BK=typeof self=="object"&&self&&self.Object===Object&&self,WK=$D||BK||Function("return this")();const Ar=WK;var HK=Ar.Symbol;const us=HK;var VD=Object.prototype,qK=VD.hasOwnProperty,GK=VD.toString,Ol=us?us.toStringTag:void 0;function KK(t){var e=qK.call(t,Ol),n=t[Ol];try{t[Ol]=void 0;var r=!0}catch{}var i=GK.call(t);return r&&(e?t[Ol]=n:delete t[Ol]),i}var QK=Object.prototype,YK=QK.toString;function XK(t){return YK.call(t)}var JK="[object Null]",ZK="[object Undefined]",PC=us?us.toStringTag:void 0;function Co(t){return t==null?t===void 0?ZK:JK:PC&&PC in Object(t)?KK(t):XK(t)}function UD(t,e){return function(n){return t(e(n))}}var eQ=UD(Object.getPrototypeOf,Object);const YE=eQ;function Ao(t){return t!=null&&typeof t=="object"}var tQ="[object Object]",nQ=Function.prototype,rQ=Object.prototype,jD=nQ.toString,iQ=rQ.hasOwnProperty,sQ=jD.call(Object);function bC(t){if(!Ao(t)||Co(t)!=tQ)return!1;var e=YE(t);if(e===null)return!0;var n=iQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jD.call(n)==sQ}var kC=Array.isArray,xC=Object.keys,oQ=Object.prototype.hasOwnProperty,aQ=typeof Element<"u";function Cv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=kC(t),r=kC(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Cv(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=xC(t);if(s=h.length,s!==xC(e).length)return!1;for(i=s;i--!==0;)if(!oQ.call(e,h[i]))return!1;if(aQ&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!Cv(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var lQ=function(e,n){try{return Cv(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const vi=vc(lQ);var uQ=!0;function zD(t,e){if(!uQ){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function cQ(){this.__data__=[],this.size=0}function BD(t,e){return t===e||t!==t&&e!==e}function vm(t,e){for(var n=t.length;n--;)if(BD(t[n][0],e))return n;return-1}var hQ=Array.prototype,dQ=hQ.splice;function fQ(t){var e=this.__data__,n=vm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dQ.call(e,n,1),--this.size,!0}function pQ(t){var e=this.__data__,n=vm(e,t);return n<0?void 0:e[n][1]}function mQ(t){return vm(this.__data__,t)>-1}function gQ(t,e){var n=this.__data__,r=vm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ci(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ci.prototype.clear=cQ;ci.prototype.delete=fQ;ci.prototype.get=pQ;ci.prototype.has=mQ;ci.prototype.set=gQ;function yQ(){this.__data__=new ci,this.size=0}function _Q(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function vQ(t){return this.__data__.get(t)}function wQ(t){return this.__data__.has(t)}function rh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var EQ="[object AsyncFunction]",TQ="[object Function]",SQ="[object GeneratorFunction]",IQ="[object Proxy]";function WD(t){if(!rh(t))return!1;var e=Co(t);return e==TQ||e==SQ||e==EQ||e==IQ}var CQ=Ar["__core-js_shared__"];const ty=CQ;var OC=function(){var t=/[^.]+$/.exec(ty&&ty.keys&&ty.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function AQ(t){return!!OC&&OC in t}var RQ=Function.prototype,PQ=RQ.toString;function Ro(t){if(t!=null){try{return PQ.call(t)}catch{}try{return t+""}catch{}}return""}var bQ=/[\\^$.*+?()[\]{}|]/g,kQ=/^\[object .+?Constructor\]$/,xQ=Function.prototype,OQ=Object.prototype,NQ=xQ.toString,DQ=OQ.hasOwnProperty,MQ=RegExp("^"+NQ.call(DQ).replace(bQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LQ(t){if(!rh(t)||AQ(t))return!1;var e=WD(t)?MQ:kQ;return e.test(Ro(t))}function FQ(t,e){return t==null?void 0:t[e]}function Po(t,e){var n=FQ(t,e);return LQ(n)?n:void 0}var $Q=Po(Ar,"Map");const yc=$Q;var VQ=Po(Object,"create");const _c=VQ;function UQ(){this.__data__=_c?_c(null):{},this.size=0}function jQ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zQ="__lodash_hash_undefined__",BQ=Object.prototype,WQ=BQ.hasOwnProperty;function HQ(t){var e=this.__data__;if(_c){var n=e[t];return n===zQ?void 0:n}return WQ.call(e,t)?e[t]:void 0}var qQ=Object.prototype,GQ=qQ.hasOwnProperty;function KQ(t){var e=this.__data__;return _c?e[t]!==void 0:GQ.call(e,t)}var QQ="__lodash_hash_undefined__";function YQ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_c&&e===void 0?QQ:e,this}function fo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fo.prototype.clear=UQ;fo.prototype.delete=jQ;fo.prototype.get=HQ;fo.prototype.has=KQ;fo.prototype.set=YQ;function XQ(){this.size=0,this.__data__={hash:new fo,map:new(yc||ci),string:new fo}}function JQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wm(t,e){var n=t.__data__;return JQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function ZQ(t){var e=wm(this,t).delete(t);return this.size-=e?1:0,e}function eY(t){return wm(this,t).get(t)}function tY(t){return wm(this,t).has(t)}function nY(t,e){var n=wm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ws.prototype.clear=XQ;ws.prototype.delete=ZQ;ws.prototype.get=eY;ws.prototype.has=tY;ws.prototype.set=nY;var rY=200;function iY(t,e){var n=this.__data__;if(n instanceof ci){var r=n.__data__;if(!yc||r.length<rY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ws(r)}return n.set(t,e),this.size=n.size,this}function gl(t){var e=this.__data__=new ci(t);this.size=e.size}gl.prototype.clear=yQ;gl.prototype.delete=_Q;gl.prototype.get=vQ;gl.prototype.has=wQ;gl.prototype.set=iY;function sY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var oY=function(){try{var t=Po(Object,"defineProperty");return t({},"",{}),t}catch{}}();const NC=oY;function HD(t,e,n){e=="__proto__"&&NC?NC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var aY=Object.prototype,lY=aY.hasOwnProperty;function qD(t,e,n){var r=t[e];(!(lY.call(t,e)&&BD(r,n))||n===void 0&&!(e in t))&&HD(t,e,n)}function Em(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?HD(n,a,l):qD(n,a,l)}return n}function uY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cY="[object Arguments]";function DC(t){return Ao(t)&&Co(t)==cY}var GD=Object.prototype,hY=GD.hasOwnProperty,dY=GD.propertyIsEnumerable,fY=DC(function(){return arguments}())?DC:function(t){return Ao(t)&&hY.call(t,"callee")&&!dY.call(t,"callee")};const pY=fY;var mY=Array.isArray;const ih=mY;function gY(){return!1}var KD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MC=KD&&typeof module=="object"&&module&&!module.nodeType&&module,yY=MC&&MC.exports===KD,LC=yY?Ar.Buffer:void 0,_Y=LC?LC.isBuffer:void 0,vY=_Y||gY;const QD=vY;var wY=9007199254740991,EY=/^(?:0|[1-9]\d*)$/;function TY(t,e){var n=typeof t;return e=e??wY,!!e&&(n=="number"||n!="symbol"&&EY.test(t))&&t>-1&&t%1==0&&t<e}var SY=9007199254740991;function YD(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SY}var IY="[object Arguments]",CY="[object Array]",AY="[object Boolean]",RY="[object Date]",PY="[object Error]",bY="[object Function]",kY="[object Map]",xY="[object Number]",OY="[object Object]",NY="[object RegExp]",DY="[object Set]",MY="[object String]",LY="[object WeakMap]",FY="[object ArrayBuffer]",$Y="[object DataView]",VY="[object Float32Array]",UY="[object Float64Array]",jY="[object Int8Array]",zY="[object Int16Array]",BY="[object Int32Array]",WY="[object Uint8Array]",HY="[object Uint8ClampedArray]",qY="[object Uint16Array]",GY="[object Uint32Array]",Oe={};Oe[VY]=Oe[UY]=Oe[jY]=Oe[zY]=Oe[BY]=Oe[WY]=Oe[HY]=Oe[qY]=Oe[GY]=!0;Oe[IY]=Oe[CY]=Oe[FY]=Oe[AY]=Oe[$Y]=Oe[RY]=Oe[PY]=Oe[bY]=Oe[kY]=Oe[xY]=Oe[OY]=Oe[NY]=Oe[DY]=Oe[MY]=Oe[LY]=!1;function KY(t){return Ao(t)&&YD(t.length)&&!!Oe[Co(t)]}function XE(t){return function(e){return t(e)}}var XD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pu=XD&&typeof module=="object"&&module&&!module.nodeType&&module,QY=pu&&pu.exports===XD,ny=QY&&$D.process,YY=function(){try{var t=pu&&pu.require&&pu.require("util").types;return t||ny&&ny.binding&&ny.binding("util")}catch{}}();const Qa=YY;var FC=Qa&&Qa.isTypedArray,XY=FC?XE(FC):KY;const JY=XY;var ZY=Object.prototype,eX=ZY.hasOwnProperty;function JD(t,e){var n=ih(t),r=!n&&pY(t),i=!n&&!r&&QD(t),s=!n&&!r&&!i&&JY(t),o=n||r||i||s,a=o?uY(t.length,String):[],l=a.length;for(var u in t)(e||eX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||TY(u,l)))&&a.push(u);return a}var tX=Object.prototype;function JE(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tX;return t===n}var nX=UD(Object.keys,Object);const rX=nX;var iX=Object.prototype,sX=iX.hasOwnProperty;function oX(t){if(!JE(t))return rX(t);var e=[];for(var n in Object(t))sX.call(t,n)&&n!="constructor"&&e.push(n);return e}function ZD(t){return t!=null&&YD(t.length)&&!WD(t)}function ZE(t){return ZD(t)?JD(t):oX(t)}function aX(t,e){return t&&Em(e,ZE(e),t)}function lX(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var uX=Object.prototype,cX=uX.hasOwnProperty;function hX(t){if(!rh(t))return lX(t);var e=JE(t),n=[];for(var r in t)r=="constructor"&&(e||!cX.call(t,r))||n.push(r);return n}function eT(t){return ZD(t)?JD(t,!0):hX(t)}function dX(t,e){return t&&Em(e,eT(e),t)}var e2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$C=e2&&typeof module=="object"&&module&&!module.nodeType&&module,fX=$C&&$C.exports===e2,VC=fX?Ar.Buffer:void 0,UC=VC?VC.allocUnsafe:void 0;function pX(t,e){if(e)return t.slice();var n=t.length,r=UC?UC(n):new t.constructor(n);return t.copy(r),r}function t2(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function mX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function n2(){return[]}var gX=Object.prototype,yX=gX.propertyIsEnumerable,jC=Object.getOwnPropertySymbols,_X=jC?function(t){return t==null?[]:(t=Object(t),mX(jC(t),function(e){return yX.call(t,e)}))}:n2;const tT=_X;function vX(t,e){return Em(t,tT(t),e)}function r2(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wX=Object.getOwnPropertySymbols,EX=wX?function(t){for(var e=[];t;)r2(e,tT(t)),t=YE(t);return e}:n2;const i2=EX;function TX(t,e){return Em(t,i2(t),e)}function s2(t,e,n){var r=e(t);return ih(t)?r:r2(r,n(t))}function SX(t){return s2(t,ZE,tT)}function IX(t){return s2(t,eT,i2)}var CX=Po(Ar,"DataView");const Av=CX;var AX=Po(Ar,"Promise");const Rv=AX;var RX=Po(Ar,"Set");const Pv=RX;var PX=Po(Ar,"WeakMap");const bv=PX;var zC="[object Map]",bX="[object Object]",BC="[object Promise]",WC="[object Set]",HC="[object WeakMap]",qC="[object DataView]",kX=Ro(Av),xX=Ro(yc),OX=Ro(Rv),NX=Ro(Pv),DX=Ro(bv),Ps=Co;(Av&&Ps(new Av(new ArrayBuffer(1)))!=qC||yc&&Ps(new yc)!=zC||Rv&&Ps(Rv.resolve())!=BC||Pv&&Ps(new Pv)!=WC||bv&&Ps(new bv)!=HC)&&(Ps=function(t){var e=Co(t),n=e==bX?t.constructor:void 0,r=n?Ro(n):"";if(r)switch(r){case kX:return qC;case xX:return zC;case OX:return BC;case NX:return WC;case DX:return HC}return e});const nT=Ps;var MX=Object.prototype,LX=MX.hasOwnProperty;function FX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&LX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var $X=Ar.Uint8Array;const GC=$X;function rT(t){var e=new t.constructor(t.byteLength);return new GC(e).set(new GC(t)),e}function VX(t,e){var n=e?rT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var UX=/\w*$/;function jX(t){var e=new t.constructor(t.source,UX.exec(t));return e.lastIndex=t.lastIndex,e}var KC=us?us.prototype:void 0,QC=KC?KC.valueOf:void 0;function zX(t){return QC?Object(QC.call(t)):{}}function BX(t,e){var n=e?rT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var WX="[object Boolean]",HX="[object Date]",qX="[object Map]",GX="[object Number]",KX="[object RegExp]",QX="[object Set]",YX="[object String]",XX="[object Symbol]",JX="[object ArrayBuffer]",ZX="[object DataView]",eJ="[object Float32Array]",tJ="[object Float64Array]",nJ="[object Int8Array]",rJ="[object Int16Array]",iJ="[object Int32Array]",sJ="[object Uint8Array]",oJ="[object Uint8ClampedArray]",aJ="[object Uint16Array]",lJ="[object Uint32Array]";function uJ(t,e,n){var r=t.constructor;switch(e){case JX:return rT(t);case WX:case HX:return new r(+t);case ZX:return VX(t,n);case eJ:case tJ:case nJ:case rJ:case iJ:case sJ:case oJ:case aJ:case lJ:return BX(t,n);case qX:return new r;case GX:case YX:return new r(t);case KX:return jX(t);case QX:return new r;case XX:return zX(t)}}var YC=Object.create,cJ=function(){function t(){}return function(e){if(!rh(e))return{};if(YC)return YC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const hJ=cJ;function dJ(t){return typeof t.constructor=="function"&&!JE(t)?hJ(YE(t)):{}}var fJ="[object Map]";function pJ(t){return Ao(t)&&nT(t)==fJ}var XC=Qa&&Qa.isMap,mJ=XC?XE(XC):pJ;const gJ=mJ;var yJ="[object Set]";function _J(t){return Ao(t)&&nT(t)==yJ}var JC=Qa&&Qa.isSet,vJ=JC?XE(JC):_J;const wJ=vJ;var EJ=1,TJ=2,SJ=4,o2="[object Arguments]",IJ="[object Array]",CJ="[object Boolean]",AJ="[object Date]",RJ="[object Error]",a2="[object Function]",PJ="[object GeneratorFunction]",bJ="[object Map]",kJ="[object Number]",l2="[object Object]",xJ="[object RegExp]",OJ="[object Set]",NJ="[object String]",DJ="[object Symbol]",MJ="[object WeakMap]",LJ="[object ArrayBuffer]",FJ="[object DataView]",$J="[object Float32Array]",VJ="[object Float64Array]",UJ="[object Int8Array]",jJ="[object Int16Array]",zJ="[object Int32Array]",BJ="[object Uint8Array]",WJ="[object Uint8ClampedArray]",HJ="[object Uint16Array]",qJ="[object Uint32Array]",Ae={};Ae[o2]=Ae[IJ]=Ae[LJ]=Ae[FJ]=Ae[CJ]=Ae[AJ]=Ae[$J]=Ae[VJ]=Ae[UJ]=Ae[jJ]=Ae[zJ]=Ae[bJ]=Ae[kJ]=Ae[l2]=Ae[xJ]=Ae[OJ]=Ae[NJ]=Ae[DJ]=Ae[BJ]=Ae[WJ]=Ae[HJ]=Ae[qJ]=!0;Ae[RJ]=Ae[a2]=Ae[MJ]=!1;function mu(t,e,n,r,i,s){var o,a=e&EJ,l=e&TJ,u=e&SJ;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!rh(t))return t;var c=ih(t);if(c){if(o=FX(t),!a)return t2(t,o)}else{var h=nT(t),d=h==a2||h==PJ;if(QD(t))return pX(t,a);if(h==l2||h==o2||d&&!i){if(o=l||d?{}:dJ(t),!a)return l?TX(t,dX(o,t)):vX(t,aX(o,t))}else{if(!Ae[h])return i?t:{};o=uJ(t,h,a)}}s||(s=new gl);var f=s.get(t);if(f)return f;s.set(t,o),wJ(t)?t.forEach(function(v){o.add(mu(v,e,n,v,t,s))}):gJ(t)&&t.forEach(function(v,g){o.set(g,mu(v,e,n,g,t,s))});var m=u?l?IX:SX:l?eT:ZE,_=c?void 0:m(t);return sY(_||t,function(v,g){_&&(g=v,v=t[g]),qD(o,g,mu(v,e,n,g,t,s))}),o}var GJ=4;function ZC(t){return mu(t,GJ)}function u2(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var KJ="[object Symbol]";function iT(t){return typeof t=="symbol"||Ao(t)&&Co(t)==KJ}var QJ="Expected a function";function sT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QJ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sT.Cache||ws),n}sT.Cache=ws;var YJ=500;function XJ(t){var e=sT(t,function(r){return n.size===YJ&&n.clear(),r}),n=e.cache;return e}var JJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZJ=/\\(\\)?/g,eZ=XJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JJ,function(n,r,i,s){e.push(i?s.replace(ZJ,"$1"):r||n)}),e});const tZ=eZ;var nZ=1/0;function rZ(t){if(typeof t=="string"||iT(t))return t;var e=t+"";return e=="0"&&1/t==-nZ?"-0":e}var iZ=1/0,eA=us?us.prototype:void 0,tA=eA?eA.toString:void 0;function c2(t){if(typeof t=="string")return t;if(ih(t))return u2(t,c2)+"";if(iT(t))return tA?tA.call(t):"";var e=t+"";return e=="0"&&1/t==-iZ?"-0":e}function sZ(t){return t==null?"":c2(t)}function h2(t){return ih(t)?u2(t,rZ):iT(t)?[t]:t2(tZ(sZ(t)))}var d2={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=typeof Symbol=="function"&&Symbol.for,oT=wt?Symbol.for("react.element"):60103,aT=wt?Symbol.for("react.portal"):60106,Tm=wt?Symbol.for("react.fragment"):60107,Sm=wt?Symbol.for("react.strict_mode"):60108,Im=wt?Symbol.for("react.profiler"):60114,Cm=wt?Symbol.for("react.provider"):60109,Am=wt?Symbol.for("react.context"):60110,lT=wt?Symbol.for("react.async_mode"):60111,Rm=wt?Symbol.for("react.concurrent_mode"):60111,Pm=wt?Symbol.for("react.forward_ref"):60112,bm=wt?Symbol.for("react.suspense"):60113,oZ=wt?Symbol.for("react.suspense_list"):60120,km=wt?Symbol.for("react.memo"):60115,xm=wt?Symbol.for("react.lazy"):60116,aZ=wt?Symbol.for("react.block"):60121,lZ=wt?Symbol.for("react.fundamental"):60117,uZ=wt?Symbol.for("react.responder"):60118,cZ=wt?Symbol.for("react.scope"):60119;function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case oT:switch(t=t.type,t){case lT:case Rm:case Tm:case Im:case Sm:case bm:return t;default:switch(t=t&&t.$$typeof,t){case Am:case Pm:case xm:case km:case Cm:return t;default:return e}}case aT:return e}}}function f2(t){return Tn(t)===Rm}Ee.AsyncMode=lT;Ee.ConcurrentMode=Rm;Ee.ContextConsumer=Am;Ee.ContextProvider=Cm;Ee.Element=oT;Ee.ForwardRef=Pm;Ee.Fragment=Tm;Ee.Lazy=xm;Ee.Memo=km;Ee.Portal=aT;Ee.Profiler=Im;Ee.StrictMode=Sm;Ee.Suspense=bm;Ee.isAsyncMode=function(t){return f2(t)||Tn(t)===lT};Ee.isConcurrentMode=f2;Ee.isContextConsumer=function(t){return Tn(t)===Am};Ee.isContextProvider=function(t){return Tn(t)===Cm};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===oT};Ee.isForwardRef=function(t){return Tn(t)===Pm};Ee.isFragment=function(t){return Tn(t)===Tm};Ee.isLazy=function(t){return Tn(t)===xm};Ee.isMemo=function(t){return Tn(t)===km};Ee.isPortal=function(t){return Tn(t)===aT};Ee.isProfiler=function(t){return Tn(t)===Im};Ee.isStrictMode=function(t){return Tn(t)===Sm};Ee.isSuspense=function(t){return Tn(t)===bm};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tm||t===Rm||t===Im||t===Sm||t===bm||t===oZ||typeof t=="object"&&t!==null&&(t.$$typeof===xm||t.$$typeof===km||t.$$typeof===Cm||t.$$typeof===Am||t.$$typeof===Pm||t.$$typeof===lZ||t.$$typeof===uZ||t.$$typeof===cZ||t.$$typeof===aZ)};Ee.typeOf=Tn;d2.exports=Ee;var hZ=d2.exports,uT=hZ,dZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},pZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},p2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cT={};cT[uT.ForwardRef]=pZ;cT[uT.Memo]=p2;function nA(t){return uT.isMemo(t)?p2:cT[t.$$typeof]||dZ}var mZ=Object.defineProperty,gZ=Object.getOwnPropertyNames,rA=Object.getOwnPropertySymbols,yZ=Object.getOwnPropertyDescriptor,_Z=Object.getPrototypeOf,iA=Object.prototype;function m2(t,e,n){if(typeof e!="string"){if(iA){var r=_Z(e);r&&r!==iA&&m2(t,r,n)}var i=gZ(e);rA&&(i=i.concat(rA(e)));for(var s=nA(t),o=nA(e),a=0;a<i.length;++a){var l=i[a];if(!fZ[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=yZ(e,l);try{mZ(t,l,u)}catch{}}}}return t}var vZ=m2;const wZ=vc(vZ);var EZ=1,TZ=4;function SZ(t){return mu(t,EZ|TZ)}function _e(){return _e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_e.apply(this,arguments)}function g2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Oi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Om=T.createContext(void 0);Om.displayName="FormikContext";var IZ=Om.Provider,CZ=Om.Consumer;function y2(){var t=T.useContext(Om);return t||zD(!1),t}var oA=function(e){return Array.isArray(e)&&e.length===0},It=function(e){return typeof e=="function"},sh=function(e){return e!==null&&typeof e=="object"},AZ=function(e){return String(Math.floor(Number(e)))===e},ry=function(e){return Object.prototype.toString.call(e)==="[object String]"},_2=function(e){return T.Children.count(e)===0},iy=function(e){return sh(e)&&It(e.then)};function Le(t,e,n,r){r===void 0&&(r=0);for(var i=h2(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function wr(t,e,n){for(var r=ZC(t),i=r,s=0,o=h2(e);s<o.length-1;s++){var a=o[s],l=Le(t,o.slice(0,s+1));if(l&&(sh(l)||Array.isArray(l)))i=i[a]=ZC(l);else{var u=o[s+1];i=i[a]=AZ(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function v2(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];sh(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},v2(a,e,n,r[o])):r[o]=e}return r}function RZ(t,e){switch(e.type){case"SET_VALUES":return _e({},t,{values:e.payload});case"SET_TOUCHED":return _e({},t,{touched:e.payload});case"SET_ERRORS":return vi(t.errors,e.payload)?t:_e({},t,{errors:e.payload});case"SET_STATUS":return _e({},t,{status:e.payload});case"SET_ISSUBMITTING":return _e({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return _e({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return _e({},t,{values:wr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return _e({},t,{touched:wr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return _e({},t,{errors:wr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return _e({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return _e({},t,{touched:v2(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return _e({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return _e({},t,{isSubmitting:!1});default:return t}}var Es={},Uh={};function PZ(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=Oi(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=_e({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),f=T.useRef(d.initialValues),m=T.useRef(d.initialErrors||Es),_=T.useRef(d.initialTouched||Uh),v=T.useRef(d.initialStatus),g=T.useRef(!1),p=T.useRef({});T.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var y=T.useState(0),w=y[1],I=T.useRef({values:d.initialValues,errors:d.initialErrors||Es,touched:d.initialTouched||Uh,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=I.current,S=T.useCallback(function(C){var F=I.current;I.current=RZ(F,C),F!==I.current&&w(function(z){return z+1})},[]),b=T.useCallback(function(C,F){return new Promise(function(z,G){var se=d.validate(C,F);se==null?z(Es):iy(se)?se.then(function(ye){z(ye||Es)},function(ye){G(ye)}):z(se)})},[d.validate]),V=T.useCallback(function(C,F){var z=d.validationSchema,G=It(z)?z(F):z,se=F&&G.validateAt?G.validateAt(F,C):kZ(C,G);return new Promise(function(ye,ct){se.then(function(){ye(Es)},function(Rr){Rr.name==="ValidationError"?ye(bZ(Rr)):ct(Rr)})})},[d.validationSchema]),j=T.useCallback(function(C,F){return new Promise(function(z){return z(p.current[C].validate(F))})},[]),ne=T.useCallback(function(C){var F=Object.keys(p.current).filter(function(G){return It(p.current[G].validate)}),z=F.length>0?F.map(function(G){return j(G,Le(C,G))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(z).then(function(G){return G.reduce(function(se,ye,ct){return ye==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ye&&(se=wr(se,F[ct],ye)),se},{})})},[j]),We=T.useCallback(function(C){return Promise.all([ne(C),d.validationSchema?V(C):{},d.validate?b(C):{}]).then(function(F){var z=F[0],G=F[1],se=F[2],ye=Iv.all([z,G,se],{arrayMerge:xZ});return ye})},[d.validate,d.validationSchema,ne,b,V]),Ce=Sn(function(C){return C===void 0&&(C=E.values),S({type:"SET_ISVALIDATING",payload:!0}),We(C).then(function(F){return g.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:F})),F})});T.useEffect(function(){o&&g.current===!0&&vi(f.current,d.initialValues)&&Ce(f.current)},[o,Ce]);var W=T.useCallback(function(C){var F=C&&C.values?C.values:f.current,z=C&&C.errors?C.errors:m.current?m.current:d.initialErrors||{},G=C&&C.touched?C.touched:_.current?_.current:d.initialTouched||{},se=C&&C.status?C.status:v.current?v.current:d.initialStatus;f.current=F,m.current=z,_.current=G,v.current=se;var ye=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!C&&!!C.isSubmitting,errors:z,touched:G,status:se,values:F,isValidating:!!C&&!!C.isValidating,submitCount:C&&C.submitCount&&typeof C.submitCount=="number"?C.submitCount:0}})};if(d.onReset){var ct=d.onReset(E.values,yT);iy(ct)?ct.then(ye):ye()}else ye()},[d.initialErrors,d.initialStatus,d.initialTouched,d.onReset]);T.useEffect(function(){g.current===!0&&!vi(f.current,d.initialValues)&&u&&(f.current=d.initialValues,W(),o&&Ce(f.current))},[u,d.initialValues,W,o,Ce]),T.useEffect(function(){u&&g.current===!0&&!vi(m.current,d.initialErrors)&&(m.current=d.initialErrors||Es,S({type:"SET_ERRORS",payload:d.initialErrors||Es}))},[u,d.initialErrors]),T.useEffect(function(){u&&g.current===!0&&!vi(_.current,d.initialTouched)&&(_.current=d.initialTouched||Uh,S({type:"SET_TOUCHED",payload:d.initialTouched||Uh}))},[u,d.initialTouched]),T.useEffect(function(){u&&g.current===!0&&!vi(v.current,d.initialStatus)&&(v.current=d.initialStatus,S({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var K=Sn(function(C){if(p.current[C]&&It(p.current[C].validate)){var F=Le(E.values,C),z=p.current[C].validate(F);return iy(z)?(S({type:"SET_ISVALIDATING",payload:!0}),z.then(function(G){return G}).then(function(G){S({type:"SET_FIELD_ERROR",payload:{field:C,value:G}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:C,value:z}}),Promise.resolve(z))}else if(d.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),V(E.values,C).then(function(G){return G}).then(function(G){S({type:"SET_FIELD_ERROR",payload:{field:C,value:Le(G,C)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Te=T.useCallback(function(C,F){var z=F.validate;p.current[C]={validate:z}},[]),A=T.useCallback(function(C){delete p.current[C]},[]),R=Sn(function(C,F){S({type:"SET_TOUCHED",payload:C});var z=F===void 0?i:F;return z?Ce(E.values):Promise.resolve()}),L=T.useCallback(function(C){S({type:"SET_ERRORS",payload:C})},[]),U=Sn(function(C,F){var z=It(C)?C(E.values):C;S({type:"SET_VALUES",payload:z});var G=F===void 0?n:F;return G?Ce(z):Promise.resolve()}),q=T.useCallback(function(C,F){S({type:"SET_FIELD_ERROR",payload:{field:C,value:F}})},[]),re=Sn(function(C,F,z){S({type:"SET_FIELD_VALUE",payload:{field:C,value:F}});var G=z===void 0?n:z;return G?Ce(wr(E.values,C,F)):Promise.resolve()}),lt=T.useCallback(function(C,F){var z=F,G=C,se;if(!ry(C)){C.persist&&C.persist();var ye=C.target?C.target:C.currentTarget,ct=ye.type,Rr=ye.name,$m=ye.id,Vm=ye.value,G2=ye.checked,ite=ye.outerHTML,_T=ye.options,K2=ye.multiple;z=F||Rr||$m,G=/number|range/.test(ct)?(se=parseFloat(Vm),isNaN(se)?"":se):/checkbox/.test(ct)?NZ(Le(E.values,z),G2,Vm):_T&&K2?OZ(_T):Vm}z&&re(z,G)},[re,E.values]),Ke=Sn(function(C){if(ry(C))return function(F){return lt(F,C)};lt(C)}),Et=Sn(function(C,F,z){F===void 0&&(F=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:C,value:F}});var G=z===void 0?i:z;return G?Ce(E.values):Promise.resolve()}),ut=T.useCallback(function(C,F){C.persist&&C.persist();var z=C.target,G=z.name,se=z.id,ye=z.outerHTML,ct=F||G||se;Et(ct,!0)},[Et]),Wt=Sn(function(C){if(ry(C))return function(F){return ut(F,C)};ut(C)}),hi=T.useCallback(function(C){It(C)?S({type:"SET_FORMIK_STATE",payload:C}):S({type:"SET_FORMIK_STATE",payload:function(){return C}})},[]),nr=T.useCallback(function(C){S({type:"SET_STATUS",payload:C})},[]),xo=T.useCallback(function(C){S({type:"SET_ISSUBMITTING",payload:C})},[]),di=Sn(function(){return S({type:"SUBMIT_ATTEMPT"}),Ce().then(function(C){var F=C instanceof Error,z=!F&&Object.keys(C).length===0;if(z){var G;try{if(G=U2(),G===void 0)return}catch(se){throw se}return Promise.resolve(G).then(function(se){return g.current&&S({type:"SUBMIT_SUCCESS"}),se}).catch(function(se){if(g.current)throw S({type:"SUBMIT_FAILURE"}),se})}else if(g.current&&(S({type:"SUBMIT_FAILURE"}),F))throw C})}),rr=Sn(function(C){C&&C.preventDefault&&It(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&It(C.stopPropagation)&&C.stopPropagation(),di().catch(function(F){console.warn("Warning: An unhandled error was caught from submitForm()",F)})}),yT={resetForm:W,validateForm:Ce,validateField:K,setErrors:L,setFieldError:q,setFieldTouched:Et,setFieldValue:re,setStatus:nr,setSubmitting:xo,setTouched:R,setValues:U,setFormikState:hi,submitForm:di},U2=Sn(function(){return c(E.values,yT)}),j2=Sn(function(C){C&&C.preventDefault&&It(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&It(C.stopPropagation)&&C.stopPropagation(),W()}),z2=T.useCallback(function(C){return{value:Le(E.values,C),error:Le(E.errors,C),touched:!!Le(E.touched,C),initialValue:Le(f.current,C),initialTouched:!!Le(_.current,C),initialError:Le(m.current,C)}},[E.errors,E.touched,E.values]),B2=T.useCallback(function(C){return{setValue:function(z,G){return re(C,z,G)},setTouched:function(z,G){return Et(C,z,G)},setError:function(z){return q(C,z)}}},[re,Et,q]),W2=T.useCallback(function(C){var F=sh(C),z=F?C.name:C,G=Le(E.values,z),se={name:z,value:G,onChange:Ke,onBlur:Wt};if(F){var ye=C.type,ct=C.value,Rr=C.as,$m=C.multiple;ye==="checkbox"?ct===void 0?se.checked=!!G:(se.checked=!!(Array.isArray(G)&&~G.indexOf(ct)),se.value=ct):ye==="radio"?(se.checked=G===ct,se.value=ct):Rr==="select"&&$m&&(se.value=se.value||[],se.multiple=!0)}return se},[Wt,Ke,E.values]),Fm=T.useMemo(function(){return!vi(f.current,E.values)},[f.current,E.values]),H2=T.useMemo(function(){return typeof a<"u"?Fm?E.errors&&Object.keys(E.errors).length===0:a!==!1&&It(a)?a(d):a:E.errors&&Object.keys(E.errors).length===0},[a,Fm,E.errors,d]),q2=_e({},E,{initialValues:f.current,initialErrors:m.current,initialTouched:_.current,initialStatus:v.current,handleBlur:Wt,handleChange:Ke,handleReset:j2,handleSubmit:rr,resetForm:W,setErrors:L,setFormikState:hi,setFieldTouched:Et,setFieldValue:re,setFieldError:q,setStatus:nr,setSubmitting:xo,setTouched:R,setValues:U,submitForm:di,validateForm:Ce,validateField:K,isValid:H2,dirty:Fm,unregisterField:A,registerField:Te,getFieldProps:W2,getFieldMeta:z2,getFieldHelpers:B2,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return q2}function w2(t){var e=PZ(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return T.useImperativeHandle(s,function(){return e}),T.createElement(IZ,{value:e},n?T.createElement(n,e):i?i(e):r?It(r)?r(e):_2(r)?null:T.Children.only(r):null)}function bZ(t){var e={};if(t.inner){if(t.inner.length===0)return wr(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Le(e,o.path)||(e=wr(e,o.path,o.message))}}return e}function kZ(t,e,n,r){n===void 0&&(n=!1);var i=kv(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function kv(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||bC(i)?kv(i):i!==""?i:void 0}):bC(t[r])?e[r]=kv(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function xZ(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Iv(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Iv(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function OZ(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function NZ(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var DZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?T.useLayoutEffect:T.useEffect;function Sn(t){var e=T.useRef(t);return DZ(function(){e.current=t}),T.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function MZ(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=Oi(t,["validate","name","render","children","as","component","className"]),u=y2(),c=Oi(u,["validate","validationSchema"]),h=c.registerField,d=c.unregisterField;T.useEffect(function(){return h(n,{validate:e}),function(){d(n)}},[h,d,n,e]);var f=c.getFieldProps(_e({name:n},l)),m=c.getFieldMeta(n),_={field:f,form:c};if(r)return r(_e({},_,{meta:m}));if(It(i))return i(_e({},_,{meta:m}));if(o){if(typeof o=="string"){var v=l.innerRef,g=Oi(l,["innerRef"]);return T.createElement(o,_e({ref:v},f,g,{className:a}),i)}return T.createElement(o,_e({field:f,form:c},l,{className:a}),i)}var p=s||"input";if(typeof p=="string"){var y=l.innerRef,w=Oi(l,["innerRef"]);return T.createElement(p,_e({ref:y},f,w,{className:a}),i)}return T.createElement(p,_e({},f,l,{className:a}),i)}var E2=T.forwardRef(function(t,e){var n=t.action,r=Oi(t,["action"]),i=n??"#",s=y2(),o=s.handleReset,a=s.handleSubmit;return T.createElement("form",_e({onSubmit:a,ref:e,onReset:o,action:i},r))});E2.displayName="Form";function LZ(t){var e=function(i){return T.createElement(CZ,null,function(s){return s||zD(!1),T.createElement(t,_e({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",wZ(e,t)}var FZ=function(e,n,r){var i=po(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},$Z=function(e,n,r){var i=po(e),s=i[n];return i[n]=i[r],i[r]=s,i},sy=function(e,n,r){var i=po(e);return i.splice(n,0,r),i},VZ=function(e,n,r){var i=po(e);return i[n]=r,i},po=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(_e({},e,{length:n+1}))}else return[]},aA=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||sh(i)){var s=po(i);return r(s)}return i}},UZ=function(t){g2(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var d=aA(a,s),f=aA(o,s),m=wr(h.values,u,s(Le(h.values,u))),_=a?d(Le(h.errors,u)):void 0,v=o?f(Le(h.touched,u)):void 0;return oA(_)&&(_=void 0),oA(v)&&(v=void 0),_e({},h,{values:m,errors:a?wr(h.errors,u,_):h.errors,touched:o?wr(h.touched,u,v):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(po(o),[SZ(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return $Z(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return FZ(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return sy(a,s,o)},function(a){return sy(a,s,null)},function(a){return sy(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return VZ(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(sA(i)),i.pop=i.pop.bind(sA(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!vi(Le(i.formik.values,i.name),Le(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?po(o):[];return s||(s=a[i]),It(a.splice)&&a.splice(i,1),It(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=Oi(c,["validate","validationSchema"]),d=_e({},i,{form:h,name:u});return o?T.createElement(o,d):a?a(d):l?typeof l=="function"?l(d):_2(l)?null:T.Children.only(l):null},e}(T.Component);UZ.defaultProps={validateOnChange:!0};var jZ=function(t){g2(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Le(this.props.formik.errors,this.props.name)!==Le(i.formik.errors,this.props.name)||Le(this.props.formik.touched,this.props.name)!==Le(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=Oi(i,["component","formik","render","children","name"]),h=Le(o.touched,u),d=Le(o.errors,u);return h&&d?a?It(a)?a(d):null:l?It(l)?l(d):null:s?T.createElement(s,c,d):d:null},e}(T.Component),zZ=LZ(jZ);function bo(t){this._maxSize=t,this.clear()}bo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};bo.prototype.get=function(t){return this._values[t]};bo.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var BZ=/[^.^\]^[]+|(?=\[\]|\.\.)/g,T2=/^\d+$/,WZ=/^\d/,HZ=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,qZ=/^\s*(['"]?)(.*?)(\1)\s*$/,hT=512,lA=new bo(hT),uA=new bo(hT),cA=new bo(hT),qs={Cache:bo,split:xv,normalizePath:oy,setter:function(t){var e=oy(t);return uA.get(t)||uA.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=oy(t);return cA.get(t)||cA.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(dT(n)||T2.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){GZ(Array.isArray(t)?t:xv(t),e,n)}};function oy(t){return lA.get(t)||lA.set(t,xv(t).map(function(e){return e.replace(qZ,"$2")}))}function xv(t){return t.match(BZ)||[""]}function GZ(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(YZ(i)&&(i='"'+i+'"'),a=dT(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function dT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function KZ(t){return t.match(WZ)&&!t.match(T2)}function QZ(t){return HZ.test(t)}function YZ(t){return!dT(t)&&(KZ(t)||QZ(t))}const XZ=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Nm=t=>t.match(XZ)||[],Dm=t=>t[0].toUpperCase()+t.slice(1),fT=(t,e)=>Nm(t).join(e).toLowerCase(),S2=t=>Nm(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),JZ=t=>Dm(S2(t)),ZZ=t=>fT(t,"_"),eee=t=>fT(t,"-"),tee=t=>Dm(fT(t," ")),nee=t=>Nm(t).map(Dm).join(" ");var ay={words:Nm,upperFirst:Dm,camelCase:S2,pascalCase:JZ,snakeCase:ZZ,kebabCase:eee,sentenceCase:tee,titleCase:nee},pT={exports:{}};pT.exports=function(t){return I2(ree(t),t)};pT.exports.array=I2;function I2(t,e){var n=t.length,r=new Array(n),i={},s=n,o=iee(e),a=see(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){h.add(u);do{var m=f[--c];l(m,a.get(m),h)}while(c);h.delete(u)}r[--n]=u}}}function ree(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function iee(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function see(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var oee=pT.exports;const aee=vc(oee),lee=Object.prototype.toString,uee=Error.prototype.toString,cee=RegExp.prototype.toString,hee=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dee=/^Symbol\((.*)\)(.*)$/;function fee(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function hA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return fee(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return hee.call(t).replace(dee,"Symbol($1)");const r=lee.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+uee.call(t)+"]":r==="RegExp"?cee.call(t):null}function Yi(t,e){let n=hA(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=hA(this[r],e);return s!==null?s:i},2)}function C2(t){return t==null?[]:[].concat(t)}let A2,R2,P2,pee=/\$\{\s*(\w+)\s*\}/g;A2=Symbol.toStringTag;class dA{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[A2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],C2(e).forEach(s=>{if(Zt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}R2=Symbol.hasInstance;P2=Symbol.toStringTag;class Zt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(pee,(i,s)=>Yi(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new dA(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[P2]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Zt)}static[R2](e){return dA[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let or={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Yi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Yi(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Yi(n,!0)}\``+i}},Xt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},mee={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ov={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gee={isValue:"${path} field must be ${value}"},Nv={noUnknown:"${path} field has unspecified keys: ${unknown}"},yee={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},_ee={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Yi(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Yi(n,!0)}\``}return Zt.formatError(or.notType,t)}};Object.assign(Object.create(null),{mixed:or,string:Xt,number:mee,date:Ov,object:Nv,array:yee,boolean:gee,tuple:_ee});const mT=t=>t&&t.__isYupSchema__;class Kf{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Kf(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!mT(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const jh={context:"$",value:"."};class ko{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===jh.context,this.isValue=this.key[0]===jh.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?jh.context:this.isValue?jh.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&qs.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ko.prototype.__isYupRef=!0;const Vs=t=>t==null;function Fo(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:d,skipAbsent:f}=t;let{parent:m,context:_,abortEarly:v=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=i;function p(ne){return ko.isRef(ne)?ne.getValue(n,m,_):ne}function y(ne={}){const We=Object.assign({value:n,originalValue:s,label:o.spec.label,path:ne.path||r,spec:o.spec,disableStackTrace:ne.disableStackTrace||g},h,ne.params);for(const W of Object.keys(We))We[W]=p(We[W]);const Ce=new Zt(Zt.formatError(ne.message||d,We),n,We.path,ne.type||u,We.disableStackTrace);return Ce.params=We,Ce}const w=v?a:l;let I={path:r,parent:m,type:u,from:i.from,createError:y,resolve:p,options:i,originalValue:s,schema:o};const E=ne=>{Zt.isError(ne)?w(ne):ne?l(null):w(y())},S=ne=>{Zt.isError(ne)?w(ne):a(ne)};if(f&&Vs(n))return E(!0);let V;try{var j;if(V=c.call(I,n,I),typeof((j=V)==null?void 0:j.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(V).then(E,S)}}catch(ne){S(ne);return}E(V)}return e.OPTIONS=t,e}function vee(t,e,n,r=n){let i,s,o;return e?(qs.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",d=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=h?t.spec.types[d]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Qf extends Set{describe(){const e=[];for(const n of this.values())e.push(ko.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Qf(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function oa(t,e=new Map){if(mT(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=oa(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,oa(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(oa(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=oa(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Ir{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qf,this._blacklist=new Qf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(or.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=oa(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Vs(s))return s;let o=Yi(e),a=Yi(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},h=_=>{i||(i=!0,r(_,o))},d=s.length,f=[];if(!d)return h([]);let m={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const v=s[_];v(m,c,function(p){p&&(Array.isArray(p)?f.push(...p):f.push(p)),--d<=0&&h(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,d,f)=>this.resolve(c)._validate(u,c,d,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Zt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Zt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Zt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Zt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Zt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Zt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):oa(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Fo({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Fo({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=or.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=or.notNull){return this.nullability(!1,e)}required(e=or.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=or.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Fo(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=C2(e).map(s=>new ko(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Kf(i,n):Kf.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Fo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=or.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Fo({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=or.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Fo({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}Ir.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ir.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=vee(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ir.prototype[t]=Ir.prototype.oneOf;for(const t of["not","nope"])Ir.prototype[t]=Ir.prototype.notOneOf;const wee=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Eee(t){const e=Dv(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Dv(t){var e,n;const r=wee.exec(t);return r?{year:kr(r[1]),month:kr(r[2],1)-1,day:kr(r[3],1),hour:kr(r[4]),minute:kr(r[5]),second:kr(r[6]),millisecond:r[7]?kr(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:kr(r[10]),minuteOffset:kr(r[11])}:null}function kr(t,e=0){return Number(t)||e}let Tee=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,See=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Iee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Cee="^\\d{4}-\\d{2}-\\d{2}",Aee="\\d{2}:\\d{2}:\\d{2}",Ree="(([+-]\\d{2}(:?\\d{2})?)|Z)",Pee=new RegExp(`${Cee}T${Aee}(\\.\\d+)?${Ree}$`),bee=t=>Vs(t)||t===t.trim(),kee={}.toString();function Rn(){return new b2}class b2 extends Ir{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===kee?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||or.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Xt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Xt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Xt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Xt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Xt.email){return this.matches(Tee,{name:"email",message:e,excludeEmptyString:!0})}url(e=Xt.url){return this.matches(See,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Xt.uuid){return this.matches(Iee,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(Pee,{name:"datetime",message:n||Xt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Xt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Dv(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Xt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Dv(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Xt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:bee})}lowercase(e=Xt.lowercase){return this.transform(n=>Vs(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Vs(n)||n===n.toLowerCase()})}uppercase(e=Xt.uppercase){return this.transform(n=>Vs(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Vs(n)||n===n.toUpperCase()})}}Rn.prototype=b2.prototype;let xee=new Date(""),Oee=t=>Object.prototype.toString.call(t)==="[object Date]";class Mm extends Ir{constructor(){super({type:"date",check(e){return Oee(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Eee(e),isNaN(e)?Mm.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ko.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Ov.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Ov.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Mm.INVALID_DATE=xee;Mm.prototype;function Nee(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=qs.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ko.isRef(a)&&a.isSibling?s(a.path,o):mT(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return aee.array(Array.from(r),n).reverse()}function fA(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function k2(t){return(e,n)=>fA(t,e)-fA(t,n)}const Dee=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Sd(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Sd(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Sd(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Sd)}):"optional"in t?t.optional():t}const Mee=(t,e)=>{const n=[...qs.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=qs.getter(qs.join(n),!0)(t);return!!(i&&r in i)};let pA=t=>Object.prototype.toString.call(t)==="[object Object]";function Lee(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Fee=k2([]);function Lm(t){return new x2(t)}class x2 extends Ir{constructor(e){super({type:"object",check(n){return pA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Fee,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let d=s[h],f=h in i;if(d){let m,_=i[h];u.path=(n.path?`${n.path}.`:"")+h,d=d.resolve({value:_,context:n.context,parent:l});let v=d instanceof Ir?d.spec:void 0,g=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||h in i;continue}m=!n.__validating||!g?d.cast(i[h],u):i[h],m!==void 0&&(l[h]=m)}else f&&!o&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!pA(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let d=this.fields[h];!d||ko.isRef(d)||c.push(d.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Nee(e,n),r._sortErrors=k2(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Sd(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=qs.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Mee(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Dee)}noUnknown(e=!0,n=Nv.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Lee(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Nv.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(ay.camelCase)}snakeCase(){return this.transformKeys(ay.snakeCase)}constantCase(){return this.transformKeys(e=>ay.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Lm.prototype=x2.prototype;const gT=/^[a-z0-9._%+-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+$/,$ee=Lm().shape({email:Rn().trim().matches(gT,"Please enter a valid email. For example jane@mail.com").required("Email is required"),password:Rn().trim().min(8,"Password must contain at least 8 characters").max(40,"Too long password").required("Password is required")}),Vee=Lm().shape({name:Rn().trim().min(2,"Name must contain at least 2 characters").max(40,"Too long name").required("Name is required"),email:Rn().trim().matches(gT,"Please enter a valid email! For example jane@mail.com").required("Email is required"),password:Rn().trim().min(8,"Password must contain at least 8 characters").max(40,"Too long password").required("Password is required!")}),mte=Lm().shape({addres:Rn().trim().min(8,"Address must contain at least 8 characters").max(100,"Too long address").required("Address is required"),phone:Rn().trim().matches(/^\+(?:[0-9] ?){6,14}[0-9]$/,{message:"Invalid Phone Number",excludeEmptyString:!1}).max(13,"Too long phone number").required("The phone number is required"),childsAge:Rn().trim().max(15,"Please enter a child's age").required("Child's age is required"),time:Rn().length(5).matches(/(\d){2}:(\d){2}/,'Meeting time must have this pattern "00:00"').required("Meeting time is required"),email:Rn().trim().matches(gT,"Please enter a valid email. For example jane@mail.com").required("Email is required"),name:Rn().trim().min(2,"Name must contain at least 2 characters").max(40,"Too long name").required("Father's or mother's name is required")}),O2=Ie(E2)`
  max-width: 438px;
  margin-right: auto;
  margin-left: auto;
`,N2=Ie.div`
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-bottom: 40px;
`,D2=Ie.h2`
  font-weight: 500;
  font-size: 40px;
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: ${t=>t.theme.colors.black};
  margin-bottom: 20px;
`,M2=Ie.p`
  font-weight: 400;
  font-size: 16px;
  line-height: 1.25;
  color: ${t=>t.theme.colors.textGrayColor};
  margin-bottom: 40px;
`,gu=Ie(MZ)`
  padding: 16px 18px;
  font-size: inherit;
  line-height: 1.25;
  border-radius: 12px;
  border: 1px solid;
  border-color: ${t=>t.theme.colors.inputBorderColor};
  outline: none;
  color: ${t=>t.theme.colors.black};
  background-color: transparent;
  transition: border-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    border-color: ${t=>t.theme.colors.green};
  }

  &::placeholder {
    font-weight: 400;
    font-size: 16px;
    line-height: 1.25;
    color: ${t=>t.theme.colors.black};
  }
`,yu=Ie.label`
  position: relative;
  display: flex;
  flex-direction: column;
`,_u=Ie(zZ)`
  position: absolute;
  top: 54px;
  left: 8px;
  font-size: 12px;
  color: ${t=>t.theme.colors.red};
`,L2=Ie.button`
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
  background-color: ${t=>t.theme.colors.green};
  border-radius: 30px;
  border: 1px solid;
  border-color: transparent;
  padding: 12px 188px;
  transition:
    background-color 250ms ${t=>t.theme.transition},
    border-color 250ms ${t=>t.theme.transition},
    color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    background-color: ${t=>t.theme.colors.white};
    border-color: ${t=>t.theme.colors.green};
    color: ${t=>t.theme.colors.green};
  }
`,F2=Ie.button`
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  right: 16px;
`,Yf=Ie.svg`
  width: 20px;
  height: 20px;
`,Uee=({closeModal:t})=>{const[e,n]=T.useState(!1),r=O0(),i=Cc(),s=async({name:o,email:a,password:l})=>{(await r(md({email:a,password:l,displayName:o}))).error||(t(),i("/nannies"))};return O.jsx(w2,{initialValues:{name:"",email:"",password:""},validationSchema:Vee,onSubmit:s,children:O.jsxs(O2,{children:[O.jsx(D2,{children:"Registration"}),O.jsx(M2,{children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information."}),O.jsxs(N2,{children:[O.jsxs(yu,{children:[O.jsx(gu,{name:"name",type:"text",placeholder:"Name"}),O.jsx(_u,{name:"name",component:"span",required:!0})]}),O.jsxs(yu,{children:[O.jsx(gu,{name:"email",type:"email",placeholder:"Email"}),O.jsx(_u,{name:"email",component:"span",required:!0})]}),O.jsxs(yu,{children:[O.jsx(gu,{name:"password",type:e?"text":"password",placeholder:"Password"}),O.jsx(_u,{name:"password",component:"span",required:!0}),O.jsx(F2,{type:"button",onClick:()=>n(!e),children:e?O.jsx(Yf,{children:O.jsx("use",{href:`${Ka}#eye`})}):O.jsx(Yf,{children:O.jsx("use",{href:`${Ka}#eye-off`})})})]})]}),O.jsx(L2,{type:"submit",children:"Sign up"})]})})},jee=({closeModal:t})=>{const[e,n]=T.useState(!1),r=Cc(),i=O0(),s=async({email:o,password:a})=>{(await i(gd({email:o,password:a}))).error||(t(),r("/nannies"))};return O.jsx(w2,{initialValues:{email:"",password:""},validationSchema:$ee,onSubmit:s,children:O.jsxs(O2,{children:[O.jsx(D2,{children:"Log In"}),O.jsx(M2,{children:"Welcome back! Please enter your credentials to access your account and continue your babysitter search."}),O.jsxs(N2,{children:[O.jsxs(yu,{children:[O.jsx(gu,{name:"email",type:"email",placeholder:"Email"}),O.jsx(_u,{name:"email",component:"span",required:!0})]}),O.jsxs(yu,{children:[O.jsx(gu,{name:"password",type:e?"text":"password",placeholder:"Password"}),O.jsx(_u,{name:"password",component:"span",required:!0}),O.jsx(F2,{type:"button",onClick:()=>n(!e),children:e?O.jsx(Yf,{children:O.jsx("use",{href:`${Ka}#eye`})}):O.jsx(Yf,{children:O.jsx("use",{href:`${Ka}#eye-off`})})})]})]}),O.jsx(L2,{type:"submit",children:"Sign up"})]})})},zee={overlay:{background:"rgba(11, 11, 11, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",width:"566px",minHeight:"490px",maxHeight:"580px",overflow:"hidden",padding:"64px",borderRadius:"30px",marginRight:"-50%",paddingLeft:"-5px",transform:"translate(-50%, -50%)",background:"#fbfbfb"}},gte={overlay:{background:"rgba(11, 11, 11, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",maxWidth:"600px",maxHeight:"720px",overflow:"hidden",padding:"64px 32px 64px 64px",borderRadius:"30px",marginRight:"-50%",paddingLeft:"-5px",transform:"translate(-50%, -50%)",background:"#fbfbfb"}},Bee=Ie.header`
  position: absolute;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 1376px;
  padding: 20px 96px;
  border-bottom: 1px solid;
  border-color: ${t=>t.theme.colors.borderColor};
  background-color: ${({$transparentBg:t})=>{switch(t){case!0:return"transparent";default:return e=>e.theme.colors.green}}};

  position: ${({$transparentBg:t})=>{switch(t){case!0:return"absolute";default:return"static"}}};
`,Wee=Ie.div`
  display: flex;
  align-items: center;
  gap: 92px;
`,Hee=Ie.nav`
  display: flex;
  align-items: center;
  gap: 40px;
`,$2=Ie(I$)`
  position: relative;
  padding-bottom: 10px;
  font-weight: 400;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
`,mA=Ie($2)`
  &.active::after {
    content: "";
    position: absolute;
    display: block;
    width: 8px;
    height: 8px;
    bottom: -4px;
    right: 50%;
    transform: translateX(50%);
    border-radius: 50%;
    background-color: #fff;
    margin: 0 auto;
  }
`,qee=Ie(zP)`
  font-weight: 500;
  font-size: 24px;
  line-height: 1.17;
  letter-spacing: -0.02em;
  color: ${t=>t.theme.colors.white};
`,Gee=Ie.ul`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: ${({$isUserExist:t})=>{switch(t){case!0:return"24px";default:return"8px"}}};
`,V2=Ie.button`
  width: 124px;
  height: 48px;
  padding: 14px 38px;
  background-color: transparent;
  border: 1px solid;
  border-color: ${t=>t.theme.colors.borderColor};
  border-radius: 30px;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
  transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  }
`,gA=Ie(V2)`
  width: 168px;
  background-color: ${t=>t.theme.colors.green};
  border: 1px solid;
  transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition};

  border-color: ${({$unvisibleBorder:t})=>{switch(t){case!0:return"transparent";default:return e=>e.theme.colors.borderColor}}};

  &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  }
`,Kee=Ie.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
`,Qee=Ie.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background-color: ${t=>t.theme.colors.white};
`,Yee=Ie.svg`
  width: 16px;
  height: 16px;
  fill: ${t=>t.theme.colors.green};
`,Xee=Ie.p`
  font-weight: 500;
  font-size: 18px;
  line-height: 1.11;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
`,Jee=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(""),i=GP(_G),o=yo().pathname==="/",a=Cc(),l=O0(),u=async()=>{try{await l(yd()),a("/")}catch(m){console.log(m)}},c=()=>{e(!0),document.body.style.overflow="hidden"},h=()=>{e(!1),document.body.style.overflow=""},d=()=>{r("register"),c()},f=()=>{r("login"),c()};return O.jsxs(Bee,{$transparentBg:o,children:[O.jsx(qee,{to:"/",children:"Nanny.Services"}),O.jsxs(Wee,{children:[O.jsxs(Hee,{children:[O.jsx($2,{to:"/",children:"Home"}),O.jsx(mA,{to:"/nannies",children:"Nannies"}),i&&O.jsx(mA,{to:"/favorites",children:"Favorites"})]}),O.jsxs(Gee,{$isUserExist:i!==null,children:[O.jsx("li",{children:i?O.jsxs(Kee,{children:[O.jsx(Qee,{children:O.jsx(Yee,{children:O.jsx("use",{href:`${Ka}#user`})})}),O.jsx(Xee,{children:i})]}):O.jsx(V2,{type:"button",onClick:f,children:"Log In"})}),O.jsx("li",{children:i?O.jsx(gA,{type:"button",onClick:u,$unvisibleBorder:o,children:"Log out"}):O.jsx(gA,{type:"button",onClick:d,$unvisibleBorder:o,children:"Registration"})})]})]}),O.jsxs(OK,{isModalOpen:t,closeModal:h,styles:zee,children:[n==="register"&&O.jsx(Uee,{closeModal:h}),n==="login"&&O.jsx(jee,{closeModal:h})]})]})},Zee=Ie.div`
  margin: 0 auto;
  padding: 0 32px;
  width: 100%;
  max-width: 1440px;
`,ete=()=>O.jsxs(Zee,{children:[O.jsx(Jee,{}),O.jsx("main",{children:O.jsx(T.Suspense,{fallback:null,children:O.jsx(h$,{})})}),O.jsx(LW,{position:"top-right",reverseOrder:!1,toastOptions:{success:{iconTheme:{primary:"#103931",secondary:"#fff"}}}})]}),yA=T.lazy(()=>GE(()=>import("./Home-ac6350ad.js"),[])),tte=T.lazy(()=>GE(()=>import("./Nannies-30b40740.js"),[])),nte=T.lazy(()=>GE(()=>import("./Favorites-3d82a98c.js"),[]));function rte(){return O.jsx(O.Fragment,{children:O.jsx(f$,{children:O.jsxs($o,{path:"/",element:O.jsx(ete,{}),children:[O.jsx($o,{index:!0,element:O.jsx(yA,{})}),O.jsx($o,{path:"nannies",element:O.jsx(tte,{})}),O.jsx($o,{path:"favorites",element:O.jsx(vG,{redirectTo:"/",component:O.jsx(nte,{})})}),O.jsx($o,{path:"*",element:O.jsx(yA,{})})]})})})}uy.createRoot(document.getElementById("root")).render(O.jsx(en.StrictMode,{children:O.jsx(G$,{store:ZN,children:O.jsx(QP,{loading:null,persistor:l7,children:O.jsx(E$,{basename:"/nanny-services",children:O.jsxs(oG,{theme:cG,children:[O.jsx(rte,{}),O.jsx(pG,{})]})})})})}));export{OK as C,zZ as E,E2 as F,zP as L,ly as R,MZ as a,w2 as b,mte as c,O0 as d,gte as e,dte as f,xP as g,Kg as h,Ka as i,O as j,pte as k,GP as l,fte as m,Gg as n,T as r,cte as s,Ie as u};
