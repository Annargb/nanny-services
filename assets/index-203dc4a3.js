var rM=Object.defineProperty;var iM=(t,e,n)=>e in t?rM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Um=(t,e,n)=>(iM(t,typeof e!="symbol"?e+"":e,n),n);function sM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var IA={exports:{}},Xf={},CA={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),aM=Symbol.for("react.portal"),lM=Symbol.for("react.fragment"),uM=Symbol.for("react.strict_mode"),cM=Symbol.for("react.profiler"),hM=Symbol.for("react.provider"),dM=Symbol.for("react.context"),fM=Symbol.for("react.forward_ref"),pM=Symbol.for("react.suspense"),mM=Symbol.for("react.memo"),gM=Symbol.for("react.lazy"),ET=Symbol.iterator;function yM(t){return t===null||typeof t!="object"?null:(t=ET&&t[ET]||t["@@iterator"],typeof t=="function"?t:null)}var AA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RA=Object.assign,PA={};function Ya(t,e,n){this.props=t,this.context=e,this.refs=PA,this.updater=n||AA}Ya.prototype.isReactComponent={};Ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bA(){}bA.prototype=Ya.prototype;function Lv(t,e,n){this.props=t,this.context=e,this.refs=PA,this.updater=n||AA}var $v=Lv.prototype=new bA;$v.constructor=Lv;RA($v,Ya.prototype);$v.isPureReactComponent=!0;var TT=Array.isArray,xA=Object.prototype.hasOwnProperty,Fv={current:null},kA={key:!0,ref:!0,__self:!0,__source:!0};function OA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xA.call(e,r)&&!kA.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wc,type:t,key:s,ref:o,props:i,_owner:Fv.current}}function _M(t,e){return{$$typeof:wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vv(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc}function vM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ST=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vM(""+t.key):e.toString(36)}function zh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wc:case aM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+jm(o,0):r,TT(i)?(n="",t!=null&&(n=t.replace(ST,"$&/")+"/"),zh(i,e,n,"",function(u){return u})):i!=null&&(Vv(i)&&(i=_M(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ST,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",TT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+jm(s,a);o+=zh(s,e,n,l,i)}else if(l=yM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+jm(s,a++),o+=zh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function oh(t,e,n){if(t==null)return t;var r=[],i=0;return zh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Bh={transition:null},EM={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:Fv};he.Children={map:oh,forEach:function(t,e,n){oh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return oh(t,function(){e++}),e},toArray:function(t){return oh(t,function(e){return e})||[]},only:function(t){if(!Vv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Ya;he.Fragment=lM;he.Profiler=cM;he.PureComponent=Lv;he.StrictMode=uM;he.Suspense=pM;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xA.call(e,l)&&!kA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wc,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:dM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hM,_context:t},t.Consumer=t};he.createElement=OA;he.createFactory=function(t){var e=OA.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:fM,render:t}};he.isValidElement=Vv;he.lazy=function(t){return{$$typeof:gM,_payload:{_status:-1,_result:t},_init:wM}};he.memo=function(t,e){return{$$typeof:mM,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Qt.current.useCallback(t,e)};he.useContext=function(t){return Qt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Qt.current.useEffect(t,e)};he.useId=function(){return Qt.current.useId()};he.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Qt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};he.useRef=function(t){return Qt.current.useRef(t)};he.useState=function(t){return Qt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Qt.current.useTransition()};he.version="18.2.0";CA.exports=he;var E=CA.exports;const en=vc(E),uy=sM({__proto__:null,default:en},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM=E,SM=Symbol.for("react.element"),IM=Symbol.for("react.fragment"),CM=Object.prototype.hasOwnProperty,AM=TM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RM={key:!0,ref:!0,__self:!0,__source:!0};function NA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CM.call(e,r)&&!RM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SM,type:t,key:s,ref:o,props:i,_owner:AM.current}}Xf.Fragment=IM;Xf.jsx=NA;Xf.jsxs=NA;IA.exports=Xf;var R=IA.exports,cy={},DA={exports:{}},wn={},MA={exports:{}},LA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var U=P.length;P.push(L);e:for(;0<U;){var q=U-1>>>1,re=P[q];if(0<i(re,L))P[q]=L,P[U]=re,U=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var L=P[0],U=P.pop();if(U!==L){P[0]=U;e:for(var q=0,re=P.length,lt=re>>>1;q<lt;){var Ke=2*(q+1)-1,Et=P[Ke],ut=Ke+1,Wt=P[ut];if(0>i(Et,U))ut<re&&0>i(Wt,Et)?(P[q]=Wt,P[ut]=U,q=ut):(P[q]=Et,P[Ke]=U,q=Ke);else if(ut<re&&0>i(Wt,U))P[q]=Wt,P[ut]=U,q=ut;else break e}}return L}function i(P,L){var U=P.sortIndex-L.sortIndex;return U!==0?U:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=P)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function w(P){if(_=!1,y(P),!g)if(n(l)!==null)g=!0,Se(I);else{var L=n(u);L!==null&&A(w,L.startTime-P)}}function I(P,L){g=!1,_&&(_=!1,m(x),x=-1),f=!0;var U=d;try{for(y(L),h=n(l);h!==null&&(!(h.expirationTime>L)||P&&!ne());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var re=q(h.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),y(L)}else r(l);h=n(l)}if(h!==null)var lt=!0;else{var Ke=n(u);Ke!==null&&A(w,Ke.startTime-L),lt=!1}return lt}finally{h=null,d=U,f=!1}}var T=!1,S=null,x=-1,V=5,j=-1;function ne(){return!(t.unstable_now()-j<V)}function We(){if(S!==null){var P=t.unstable_now();j=P;var L=!0;try{L=S(!0,P)}finally{L?Ce():(T=!1,S=null)}}else T=!1}var Ce;if(typeof p=="function")Ce=function(){p(We)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=We,Ce=function(){K.postMessage(null)}}else Ce=function(){v(We,0)};function Se(P){S=P,T||(T=!0,Ce())}function A(P,L){x=v(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Se(I))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var U=d;d=L;try{return P()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=d;d=P;try{return L()}finally{d=U}},t.unstable_scheduleCallback=function(P,L,U){var q=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=U+re,P={id:c++,callback:L,priorityLevel:P,startTime:U,expirationTime:re,sortIndex:-1},U>q?(P.sortIndex=U,e(u,P),n(l)===null&&P===n(u)&&(_?(m(x),x=-1):_=!0,A(w,U-q))):(P.sortIndex=re,e(l,P),g||f||(g=!0,Se(I))),P},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(P){var L=d;return function(){var U=d;d=L;try{return P.apply(this,arguments)}finally{d=U}}}})(LA);MA.exports=LA;var PM=MA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=E,gn=PM;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FA=new Set,vu={};function go(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(vu[t]=e,t=0;t<e.length;t++)FA.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hy=Object.prototype.hasOwnProperty,bM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IT={},CT={};function xM(t){return hy.call(CT,t)?!0:hy.call(IT,t)?!1:bM.test(t)?CT[t]=!0:(IT[t]=!0,!1)}function kM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OM(t,e,n,r){if(e===null||typeof e>"u"||kM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uv=/[\-:]([a-z])/g;function jv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uv,jv);kt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uv,jv);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uv,jv);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zv(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OM(e,n,i,r)&&(n=null),r||i===null?xM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),VA=Symbol.for("react.provider"),UA=Symbol.for("react.context"),Wv=Symbol.for("react.forward_ref"),fy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),Hv=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),jA=Symbol.for("react.offscreen"),AT=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=AT&&t[AT]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,zm;function Nl(t){if(zm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zm=e&&e[1]||""}return`
`+zm+t}var Bm=!1;function Wm(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nl(t):""}function NM(t){switch(t.tag){case 5:return Nl(t.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return t=Wm(t.type,!1),t;case 11:return t=Wm(t.type.render,!1),t;case 1:return t=Wm(t.type,!0),t;default:return""}}function my(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Bo:return"Portal";case dy:return"Profiler";case Bv:return"StrictMode";case fy:return"Suspense";case py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UA:return(t.displayName||"Context")+".Consumer";case VA:return(t._context.displayName||"Context")+".Provider";case Wv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hv:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}function DM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(e);case 8:return e===Bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MM(t){var e=zA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lh(t){t._valueTracker||(t._valueTracker=MM(t))}function BA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gy(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function RT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WA(t,e){e=e.checked,e!=null&&zv(t,"checked",e,!1)}function yy(t,e){WA(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_y(t,e.type,n):e.hasOwnProperty("defaultValue")&&_y(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _y(t,e,n){(e!=="number"||Id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function la(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Dl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function HA(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,GA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LM=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){LM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function KA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function QA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $M=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ey(t,e){if(e){if($M[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sy=null;function qv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iy=null,ua=null,ca=null;function kT(t){if(t=Sc(t)){if(typeof Iy!="function")throw Error(O(280));var e=t.stateNode;e&&(e=np(e),Iy(t.stateNode,t.type,e))}}function YA(t){ua?ca?ca.push(t):ca=[t]:ua=t}function XA(){if(ua){var t=ua,e=ca;if(ca=ua=null,kT(t),e)for(t=0;t<e.length;t++)kT(e[t])}}function JA(t,e){return t(e)}function ZA(){}var Hm=!1;function eR(t,e,n){if(Hm)return t(e,n);Hm=!0;try{return JA(t,e,n)}finally{Hm=!1,(ua!==null||ca!==null)&&(ZA(),XA())}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=np(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Cy=!1;if(Kr)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Cy=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Cy=!1}function FM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ql=!1,Cd=null,Ad=!1,Ay=null,VM={onError:function(t){ql=!0,Cd=t}};function UM(t,e,n,r,i,s,o,a,l){ql=!1,Cd=null,FM.apply(VM,arguments)}function jM(t,e,n,r,i,s,o,a,l){if(UM.apply(this,arguments),ql){if(ql){var u=Cd;ql=!1,Cd=null}else throw Error(O(198));Ad||(Ad=!0,Ay=u)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function OT(t){if(yo(t)!==t)throw Error(O(188))}function zM(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return OT(i),t;if(s===r)return OT(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function nR(t){return t=zM(t),t!==null?rR(t):null}function rR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rR(t);if(e!==null)return e;t=t.sibling}return null}var iR=gn.unstable_scheduleCallback,NT=gn.unstable_cancelCallback,BM=gn.unstable_shouldYield,WM=gn.unstable_requestPaint,Ge=gn.unstable_now,HM=gn.unstable_getCurrentPriorityLevel,Gv=gn.unstable_ImmediatePriority,sR=gn.unstable_UserBlockingPriority,Rd=gn.unstable_NormalPriority,qM=gn.unstable_LowPriority,oR=gn.unstable_IdlePriority,Jf=null,fr=null;function GM(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:YM,KM=Math.log,QM=Math.LN2;function YM(t){return t>>>=0,t===0?32:31-(KM(t)/QM|0)|0}var ch=64,hh=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ml(a):(s&=o,s!==0&&(r=Ml(s)))}else o=n&~i,o!==0?r=Ml(o):s!==0&&(r=Ml(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),i=1<<n,r|=t[n],e&=~i;return r}function XM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function aR(){var t=ch;return ch<<=1,!(ch&4194240)&&(ch=64),t}function qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function ZM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Hn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Kv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function lR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uR,Qv,cR,hR,dR,Py=!1,dh=[],Ni=null,Di=null,Mi=null,Tu=new Map,Su=new Map,wi=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DT(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sc(e),e!==null&&Qv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tL(t,e,n,r,i){switch(e){case"focusin":return Ni=vl(Ni,t,e,n,r,i),!0;case"dragenter":return Di=vl(Di,t,e,n,r,i),!0;case"mouseover":return Mi=vl(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tu.set(s,vl(Tu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Su.set(s,vl(Su.get(s)||null,t,e,n,r,i)),!0}return!1}function fR(t){var e=ks(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=tR(n),e!==null){t.blockedOn=e,dR(t.priority,function(){cR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=by(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sy=r,n.target.dispatchEvent(r),Sy=null}else return e=Sc(n),e!==null&&Qv(e),t.blockedOn=n,!1;e.shift()}return!0}function MT(t,e,n){Wh(t)&&n.delete(e)}function nL(){Py=!1,Ni!==null&&Wh(Ni)&&(Ni=null),Di!==null&&Wh(Di)&&(Di=null),Mi!==null&&Wh(Mi)&&(Mi=null),Tu.forEach(MT),Su.forEach(MT)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Py||(Py=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,nL)))}function Iu(t){function e(i){return wl(i,t)}if(0<dh.length){wl(dh[0],t);for(var n=1;n<dh.length;n++){var r=dh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ni!==null&&wl(Ni,t),Di!==null&&wl(Di,t),Mi!==null&&wl(Mi,t),Tu.forEach(e),Su.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)fR(n),n.blockedOn===null&&wi.shift()}var ha=ii.ReactCurrentBatchConfig,bd=!0;function rL(t,e,n,r){var i=we,s=ha.transition;ha.transition=null;try{we=1,Yv(t,e,n,r)}finally{we=i,ha.transition=s}}function iL(t,e,n,r){var i=we,s=ha.transition;ha.transition=null;try{we=4,Yv(t,e,n,r)}finally{we=i,ha.transition=s}}function Yv(t,e,n,r){if(bd){var i=by(t,e,n,r);if(i===null)ng(t,e,r,xd,n),DT(t,r);else if(tL(i,t,e,n,r))r.stopPropagation();else if(DT(t,r),e&4&&-1<eL.indexOf(t)){for(;i!==null;){var s=Sc(i);if(s!==null&&uR(s),s=by(t,e,n,r),s===null&&ng(t,e,r,xd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ng(t,e,r,null,n)}}var xd=null;function by(t,e,n,r){if(xd=null,t=qv(r),t=ks(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xd=t,null}function pR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HM()){case Gv:return 1;case sR:return 4;case Rd:case qM:return 16;case oR:return 536870912;default:return 16}default:return 16}}var Ri=null,Xv=null,Hh=null;function mR(){if(Hh)return Hh;var t,e=Xv,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hh=i.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fh(){return!0}function LT(){return!1}function En(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fh:LT,this.isPropagationStopped=LT,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fh)},persist:function(){},isPersistent:fh}),e}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jv=En(Xa),Tc=Be({},Xa,{view:0,detail:0}),sL=En(Tc),Gm,Km,El,Zf=Be({},Tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Gm=t.screenX-El.screenX,Km=t.screenY-El.screenY):Km=Gm=0,El=t),Gm)},movementY:function(t){return"movementY"in t?t.movementY:Km}}),$T=En(Zf),oL=Be({},Zf,{dataTransfer:0}),aL=En(oL),lL=Be({},Tc,{relatedTarget:0}),Qm=En(lL),uL=Be({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),cL=En(uL),hL=Be({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dL=En(hL),fL=Be({},Xa,{data:0}),FT=En(fL),pL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gL[t])?!!e[t]:!1}function Zv(){return yL}var _L=Be({},Tc,{key:function(t){if(t.key){var e=pL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zv,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vL=En(_L),wL=Be({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VT=En(wL),EL=Be({},Tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zv}),TL=En(EL),SL=Be({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),IL=En(SL),CL=Be({},Zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AL=En(CL),RL=[9,13,27,32],e0=Kr&&"CompositionEvent"in window,Gl=null;Kr&&"documentMode"in document&&(Gl=document.documentMode);var PL=Kr&&"TextEvent"in window&&!Gl,gR=Kr&&(!e0||Gl&&8<Gl&&11>=Gl),UT=String.fromCharCode(32),jT=!1;function yR(t,e){switch(t){case"keyup":return RL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _R(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function bL(t,e){switch(t){case"compositionend":return _R(e);case"keypress":return e.which!==32?null:(jT=!0,UT);case"textInput":return t=e.data,t===UT&&jT?null:t;default:return null}}function xL(t,e){if(Ho)return t==="compositionend"||!e0&&yR(t,e)?(t=mR(),Hh=Xv=Ri=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gR&&e.locale!=="ko"?null:e.data;default:return null}}var kL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kL[t.type]:e==="textarea"}function vR(t,e,n,r){YA(r),e=kd(e,"onChange"),0<e.length&&(n=new Jv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kl=null,Cu=null;function OL(t){xR(t,0)}function ep(t){var e=Ko(t);if(BA(e))return t}function NL(t,e){if(t==="change")return e}var wR=!1;if(Kr){var Ym;if(Kr){var Xm="oninput"in document;if(!Xm){var BT=document.createElement("div");BT.setAttribute("oninput","return;"),Xm=typeof BT.oninput=="function"}Ym=Xm}else Ym=!1;wR=Ym&&(!document.documentMode||9<document.documentMode)}function WT(){Kl&&(Kl.detachEvent("onpropertychange",ER),Cu=Kl=null)}function ER(t){if(t.propertyName==="value"&&ep(Cu)){var e=[];vR(e,Cu,t,qv(t)),eR(OL,e)}}function DL(t,e,n){t==="focusin"?(WT(),Kl=e,Cu=n,Kl.attachEvent("onpropertychange",ER)):t==="focusout"&&WT()}function ML(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ep(Cu)}function LL(t,e){if(t==="click")return ep(e)}function $L(t,e){if(t==="input"||t==="change")return ep(e)}function FL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:FL;function Au(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hy.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function HT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qT(t,e){var n=HT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HT(n)}}function TR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SR(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Id(t.document)}return e}function t0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VL(t){var e=SR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TR(n.ownerDocument.documentElement,n)){if(r!==null&&t0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qT(n,s);var o=qT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UL=Kr&&"documentMode"in document&&11>=document.documentMode,qo=null,xy=null,Ql=null,ky=!1;function GT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ky||qo==null||qo!==Id(r)||(r=qo,"selectionStart"in r&&t0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ql&&Au(Ql,r)||(Ql=r,r=kd(xy,"onSelect"),0<r.length&&(e=new Jv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qo)))}function ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Jm={},IR={};Kr&&(IR=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function tp(t){if(Jm[t])return Jm[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IR)return Jm[t]=e[n];return t}var CR=tp("animationend"),AR=tp("animationiteration"),RR=tp("animationstart"),PR=tp("transitionend"),bR=new Map,KT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(t,e){bR.set(t,e),go(e,[t])}for(var Zm=0;Zm<KT.length;Zm++){var eg=KT[Zm],jL=eg.toLowerCase(),zL=eg[0].toUpperCase()+eg.slice(1);hs(jL,"on"+zL)}hs(CR,"onAnimationEnd");hs(AR,"onAnimationIteration");hs(RR,"onAnimationStart");hs("dblclick","onDoubleClick");hs("focusin","onFocus");hs("focusout","onBlur");hs(PR,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ll));function QT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jM(r,e,void 0,t),t.currentTarget=null}function xR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;QT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;QT(i,a,u),s=l}}}if(Ad)throw t=Ay,Ad=!1,Ay=null,t}function xe(t,e){var n=e[Ly];n===void 0&&(n=e[Ly]=new Set);var r=t+"__bubble";n.has(r)||(kR(e,t,2,!1),n.add(r))}function tg(t,e,n){var r=0;e&&(r|=4),kR(n,t,r,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[mh]){t[mh]=!0,FA.forEach(function(n){n!=="selectionchange"&&(BL.has(n)||tg(n,!1,t),tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,tg("selectionchange",!1,e))}}function kR(t,e,n,r){switch(pR(e)){case 1:var i=rL;break;case 4:i=iL;break;default:i=Yv}n=i.bind(null,e,n,t),i=void 0,!Cy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ng(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}eR(function(){var u=s,c=qv(n),h=[];e:{var d=bR.get(t);if(d!==void 0){var f=Jv,g=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":f=vL;break;case"focusin":g="focus",f=Qm;break;case"focusout":g="blur",f=Qm;break;case"beforeblur":case"afterblur":f=Qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=$T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=aL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=TL;break;case CR:case AR:case RR:f=cL;break;case PR:f=IL;break;case"scroll":f=sL;break;case"wheel":f=AL;break;case"copy":case"cut":case"paste":f=dL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=VT}var _=(e&4)!==0,v=!_&&t==="scroll",m=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Eu(p,m),w!=null&&_.push(Pu(p,w,y)))),v)break;p=p.return}0<_.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Sy&&(g=n.relatedTarget||n.fromElement)&&(ks(g)||g[Qr]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?ks(g):null,g!==null&&(v=yo(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(_=$T,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=VT,w="onPointerLeave",m="onPointerEnter",p="pointer"),v=f==null?d:Ko(f),y=g==null?d:Ko(g),d=new _(w,p+"leave",f,n,c),d.target=v,d.relatedTarget=y,w=null,ks(c)===u&&(_=new _(m,p+"enter",g,n,c),_.target=y,_.relatedTarget=v,w=_),v=w,f&&g)t:{for(_=f,m=g,p=0,y=_;y;y=No(y))p++;for(y=0,w=m;w;w=No(w))y++;for(;0<p-y;)_=No(_),p--;for(;0<y-p;)m=No(m),y--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=No(_),m=No(m)}_=null}else _=null;f!==null&&YT(h,d,f,_,!1),g!==null&&v!==null&&YT(h,v,g,_,!0)}}e:{if(d=u?Ko(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=NL;else if(zT(d))if(wR)I=$L;else{I=ML;var T=DL}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=LL);if(I&&(I=I(t,u))){vR(h,I,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&_y(d,"number",d.value)}switch(T=u?Ko(u):window,t){case"focusin":(zT(T)||T.contentEditable==="true")&&(qo=T,xy=u,Ql=null);break;case"focusout":Ql=xy=qo=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,GT(h,n,c);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":GT(h,n,c)}var S;if(e0)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ho?yR(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(gR&&n.locale!=="ko"&&(Ho||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ho&&(S=mR()):(Ri=c,Xv="value"in Ri?Ri.value:Ri.textContent,Ho=!0)),T=kd(u,x),0<T.length&&(x=new FT(x,t,null,n,c),h.push({event:x,listeners:T}),S?x.data=S:(S=_R(n),S!==null&&(x.data=S)))),(S=PL?bL(t,n):xL(t,n))&&(u=kd(u,"onBeforeInput"),0<u.length&&(c=new FT("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}xR(h,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,n),s!=null&&r.unshift(Pu(t,s,i)),s=Eu(t,e),s!=null&&r.push(Pu(t,s,i))),t=t.return}return r}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Eu(n,s),l!=null&&o.unshift(Pu(n,l,a))):i||(l=Eu(n,s),l!=null&&o.push(Pu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var WL=/\r\n?/g,HL=/\u0000|\uFFFD/g;function XT(t){return(typeof t=="string"?t:""+t).replace(WL,`
`).replace(HL,"")}function gh(t,e,n){if(e=XT(e),XT(t)!==e&&n)throw Error(O(425))}function Od(){}var Oy=null,Ny=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,qL=typeof clearTimeout=="function"?clearTimeout:void 0,JT=typeof Promise=="function"?Promise:void 0,GL=typeof queueMicrotask=="function"?queueMicrotask:typeof JT<"u"?function(t){return JT.resolve(null).then(t).catch(KL)}:My;function KL(t){setTimeout(function(){throw t})}function rg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iu(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ja,bu="__reactProps$"+Ja,Qr="__reactContainer$"+Ja,Ly="__reactEvents$"+Ja,QL="__reactListeners$"+Ja,YL="__reactHandles$"+Ja;function ks(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZT(t);t!==null;){if(n=t[lr])return n;t=ZT(t)}return e}t=n,n=t.parentNode}return null}function Sc(t){return t=t[lr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function np(t){return t[bu]||null}var $y=[],Qo=-1;function ds(t){return{current:t}}function Me(t){0>Qo||(t.current=$y[Qo],$y[Qo]=null,Qo--)}function Pe(t,e){Qo++,$y[Qo]=t.current,t.current=e}var Ji={},zt=ds(Ji),rn=ds(!1),Ks=Ji;function Sa(t,e){var n=t.type.contextTypes;if(!n)return Ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Nd(){Me(rn),Me(zt)}function eS(t,e,n){if(zt.current!==Ji)throw Error(O(168));Pe(zt,e),Pe(rn,n)}function OR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,DM(t)||"Unknown",i));return Be({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Ks=zt.current,Pe(zt,t),Pe(rn,rn.current),!0}function tS(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=OR(t,e,Ks),r.__reactInternalMemoizedMergedChildContext=t,Me(rn),Me(zt),Pe(zt,t)):Me(rn),Pe(rn,n)}var Dr=null,rp=!1,ig=!1;function NR(t){Dr===null?Dr=[t]:Dr.push(t)}function XL(t){rp=!0,NR(t)}function fs(){if(!ig&&Dr!==null){ig=!0;var t=0,e=we;try{var n=Dr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,rp=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),iR(Gv,fs),i}finally{we=e,ig=!1}}return null}var Yo=[],Xo=0,Md=null,Ld=0,Cn=[],An=0,Qs=null,Mr=1,Lr="";function Ss(t,e){Yo[Xo++]=Ld,Yo[Xo++]=Md,Md=t,Ld=e}function DR(t,e,n){Cn[An++]=Mr,Cn[An++]=Lr,Cn[An++]=Qs,Qs=t;var r=Mr;t=Lr;var i=32-Hn(r)-1;r&=~(1<<i),n+=1;var s=32-Hn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Mr=1<<32-Hn(e)+i|n<<i|r,Lr=s+t}else Mr=1<<s|n<<i|r,Lr=t}function n0(t){t.return!==null&&(Ss(t,1),DR(t,1,0))}function r0(t){for(;t===Md;)Md=Yo[--Xo],Yo[Xo]=null,Ld=Yo[--Xo],Yo[Xo]=null;for(;t===Qs;)Qs=Cn[--An],Cn[An]=null,Lr=Cn[--An],Cn[An]=null,Mr=Cn[--An],Cn[An]=null}var fn=null,cn=null,$e=!1,Vn=null;function MR(t,e){var n=xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qs!==null?{id:Mr,overflow:Lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,cn=null,!0):!1;default:return!1}}function Fy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vy(t){if($e){var e=cn;if(e){var n=e;if(!nS(t,e)){if(Fy(t))throw Error(O(418));e=Li(n.nextSibling);var r=fn;e&&nS(t,e)?MR(r,n):(t.flags=t.flags&-4097|2,$e=!1,fn=t)}}else{if(Fy(t))throw Error(O(418));t.flags=t.flags&-4097|2,$e=!1,fn=t}}}function rS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function yh(t){if(t!==fn)return!1;if(!$e)return rS(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=cn)){if(Fy(t))throw LR(),Error(O(418));for(;e;)MR(t,e),e=Li(e.nextSibling)}if(rS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?Li(t.stateNode.nextSibling):null;return!0}function LR(){for(var t=cn;t;)t=Li(t.nextSibling)}function Ia(){cn=fn=null,$e=!1}function i0(t){Vn===null?Vn=[t]:Vn.push(t)}var JL=ii.ReactCurrentBatchConfig;function Ln(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var $d=ds(null),Fd=null,Jo=null,s0=null;function o0(){s0=Jo=Fd=null}function a0(t){var e=$d.current;Me($d),t._currentValue=e}function Uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function da(t,e){Fd=t,s0=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(s0!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(Fd===null)throw Error(O(308));Jo=t,Fd.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var Os=null;function l0(t){Os===null?Os=[t]:Os.push(t)}function $R(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,l0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _i=!1;function u0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yr(t,n)}return i=r.interleaved,i===null?(e.next=e,l0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yr(t,n)}function Gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}function iS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var i=t.updateQueue;_i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(d=e,f=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=Be({},h,d);break e;case 2:_i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xs|=o,t.lanes=o,t.memoizedState=h}}function sS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var VR=new $A.Component().refs;function jy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ip={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Vi(t),s=zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(qn(e,t,i,r),Gh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Vi(t),s=zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(qn(e,t,i,r),Gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Vi(t),i=zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,r),e!==null&&(qn(e,t,r,n),Gh(e,t,r))}};function oS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(i,s):!0}function UR(t,e,n){var r=!1,i=Ji,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=sn(e)?Ks:zt.current,r=e.contextTypes,s=(r=r!=null)?Sa(t,i):Ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ip,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ip.enqueueReplaceState(e,e.state,null)}function zy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=VR,u0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=sn(e)?Ks:zt.current,i.context=Sa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ip.enqueueReplaceState(i,i.state,null),Vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===VR&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function _h(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lS(t){var e=t._init;return e(t._payload)}function jR(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ui(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=hg(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,w){var I=y.type;return I===Wo?c(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yi&&lS(I)===p.type)?(w=i(p,y.props),w.ref=Tl(m,p,y),w.return=m,w):(w=Zh(y.type,y.key,y.props,null,m.mode,w),w.ref=Tl(m,p,y),w.return=m,w)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=dg(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,w,I){return p===null||p.tag!==7?(p=zs(y,m.mode,w,I),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hg(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ah:return y=Zh(p.type,p.key,p.props,null,m.mode,y),y.ref=Tl(m,null,p),y.return=m,y;case Bo:return p=dg(p,m.mode,y),p.return=m,p;case yi:var w=p._init;return h(m,w(p._payload),y)}if(Dl(p)||yl(p))return p=zs(p,m.mode,y,null),p.return=m,p;_h(m,p)}return null}function d(m,p,y,w){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:return y.key===I?l(m,p,y,w):null;case Bo:return y.key===I?u(m,p,y,w):null;case yi:return I=y._init,d(m,p,I(y._payload),w)}if(Dl(y)||yl(y))return I!==null?null:c(m,p,y,w,null);_h(m,y)}return null}function f(m,p,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,I);case Bo:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,I);case yi:var T=w._init;return f(m,p,y,T(w._payload),I)}if(Dl(w)||yl(w))return m=m.get(y)||null,c(p,m,w,I,null);_h(p,w)}return null}function g(m,p,y,w){for(var I=null,T=null,S=p,x=p=0,V=null;S!==null&&x<y.length;x++){S.index>x?(V=S,S=null):V=S.sibling;var j=d(m,S,y[x],w);if(j===null){S===null&&(S=V);break}t&&S&&j.alternate===null&&e(m,S),p=s(j,p,x),T===null?I=j:T.sibling=j,T=j,S=V}if(x===y.length)return n(m,S),$e&&Ss(m,x),I;if(S===null){for(;x<y.length;x++)S=h(m,y[x],w),S!==null&&(p=s(S,p,x),T===null?I=S:T.sibling=S,T=S);return $e&&Ss(m,x),I}for(S=r(m,S);x<y.length;x++)V=f(S,m,x,y[x],w),V!==null&&(t&&V.alternate!==null&&S.delete(V.key===null?x:V.key),p=s(V,p,x),T===null?I=V:T.sibling=V,T=V);return t&&S.forEach(function(ne){return e(m,ne)}),$e&&Ss(m,x),I}function _(m,p,y,w){var I=yl(y);if(typeof I!="function")throw Error(O(150));if(y=I.call(y),y==null)throw Error(O(151));for(var T=I=null,S=p,x=p=0,V=null,j=y.next();S!==null&&!j.done;x++,j=y.next()){S.index>x?(V=S,S=null):V=S.sibling;var ne=d(m,S,j.value,w);if(ne===null){S===null&&(S=V);break}t&&S&&ne.alternate===null&&e(m,S),p=s(ne,p,x),T===null?I=ne:T.sibling=ne,T=ne,S=V}if(j.done)return n(m,S),$e&&Ss(m,x),I;if(S===null){for(;!j.done;x++,j=y.next())j=h(m,j.value,w),j!==null&&(p=s(j,p,x),T===null?I=j:T.sibling=j,T=j);return $e&&Ss(m,x),I}for(S=r(m,S);!j.done;x++,j=y.next())j=f(S,m,x,j.value,w),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?x:j.key),p=s(j,p,x),T===null?I=j:T.sibling=j,T=j);return t&&S.forEach(function(We){return e(m,We)}),$e&&Ss(m,x),I}function v(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Wo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ah:e:{for(var I=y.key,T=p;T!==null;){if(T.key===I){if(I=y.type,I===Wo){if(T.tag===7){n(m,T.sibling),p=i(T,y.props.children),p.return=m,m=p;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===yi&&lS(I)===T.type){n(m,T.sibling),p=i(T,y.props),p.ref=Tl(m,T,y),p.return=m,m=p;break e}n(m,T);break}else e(m,T);T=T.sibling}y.type===Wo?(p=zs(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=Zh(y.type,y.key,y.props,null,m.mode,w),w.ref=Tl(m,p,y),w.return=m,m=w)}return o(m);case Bo:e:{for(T=y.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=dg(y,m.mode,w),p.return=m,m=p}return o(m);case yi:return T=y._init,v(m,p,T(y._payload),w)}if(Dl(y))return g(m,p,y,w);if(yl(y))return _(m,p,y,w);_h(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=hg(y,m.mode,w),p.return=m,m=p),o(m)):n(m,p)}return v}var Ca=jR(!0),zR=jR(!1),Ic={},pr=ds(Ic),xu=ds(Ic),ku=ds(Ic);function Ns(t){if(t===Ic)throw Error(O(174));return t}function c0(t,e){switch(Pe(ku,e),Pe(xu,t),Pe(pr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wy(e,t)}Me(pr),Pe(pr,e)}function Aa(){Me(pr),Me(xu),Me(ku)}function BR(t){Ns(ku.current);var e=Ns(pr.current),n=wy(e,t.type);e!==n&&(Pe(xu,t),Pe(pr,n))}function h0(t){xu.current===t&&(Me(pr),Me(xu))}var Ve=ds(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sg=[];function d0(){for(var t=0;t<sg.length;t++)sg[t]._workInProgressVersionPrimary=null;sg.length=0}var Kh=ii.ReactCurrentDispatcher,og=ii.ReactCurrentBatchConfig,Ys=0,je=null,nt=null,ft=null,jd=!1,Yl=!1,Ou=0,ZL=0;function Ot(){throw Error(O(321))}function f0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function p0(t,e,n,r,i,s){if(Ys=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kh.current=t===null||t.memoizedState===null?r$:i$,t=n(r,i),Yl){s=0;do{if(Yl=!1,Ou=0,25<=s)throw Error(O(301));s+=1,ft=nt=null,e.updateQueue=null,Kh.current=s$,t=n(r,i)}while(Yl)}if(Kh.current=zd,e=nt!==null&&nt.next!==null,Ys=0,ft=nt=je=null,jd=!1,e)throw Error(O(300));return t}function m0(){var t=Ou!==0;return Ou=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?je.memoizedState=ft=t:ft=ft.next=t,ft}function Nn(){if(nt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ft===null?je.memoizedState:ft.next;if(e!==null)ft=e,nt=t;else{if(t===null)throw Error(O(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ft===null?je.memoizedState=ft=t:ft=ft.next=t}return ft}function Nu(t,e){return typeof e=="function"?e(t):e}function ag(t){var e=Nn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ys&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,je.lanes|=c,Xs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Xn(r,e.memoizedState)||(tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,Xs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lg(t){var e=Nn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xn(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function WR(){}function HR(t,e){var n=je,r=Nn(),i=e(),s=!Xn(r.memoizedState,i);if(s&&(r.memoizedState=i,tn=!0),r=r.queue,g0(KR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Du(9,GR.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(O(349));Ys&30||qR(n,e,i)}return i}function qR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GR(t,e,n,r){e.value=n,e.getSnapshot=r,QR(e)&&YR(t)}function KR(t,e,n){return n(function(){QR(e)&&YR(t)})}function QR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function YR(t){var e=Yr(t,1);e!==null&&qn(e,t,1,-1)}function uS(t){var e=sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nu,lastRenderedState:t},e.queue=t,t=t.dispatch=n$.bind(null,je,t),[e.memoizedState,t]}function Du(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XR(){return Nn().memoizedState}function Qh(t,e,n,r){var i=sr();je.flags|=t,i.memoizedState=Du(1|e,n,void 0,r===void 0?null:r)}function sp(t,e,n,r){var i=Nn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&f0(r,o.deps)){i.memoizedState=Du(e,n,s,r);return}}je.flags|=t,i.memoizedState=Du(1|e,n,s,r)}function cS(t,e){return Qh(8390656,8,t,e)}function g0(t,e){return sp(2048,8,t,e)}function JR(t,e){return sp(4,2,t,e)}function ZR(t,e){return sp(4,4,t,e)}function eP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tP(t,e,n){return n=n!=null?n.concat([t]):null,sp(4,4,eP.bind(null,e,t),n)}function y0(){}function nP(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rP(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iP(t,e,n){return Ys&21?(Xn(n,e)||(n=aR(),je.lanes|=n,Xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=n)}function e$(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=og.transition;og.transition={};try{t(!1),e()}finally{we=n,og.transition=r}}function sP(){return Nn().memoizedState}function t$(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oP(t))aP(e,n);else if(n=$R(t,e,n,r),n!==null){var i=Kt();qn(n,t,r,i),lP(n,e,r)}}function n$(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oP(t))aP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o)){var l=e.interleaved;l===null?(i.next=i,l0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$R(t,e,i,r),n!==null&&(i=Kt(),qn(n,t,r,i),lP(n,e,r))}}function oP(t){var e=t.alternate;return t===je||e!==null&&e===je}function aP(t,e){Yl=jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kv(t,n)}}var zd={readContext:On,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},r$={readContext:On,useCallback:function(t,e){return sr().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:cS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4194308,4,eP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qh(4,2,t,e)},useMemo:function(t,e){var n=sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t$.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=sr();return t={current:t},e.memoizedState=t},useState:uS,useDebugValue:y0,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=uS(!1),e=t[0];return t=e$.bind(null,t[1]),sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=sr();if($e){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),yt===null)throw Error(O(349));Ys&30||qR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cS(KR.bind(null,r,s,t),[t]),r.flags|=2048,Du(9,GR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sr(),e=yt.identifierPrefix;if($e){var n=Lr,r=Mr;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i$={readContext:On,useCallback:nP,useContext:On,useEffect:g0,useImperativeHandle:tP,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rP,useReducer:ag,useRef:XR,useState:function(){return ag(Nu)},useDebugValue:y0,useDeferredValue:function(t){var e=Nn();return iP(e,nt.memoizedState,t)},useTransition:function(){var t=ag(Nu)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:WR,useSyncExternalStore:HR,useId:sP,unstable_isNewReconciler:!1},s$={readContext:On,useCallback:nP,useContext:On,useEffect:g0,useImperativeHandle:tP,useInsertionEffect:JR,useLayoutEffect:ZR,useMemo:rP,useReducer:lg,useRef:XR,useState:function(){return lg(Nu)},useDebugValue:y0,useDeferredValue:function(t){var e=Nn();return nt===null?e.memoizedState=t:iP(e,nt.memoizedState,t)},useTransition:function(){var t=lg(Nu)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:WR,useSyncExternalStore:HR,useId:sP,unstable_isNewReconciler:!1};function Ra(t,e){try{var n="",r=e;do n+=NM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ug(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function By(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o$=typeof WeakMap=="function"?WeakMap:Map;function uP(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,Zy=r),By(t,e)},n}function cP(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){By(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){By(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=w$.bind(null,t,e,n),e.then(t,t))}function dS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var a$=ii.ReactCurrentOwner,tn=!1;function Ht(t,e,n,r){e.child=t===null?zR(e,null,n,r):Ca(e,t.child,n,r)}function pS(t,e,n,r,i){n=n.render;var s=e.ref;return da(e,i),r=p0(t,e,n,r,s,i),n=m0(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):($e&&n&&n0(e),e.flags|=1,Ht(t,e,r,i),e.child)}function mS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hP(t,e,s,r,i)):(t=Zh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(o,r)&&t.ref===e.ref)return Xr(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function hP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Au(s,r)&&t.ref===e.ref)if(tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,Xr(t,e,i)}return Wy(t,e,n,r,i)}function dP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ea,un),un|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ea,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(ea,un),un|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(ea,un),un|=r;return Ht(t,e,i,n),e.child}function fP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wy(t,e,n,r,i){var s=sn(n)?Ks:zt.current;return s=Sa(e,s),da(e,i),n=p0(t,e,n,r,s,i),r=m0(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xr(t,e,i)):($e&&r&&n0(e),e.flags|=1,Ht(t,e,n,i),e.child)}function gS(t,e,n,r,i){if(sn(n)){var s=!0;Dd(e)}else s=!1;if(da(e,i),e.stateNode===null)Yh(t,e),UR(e,n,r),zy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=sn(n)?Ks:zt.current,u=Sa(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aS(e,o,r,u),_i=!1;var d=e.memoizedState;o.state=d,Vd(e,r,o,i),l=e.memoizedState,a!==r||d!==l||rn.current||_i?(typeof c=="function"&&(jy(e,n,c,r),l=e.memoizedState),(a=_i||oS(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ln(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=sn(n)?Ks:zt.current,l=Sa(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&aS(e,o,r,l),_i=!1,d=e.memoizedState,o.state=d,Vd(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||rn.current||_i?(typeof f=="function"&&(jy(e,n,f,r),g=e.memoizedState),(u=_i||oS(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Hy(t,e,n,r,s,i)}function Hy(t,e,n,r,i,s){fP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tS(e,n,!1),Xr(t,e,s);r=e.stateNode,a$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,a,s)):Ht(t,e,a,s),e.memoizedState=r.state,i&&tS(e,n,!0),e.child}function pP(t){var e=t.stateNode;e.pendingContext?eS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&eS(t,e.context,!1),c0(t,e.containerInfo)}function yS(t,e,n,r,i){return Ia(),i0(i),e.flags|=256,Ht(t,e,n,r),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function mP(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Ve,i&1),t===null)return Vy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lp(o,r,0,null),t=zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gy(n),e.memoizedState=qy,t):_0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return l$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qy,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=lp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,r){return r!==null&&i0(r),Ca(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ug(Error(O(422))),vh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lp({mode:"visible",children:r.children},i,0,null),s=zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=Gy(o),e.memoizedState=qy,s);if(!(e.mode&1))return vh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=ug(s,r,void 0),vh(t,e,o,r)}if(a=(o&t.childLanes)!==0,tn||a){if(r=yt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yr(t,i),qn(r,t,i,-1))}return I0(),r=ug(Error(O(421))),vh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Li(i.nextSibling),fn=e,$e=!0,Vn=null,t!==null&&(Cn[An++]=Mr,Cn[An++]=Lr,Cn[An++]=Qs,Mr=t.id,Lr=t.overflow,Qs=e),e=_0(e,r.children),e.flags|=4096,e)}function _S(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uy(t.return,e,n)}function cg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ht(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_S(t,n,e);else if(t.tag===19)_S(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cg(e,!0,n,null,s);break;case"together":cg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u$(t,e,n){switch(e.tag){case 3:pP(e),Ia();break;case 5:BR(e);break;case 1:sn(e.type)&&Dd(e);break;case 4:c0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe($d,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?mP(t,e,n):(Pe(Ve,Ve.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Pe(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,dP(t,e,n)}return Xr(t,e,n)}var yP,Ky,_P,vP;yP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};_P=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ns(pr.current);var s=null;switch(n){case"input":i=gy(t,i),r=gy(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=vy(t,i),r=vy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Od)}Ey(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c$(t,e,n){var r=e.pendingProps;switch(r0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return sn(e.type)&&Nd(),Nt(e),null;case 3:return r=e.stateNode,Aa(),Me(rn),Me(zt),d0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(n_(Vn),Vn=null))),Ky(t,e),Nt(e),null;case 5:h0(e);var i=Ns(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)_P(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Nt(e),null}if(t=Ns(pr.current),yh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[bu]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Ll.length;i++)xe(Ll[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":RT(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":bT(r,s),xe("invalid",r)}Ey(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&gh(r.textContent,a,t),i=["children",""+a]):vu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":lh(r),PT(r,s,!0);break;case"textarea":lh(r),xT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[bu]=r,yP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ty(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ll.length;i++)xe(Ll[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":RT(t,r),i=gy(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),xe("invalid",t);break;case"textarea":bT(t,r),i=vy(t,r),xe("invalid",t);break;default:i=r}Ey(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?QA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wu(t,l):typeof l=="number"&&wu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",t):l!=null&&zv(t,s,l,o))}switch(n){case"input":lh(t),PT(t,r,!1);break;case"textarea":lh(t),xT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?la(t,!!r.multiple,s,!1):r.defaultValue!=null&&la(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)vP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Ns(ku.current),Ns(pr.current),yh(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:gh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Nt(e),null;case 13:if(Me(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&cn!==null&&e.mode&1&&!(e.flags&128))LR(),Ia(),e.flags|=98560,s=!1;else if(s=yh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[lr]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Vn!==null&&(n_(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ot===0&&(ot=3):I0())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Aa(),Ky(t,e),t===null&&Ru(e.stateNode.containerInfo),Nt(e),null;case 10:return a0(e.type._context),Nt(e),null;case 17:return sn(e.type)&&Nd(),Nt(e),null;case 19:if(Me(Ve),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Sl(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,Sl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>Pa&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return Nt(e),null}else 2*Ge()-s.renderingStartTime>Pa&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Ve.current,Pe(Ve,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return S0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?un&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function h$(t,e){switch(r0(e),e.tag){case 1:return sn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),Me(rn),Me(zt),d0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return h0(e),null;case 13:if(Me(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ve),null;case 4:return Aa(),null;case 10:return a0(e.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var wh=!1,$t=!1,d$=typeof WeakSet=="function"?WeakSet:Set,F=null;function Zo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Qy(t,e,n){try{n()}catch(r){He(t,e,r)}}var vS=!1;function f$(t,e){if(Oy=bd,t=SR(),t0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ny={focusedElem:t,selectionRange:n},bd=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ln(e.type,_),v);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){He(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return g=vS,vS=!1,g}function Xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qy(e,n,s)}i=i.next}while(i!==r)}}function op(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wP(t){var e=t.alternate;e!==null&&(t.alternate=null,wP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[bu],delete e[Ly],delete e[QL],delete e[YL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EP(t){return t.tag===5||t.tag===3||t.tag===4}function wS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Od));else if(r!==4&&(t=t.child,t!==null))for(Xy(t,e,n),t=t.sibling;t!==null;)Xy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var St=null,Fn=!1;function fi(t,e,n){for(n=n.child;n!==null;)TP(t,e,n),n=n.sibling}function TP(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:$t||Zo(n,e);case 6:var r=St,i=Fn;St=null,fi(t,e,n),St=r,Fn=i,St!==null&&(Fn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Fn?(t=St,n=n.stateNode,t.nodeType===8?rg(t.parentNode,n):t.nodeType===1&&rg(t,n),Iu(t)):rg(St,n.stateNode));break;case 4:r=St,i=Fn,St=n.stateNode.containerInfo,Fn=!0,fi(t,e,n),St=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qy(n,e,o),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!$t&&(Zo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,fi(t,e,n),$t=r):fi(t,e,n);break;default:fi(t,e,n)}}function ES(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d$),e.forEach(function(r){var i=T$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Fn=!1;break e;case 3:St=a.stateNode.containerInfo,Fn=!0;break e;case 4:St=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(St===null)throw Error(O(160));TP(s,o,i),St=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SP(e,t),e=e.sibling}function SP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),ir(t),r&4){try{Xl(3,t,t.return),op(3,t)}catch(_){He(t,t.return,_)}try{Xl(5,t,t.return)}catch(_){He(t,t.return,_)}}break;case 1:Mn(e,t),ir(t),r&512&&n!==null&&Zo(n,n.return);break;case 5:if(Mn(e,t),ir(t),r&512&&n!==null&&Zo(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(_){He(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&WA(i,s),Ty(a,o);var u=Ty(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?QA(i,h):c==="dangerouslySetInnerHTML"?GA(i,h):c==="children"?wu(i,h):zv(i,c,h,u)}switch(a){case"input":yy(i,s);break;case"textarea":HA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?la(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?la(i,!!s.multiple,s.defaultValue,!0):la(i,!!s.multiple,s.multiple?[]:"",!1))}i[bu]=s}catch(_){He(t,t.return,_)}}break;case 6:if(Mn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){He(t,t.return,_)}}break;case 3:if(Mn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iu(e.containerInfo)}catch(_){He(t,t.return,_)}break;case 4:Mn(e,t),ir(t);break;case 13:Mn(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E0=Ge())),r&4&&ES(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||c,Mn(e,t),$t=u):Mn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(h=F=c;F!==null;){switch(d=F,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xl(4,d,d.return);break;case 1:Zo(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){He(r,n,_)}}break;case 5:Zo(d,d.return);break;case 22:if(d.memoizedState!==null){SS(h);continue}}f!==null?(f.return=d,F=f):SS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KA("display",o))}catch(_){He(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){He(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),ir(t),r&4&&ES(t);break;case 21:break;default:Mn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EP(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var s=wS(t);Jy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=wS(t);Xy(t,a,o);break;default:throw Error(O(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p$(t,e,n){F=t,IP(t)}function IP(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=wh;var u=$t;if(wh=o,($t=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?IS(i):l!==null?(l.return=o,F=l):IS(i);for(;s!==null;)F=s,IP(s),s=s.sibling;F=i,wh=a,$t=u}TS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):TS(t)}}function TS(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||op(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&sS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Iu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}$t||e.flags&512&&Yy(e)}catch(d){He(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function SS(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function IS(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{op(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Yy(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Yy(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var m$=Math.ceil,Bd=ii.ReactCurrentDispatcher,v0=ii.ReactCurrentOwner,kn=ii.ReactCurrentBatchConfig,pe=0,yt=null,Je=null,Pt=0,un=0,ea=ds(0),ot=0,Mu=null,Xs=0,ap=0,w0=0,Jl=null,Jt=null,E0=0,Pa=1/0,Or=null,Wd=!1,Zy=null,Fi=null,Eh=!1,Pi=null,Hd=0,Zl=0,e_=null,Xh=-1,Jh=0;function Kt(){return pe&6?Ge():Xh!==-1?Xh:Xh=Ge()}function Vi(t){return t.mode&1?pe&2&&Pt!==0?Pt&-Pt:JL.transition!==null?(Jh===0&&(Jh=aR()),Jh):(t=we,t!==0||(t=window.event,t=t===void 0?16:pR(t.type)),t):1}function qn(t,e,n,r){if(50<Zl)throw Zl=0,e_=null,Error(O(185));Ec(t,n,r),(!(pe&2)||t!==yt)&&(t===yt&&(!(pe&2)&&(ap|=n),ot===4&&Ei(t,Pt)),on(t,r),n===1&&pe===0&&!(e.mode&1)&&(Pa=Ge()+500,rp&&fs()))}function on(t,e){var n=t.callbackNode;JM(t,e);var r=Pd(t,t===yt?Pt:0);if(r===0)n!==null&&NT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NT(n),e===1)t.tag===0?XL(CS.bind(null,t)):NR(CS.bind(null,t)),GL(function(){!(pe&6)&&fs()}),n=null;else{switch(lR(r)){case 1:n=Gv;break;case 4:n=sR;break;case 16:n=Rd;break;case 536870912:n=oR;break;default:n=Rd}n=OP(n,CP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function CP(t,e){if(Xh=-1,Jh=0,pe&6)throw Error(O(327));var n=t.callbackNode;if(fa()&&t.callbackNode!==n)return null;var r=Pd(t,t===yt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=pe;pe|=2;var s=RP();(yt!==t||Pt!==e)&&(Or=null,Pa=Ge()+500,js(t,e));do try{_$();break}catch(a){AP(t,a)}while(1);o0(),Bd.current=s,pe=i,Je!==null?e=0:(yt=null,Pt=0,e=ot)}if(e!==0){if(e===2&&(i=Ry(t),i!==0&&(r=i,e=t_(t,i))),e===1)throw n=Mu,js(t,0),Ei(t,r),on(t,Ge()),n;if(e===6)Ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!g$(i)&&(e=qd(t,r),e===2&&(s=Ry(t),s!==0&&(r=s,e=t_(t,s))),e===1))throw n=Mu,js(t,0),Ei(t,r),on(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Is(t,Jt,Or);break;case 3:if(Ei(t,r),(r&130023424)===r&&(e=E0+500-Ge(),10<e)){if(Pd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=My(Is.bind(null,t,Jt,Or),e);break}Is(t,Jt,Or);break;case 4:if(Ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Hn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m$(r/1960))-r,10<r){t.timeoutHandle=My(Is.bind(null,t,Jt,Or),r);break}Is(t,Jt,Or);break;case 5:Is(t,Jt,Or);break;default:throw Error(O(329))}}}return on(t,Ge()),t.callbackNode===n?CP.bind(null,t):null}function t_(t,e){var n=Jl;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=qd(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&n_(e)),t}function n_(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function g$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ei(t,e){for(e&=~w0,e&=~ap,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function CS(t){if(pe&6)throw Error(O(327));fa();var e=Pd(t,0);if(!(e&1))return on(t,Ge()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=Ry(t);r!==0&&(e=r,n=t_(t,r))}if(n===1)throw n=Mu,js(t,0),Ei(t,e),on(t,Ge()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Jt,Or),on(t,Ge()),null}function T0(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Pa=Ge()+500,rp&&fs())}}function Js(t){Pi!==null&&Pi.tag===0&&!(pe&6)&&fa();var e=pe;pe|=1;var n=kn.transition,r=we;try{if(kn.transition=null,we=1,t)return t()}finally{we=r,kn.transition=n,pe=e,!(pe&6)&&fs()}}function S0(){un=ea.current,Me(ea)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qL(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(r0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:Aa(),Me(rn),Me(zt),d0();break;case 5:h0(r);break;case 4:Aa();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:a0(r.type._context);break;case 22:case 23:S0()}n=n.return}if(yt=t,Je=t=Ui(t.current,null),Pt=un=e,ot=0,Mu=null,w0=ap=Xs=0,Jt=Jl=null,Os!==null){for(e=0;e<Os.length;e++)if(n=Os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return t}function AP(t,e){do{var n=Je;try{if(o0(),Kh.current=zd,jd){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jd=!1}if(Ys=0,ft=nt=je=null,Yl=!1,Ou=0,v0.current=null,n===null||n.return===null){ot=1,Mu=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=dS(o);if(f!==null){f.flags&=-257,fS(f,o,a,s,e),f.mode&1&&hS(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){hS(s,u,e),I0();break e}l=Error(O(426))}}else if($e&&a.mode&1){var v=dS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),fS(v,o,a,s,e),i0(Ra(l,a));break e}}s=l=Ra(l,a),ot!==4&&(ot=2),Jl===null?Jl=[s]:Jl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=uP(s,l,e);iS(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fi===null||!Fi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=cP(s,a,e);iS(s,w);break e}}s=s.return}while(s!==null)}bP(n)}catch(I){e=I,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function RP(){var t=Bd.current;return Bd.current=zd,t===null?zd:t}function I0(){(ot===0||ot===3||ot===2)&&(ot=4),yt===null||!(Xs&268435455)&&!(ap&268435455)||Ei(yt,Pt)}function qd(t,e){var n=pe;pe|=2;var r=RP();(yt!==t||Pt!==e)&&(Or=null,js(t,e));do try{y$();break}catch(i){AP(t,i)}while(1);if(o0(),pe=n,Bd.current=r,Je!==null)throw Error(O(261));return yt=null,Pt=0,ot}function y$(){for(;Je!==null;)PP(Je)}function _$(){for(;Je!==null&&!BM();)PP(Je)}function PP(t){var e=kP(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?bP(t):Je=e,v0.current=null}function bP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=h$(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Je=null;return}}else if(n=c$(n,e,un),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);ot===0&&(ot=5)}function Is(t,e,n){var r=we,i=kn.transition;try{kn.transition=null,we=1,v$(t,e,n,r)}finally{kn.transition=i,we=r}return null}function v$(t,e,n,r){do fa();while(Pi!==null);if(pe&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ZM(t,s),t===yt&&(Je=yt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eh||(Eh=!0,OP(Rd,function(){return fa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=kn.transition,kn.transition=null;var o=we;we=1;var a=pe;pe|=4,v0.current=null,f$(t,n),SP(n,t),VL(Ny),bd=!!Oy,Ny=Oy=null,t.current=n,p$(n),WM(),pe=a,we=o,kn.transition=s}else t.current=n;if(Eh&&(Eh=!1,Pi=t,Hd=i),s=t.pendingLanes,s===0&&(Fi=null),GM(n.stateNode),on(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,t=Zy,Zy=null,t;return Hd&1&&t.tag!==0&&fa(),s=t.pendingLanes,s&1?t===e_?Zl++:(Zl=0,e_=t):Zl=0,fs(),null}function fa(){if(Pi!==null){var t=lR(Hd),e=kn.transition,n=we;try{if(kn.transition=null,we=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,Hd=0,pe&6)throw Error(O(331));var i=pe;for(pe|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Xl(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var d=c.sibling,f=c.return;if(wP(c),c===u){F=null;break}if(d!==null){d.return=f,F=d;break}F=f}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,F=m;break e}F=s.return}}var p=t.current;for(F=p;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=p;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:op(9,a)}}catch(I){He(a,a.return,I)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(pe=i,fs(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{we=n,kn.transition=e}}return!1}function AS(t,e,n){e=Ra(n,e),e=uP(t,e,1),t=$i(t,e,1),e=Kt(),t!==null&&(Ec(t,1,e),on(t,e))}function He(t,e,n){if(t.tag===3)AS(t,t,n);else for(;e!==null;){if(e.tag===3){AS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Ra(n,t),t=cP(e,t,1),e=$i(e,t,1),t=Kt(),e!==null&&(Ec(e,1,t),on(e,t));break}}e=e.return}}function w$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Pt&n)===n&&(ot===4||ot===3&&(Pt&130023424)===Pt&&500>Ge()-E0?js(t,0):w0|=n),on(t,e)}function xP(t,e){e===0&&(t.mode&1?(e=hh,hh<<=1,!(hh&130023424)&&(hh=4194304)):e=1);var n=Kt();t=Yr(t,e),t!==null&&(Ec(t,e,n),on(t,n))}function E$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xP(t,n)}function T$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),xP(t,n)}var kP;kP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tn=!1,u$(t,e,n);tn=!!(t.flags&131072)}else tn=!1,$e&&e.flags&1048576&&DR(e,Ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yh(t,e),t=e.pendingProps;var i=Sa(e,zt.current);da(e,n),i=p0(null,e,r,t,i,n);var s=m0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,Dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,u0(e),i.updater=ip,e.stateNode=i,i._reactInternals=e,zy(e,r,t,n),e=Hy(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&n0(e),Ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I$(r),t=Ln(r,t),i){case 0:e=Wy(null,e,r,t,n);break e;case 1:e=gS(null,e,r,t,n);break e;case 11:e=pS(null,e,r,t,n);break e;case 14:e=mS(null,e,r,Ln(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Wy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),gS(t,e,r,i,n);case 3:e:{if(pP(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,FR(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ra(Error(O(423)),e),e=yS(t,e,r,n,i);break e}else if(r!==i){i=Ra(Error(O(424)),e),e=yS(t,e,r,n,i);break e}else for(cn=Li(e.stateNode.containerInfo.firstChild),fn=e,$e=!0,Vn=null,n=zR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),r===i){e=Xr(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return BR(e),t===null&&Vy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dy(r,i)?o=null:s!==null&&Dy(r,s)&&(e.flags|=32),fP(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&Vy(e),null;case 13:return mP(t,e,n);case 4:return c0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),pS(t,e,r,i,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe($d,r._currentValue),r._currentValue=o,s!==null)if(Xn(s.value,o)){if(s.children===i.children&&!rn.current){e=Xr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Uy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,da(e,n),i=On(i),r=r(i),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,i=Ln(r,e.pendingProps),i=Ln(r.type,i),mS(t,e,r,i,n);case 15:return hP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ln(r,i),Yh(t,e),e.tag=1,sn(r)?(t=!0,Dd(e)):t=!1,da(e,n),UR(e,r,i),zy(e,r,i,n),Hy(null,e,r,!0,t,n);case 19:return gP(t,e,n);case 22:return dP(t,e,n)}throw Error(O(156,e.tag))};function OP(t,e){return iR(t,e)}function S$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new S$(t,e,n,r)}function C0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I$(t){if(typeof t=="function")return C0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wv)return 11;if(t===Hv)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return zs(n.children,i,s,e);case Bv:o=8,i|=8;break;case dy:return t=xn(12,n,e,i|2),t.elementType=dy,t.lanes=s,t;case fy:return t=xn(13,n,e,i),t.elementType=fy,t.lanes=s,t;case py:return t=xn(19,n,e,i),t.elementType=py,t.lanes=s,t;case jA:return lp(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VA:o=10;break e;case UA:o=9;break e;case Wv:o=11;break e;case Hv:o=14;break e;case yi:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=xn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zs(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function lp(t,e,n,r){return t=xn(22,t,r,e),t.elementType=jA,t.lanes=n,t.stateNode={isHidden:!1},t}function hg(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function dg(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A0(t,e,n,r,i,s,o,a,l){return t=new C$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},u0(s),t}function A$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function NP(t){if(!t)return Ji;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(sn(n))return OR(t,n,e)}return e}function DP(t,e,n,r,i,s,o,a,l){return t=A0(n,r,!0,t,i,s,o,a,l),t.context=NP(null),n=t.current,r=Kt(),i=Vi(n),s=zr(r,i),s.callback=e??null,$i(n,s,i),t.current.lanes=i,Ec(t,i,r),on(t,r),t}function up(t,e,n,r){var i=e.current,s=Kt(),o=Vi(i);return n=NP(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$i(i,e,o),t!==null&&(qn(t,i,o,s),Gh(t,i,o)),o}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function RS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function R0(t,e){RS(t,e),(t=t.alternate)&&RS(t,e)}function R$(){return null}var MP=typeof reportError=="function"?reportError:function(t){console.error(t)};function P0(t){this._internalRoot=t}cp.prototype.render=P0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));up(t,e,null,null)};cp.prototype.unmount=P0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){up(null,t,null,null)}),e[Qr]=null}};function cp(t){this._internalRoot=t}cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=hR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&fR(t)}};function b0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PS(){}function P$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Gd(o);s.call(u)}}var o=DP(e,r,t,0,null,!1,!1,"",PS);return t._reactRootContainer=o,t[Qr]=o.current,Ru(t.nodeType===8?t.parentNode:t),Js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Gd(l);a.call(u)}}var l=A0(t,0,!1,null,null,!1,!1,"",PS);return t._reactRootContainer=l,t[Qr]=l.current,Ru(t.nodeType===8?t.parentNode:t),Js(function(){up(e,l,n,r)}),l}function dp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gd(o);a.call(l)}}up(e,o,t,i)}else o=P$(n,e,t,i,r);return Gd(o)}uR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ml(e.pendingLanes);n!==0&&(Kv(e,n|1),on(e,Ge()),!(pe&6)&&(Pa=Ge()+500,fs()))}break;case 13:Js(function(){var r=Yr(t,1);if(r!==null){var i=Kt();qn(r,t,1,i)}}),R0(t,1)}};Qv=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=Kt();qn(e,t,134217728,n)}R0(t,134217728)}};cR=function(t){if(t.tag===13){var e=Vi(t),n=Yr(t,e);if(n!==null){var r=Kt();qn(n,t,e,r)}R0(t,e)}};hR=function(){return we};dR=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Iy=function(t,e,n){switch(e){case"input":if(yy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=np(r);if(!i)throw Error(O(90));BA(r),yy(r,i)}}}break;case"textarea":HA(t,n);break;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}};JA=T0;ZA=Js;var b$={usingClientEntryPoint:!1,Events:[Sc,Ko,np,YA,XA,T0]},Il={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},x$={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nR(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||R$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Jf=Th.inject(x$),fr=Th}catch{}}wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b$;wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(e))throw Error(O(200));return A$(t,e,null,n)};wn.createRoot=function(t,e){if(!b0(t))throw Error(O(299));var n=!1,r="",i=MP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A0(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,Ru(t.nodeType===8?t.parentNode:t),new P0(e)};wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=nR(e),t=t===null?null:t.stateNode,t};wn.flushSync=function(t){return Js(t)};wn.hydrate=function(t,e,n){if(!hp(e))throw Error(O(200));return dp(null,t,e,!0,n)};wn.hydrateRoot=function(t,e,n){if(!b0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=DP(e,null,t,1,n??null,i,!1,s,o),t[Qr]=e.current,Ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cp(e)};wn.render=function(t,e,n){if(!hp(e))throw Error(O(200));return dp(null,t,e,!1,n)};wn.unmountComponentAtNode=function(t){if(!hp(t))throw Error(O(40));return t._reactRootContainer?(Js(function(){dp(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};wn.unstable_batchedUpdates=T0;wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hp(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return dp(t,e,n,!1,r)};wn.version="18.2.0-next-9e3b772b8-20220608";function LP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LP)}catch(t){console.error(t)}}LP(),DA.exports=wn;var $P=DA.exports,bS=$P;cy.createRoot=bS.createRoot,cy.hydrateRoot=bS.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const xS="popstate";function k$(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return r_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kd(i)}return N$(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O$(){return Math.random().toString(36).substr(2,8)}function kS(t,e){return{usr:t.state,key:t.key,idx:e}}function r_(t,e,n,r){return n===void 0&&(n=null),Lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Za(e):e,{state:n,key:e&&e.key||r||O$()})}function Kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function N$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Lu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=bi.Pop;let v=c(),m=v==null?null:v-u;u=v,l&&l({action:a,location:_.location,delta:m})}function d(v,m){a=bi.Push;let p=r_(_.location,v,m);n&&n(p,v),u=c()+1;let y=kS(p,u),w=_.createHref(p);try{o.pushState(y,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:_.location,delta:1})}function f(v,m){a=bi.Replace;let p=r_(_.location,v,m);n&&n(p,v),u=c();let y=kS(p,u),w=_.createHref(p);o.replaceState(y,"",w),s&&l&&l({action:a,location:_.location,delta:0})}function g(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof v=="string"?v:Kd(v);return p=p.replace(/ $/,"%20"),ze(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,h),l=v,()=>{i.removeEventListener(xS,h),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let m=g(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:f,go(v){return o.go(v)}};return _}var OS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(OS||(OS={}));function D$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Za(e):e,i=ba(r.pathname||"/",n);if(i==null)return null;let s=VP(t);M$(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=q$(i);o=W$(s[a],l)}return o}function VP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ji([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:z$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of UP(s.path))i(s,o,l)}),e}function UP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=UP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function M$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L$=/^:[\w-]+$/,$$=3,F$=2,V$=1,U$=10,j$=-2,NS=t=>t==="*";function z$(t,e){let n=t.split("/"),r=n.length;return n.some(NS)&&(r+=j$),e&&(r+=F$),n.filter(i=>!NS(i)).reduce((i,s)=>i+(L$.test(s)?$$:s===""?V$:U$),r)}function B$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function W$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=i_({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ji([i,c.pathname]),pathnameBase:Y$(ji([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ji([i,c.pathnameBase]))}return s}function i_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function H$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),FP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function q$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function G$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Za(t):t;return{pathname:n?n.startsWith("/")?n:K$(n,e):e,search:X$(r),hash:J$(i)}}function K$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t,e){let n=Q$(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function k0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Za(t):(i=Lu({},t),ze(!i.pathname||!i.pathname.includes("?"),fg("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),fg("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),fg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=G$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),Y$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jP=["post","put","patch","delete"];new Set(jP);const eF=["get",...jP];new Set(eF);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}const fp=E.createContext(null),zP=E.createContext(null),si=E.createContext(null),pp=E.createContext(null),oi=E.createContext({outlet:null,matches:[],isDataRoute:!1}),BP=E.createContext(null);function tF(t,e){let{relative:n}=e===void 0?{}:e;el()||ze(!1);let{basename:r,navigator:i}=E.useContext(si),{hash:s,pathname:o,search:a}=mp(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ji([r,o])),i.createHref({pathname:l,search:a,hash:s})}function el(){return E.useContext(pp)!=null}function _o(){return el()||ze(!1),E.useContext(pp).location}function WP(t){E.useContext(si).static||E.useLayoutEffect(t)}function Cc(){let{isDataRoute:t}=E.useContext(oi);return t?gF():nF()}function nF(){el()||ze(!1);let t=E.useContext(fp),{basename:e,future:n,navigator:r}=E.useContext(si),{matches:i}=E.useContext(oi),{pathname:s}=_o(),o=JSON.stringify(x0(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return WP(()=>{a.current=!0}),E.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=k0(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ji([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}const rF=E.createContext(null);function iF(t){let e=E.useContext(oi).outlet;return e&&E.createElement(rF.Provider,{value:t},e)}function mp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(si),{matches:i}=E.useContext(oi),{pathname:s}=_o(),o=JSON.stringify(x0(i,r.v7_relativeSplatPath));return E.useMemo(()=>k0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sF(t,e){return oF(t,e)}function oF(t,e,n,r){el()||ze(!1);let{navigator:i}=E.useContext(si),{matches:s}=E.useContext(oi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=_o(),c;if(e){var h;let v=typeof e=="string"?Za(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||ze(!1),c=v}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=D$(t,{pathname:f}),_=hF(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:ji([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ji([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&_?E.createElement(pp.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:bi.Pop}},_):_}function aF(){let t=mF(),e=Z$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const lF=E.createElement(aF,null);class uF extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(oi.Provider,{value:this.props.routeContext},E.createElement(BP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cF(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(fp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(oi.Provider,{value:e},r)}function hF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||ze(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=n,g=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,g=!1,_=null,v=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||lF,l&&(u<0&&d===0?(yF("route-fallback",!1),g=!0,v=null):u===d&&(g=!0,v=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,d+1)),p=()=>{let y;return f?y=_:g?y=v:h.route.Component?y=E.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,E.createElement(cF,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?E.createElement(uF,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var HP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HP||{}),Qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qd||{});function dF(t){let e=E.useContext(fp);return e||ze(!1),e}function fF(t){let e=E.useContext(zP);return e||ze(!1),e}function pF(t){let e=E.useContext(oi);return e||ze(!1),e}function qP(t){let e=pF(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function mF(){var t;let e=E.useContext(BP),n=fF(Qd.UseRouteError),r=qP(Qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gF(){let{router:t}=dF(HP.UseNavigateStable),e=qP(Qd.UseNavigateStable),n=E.useRef(!1);return WP(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$u({fromRouteId:e},s)))},[t,e])}const DS={};function yF(t,e,n){!e&&!DS[t]&&(DS[t]=!0)}function _F(t){let{to:e,replace:n,state:r,relative:i}=t;el()||ze(!1);let{future:s,static:o}=E.useContext(si),{matches:a}=E.useContext(oi),{pathname:l}=_o(),u=Cc(),c=k0(e,x0(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return E.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function vF(t){return iF(t.context)}function Vo(t){ze(!1)}function wF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bi.Pop,navigator:s,static:o=!1,future:a}=t;el()&&ze(!1);let l=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:o,future:$u({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Za(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:g="default"}=r,_=E.useMemo(()=>{let v=ba(c,l);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:g},navigationType:i}},[l,c,h,d,f,g,i]);return _==null?null:E.createElement(si.Provider,{value:u},E.createElement(pp.Provider,{children:n,value:_}))}function EF(t){let{children:e,location:n}=t;return sF(s_(e),n)}new Promise(()=>{});function s_(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,s_(r.props.children,s));return}r.type!==Vo&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=s_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function GP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SF(t,e){return t.button===0&&(!e||e==="_self")&&!TF(t)}const IF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],CF=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],AF="6";try{window.__reactRouterVersion=AF}catch{}const RF=E.createContext({isTransitioning:!1}),PF="startTransition",MS=uy[PF];function bF(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=k$({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(h=>{u&&MS?MS(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(wF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KP=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=GP(e,IF),{basename:f}=E.useContext(si),g,_=!1;if(typeof u=="string"&&kF.test(u)&&(g=u,xF))try{let y=new URL(window.location.href),w=u.startsWith("//")?new URL(y.protocol+u):new URL(u),I=ba(w.pathname,f);w.origin===y.origin&&I!=null?u=I+w.search+w.hash:_=!0}catch{}let v=tF(u,{relative:i}),m=NF(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function p(y){r&&r(y),y.defaultPrevented||m(y)}return E.createElement("a",Yd({},d,{href:g||v,onClick:_||s?r:p,ref:n,target:l}))}),QP=E.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=e,h=GP(e,CF),d=mp(l,{relative:h.relative}),f=_o(),g=E.useContext(zP),{navigator:_,basename:v}=E.useContext(si),m=g!=null&&DF(d)&&u===!0,p=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,y=f.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(y=y.toLowerCase(),w=w?w.toLowerCase():null,p=p.toLowerCase()),w&&v&&(w=ba(w,v)||w);const I=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let T=y===p||!o&&y.startsWith(p)&&y.charAt(I)==="/",S=w!=null&&(w===p||!o&&w.startsWith(p)&&w.charAt(p.length)==="/"),x={isActive:T,isPending:S,isTransitioning:m},V=T?r:void 0,j;typeof s=="function"?j=s(x):j=[s,T?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let ne=typeof a=="function"?a(x):a;return E.createElement(KP,Yd({},h,{"aria-current":V,className:j,ref:n,style:ne,to:l,unstable_viewTransition:u}),typeof c=="function"?c(x):c)});var o_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o_||(o_={}));var LS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LS||(LS={}));function OF(t){let e=E.useContext(fp);return e||ze(!1),e}function NF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Cc(),u=_o(),c=mp(t,{relative:o});return E.useCallback(h=>{if(SF(h,n)){h.preventDefault();let d=r!==void 0?r:Kd(u)===Kd(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function DF(t,e){e===void 0&&(e={});let n=E.useContext(RF);n==null&&ze(!1);let{basename:r}=OF(o_.useViewTransitionState),i=mp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ba(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ba(n.nextLocation.pathname,r)||n.nextLocation.pathname;return i_(i.pathname,o)!=null||i_(i.pathname,s)!=null}var YP={exports:{}},XP={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=E;function MF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var LF=typeof Object.is=="function"?Object.is:MF,$F=Ac.useSyncExternalStore,FF=Ac.useRef,VF=Ac.useEffect,UF=Ac.useMemo,jF=Ac.useDebugValue;XP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=FF(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=UF(function(){function l(f){if(!u){if(u=!0,c=f,f=r(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return h=g}return h=f}if(g=h,LF(c,f))return g;var _=r(f);return i!==void 0&&i(g,_)?g:(c=f,h=_)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=$F(t,s[0],s[1]);return VF(function(){o.hasValue=!0,o.value=a},[a]),jF(a),a};YP.exports=XP;var zF=YP.exports,hn="default"in uy?en:uy,$S=Symbol.for("react-redux-context"),FS=typeof globalThis<"u"?globalThis:{};function BF(){if(!hn.createContext)return{};const t=FS[$S]??(FS[$S]=new Map);let e=t.get(hn.createContext);return e||(e=hn.createContext(null),t.set(hn.createContext,e)),e}var Zi=BF(),WF=()=>{throw new Error("uSES not initialized!")};function O0(t=Zi){return function(){return hn.useContext(t)}}var JP=O0(),ZP=WF,HF=t=>{ZP=t},qF=(t,e)=>t===e;function GF(t=Zi){const e=t===Zi?JP:O0(t),n=(r,i={})=>{const{equalityFn:s=qF,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=e();hn.useRef(!0);const d=hn.useCallback({[r.name](g){return r(g)}}[r.name],[r,c,o.stabilityCheck]),f=ZP(l.addNestedSub,a.getState,u||a.getState,d,s);return hn.useDebugValue(f),f};return Object.assign(n,{withTypes:()=>n}),n}var N0=GF();function KF(t){t()}function QF(){let t=null,e=null;return{clear(){t=null,e=null},notify(){KF(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var VS={notify(){},get:()=>[]};function YF(t,e){let n,r=VS,i=0,s=!1;function o(_){c();const v=r.subscribe(_);let m=!1;return()=>{m||(m=!0,v(),h())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return s}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=QF())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VS)}function d(){s||(s=!0,c())}function f(){s&&(s=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>r};return g}var XF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JF=XF?hn.useLayoutEffect:hn.useEffect;function ZF({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=hn.useMemo(()=>{const u=YF(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=hn.useMemo(()=>t.getState(),[t]);JF(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Zi;return hn.createElement(l.Provider,{value:o},n)}var eV=ZF;function eb(t=Zi){const e=t===Zi?JP:O0(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var tV=eb();function nV(t=Zi){const e=t===Zi?tV:eb(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var D0=nV();HF(zF.useSyncExternalStoreWithSelector);function ed(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(n){return typeof n}:ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(t)}function rV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function US(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iV(t,e,n){return e&&US(t.prototype,e),n&&US(t,n),t}function sV(t,e){return e&&(ed(e)==="object"||typeof e=="function")?e:td(t)}function a_(t){return a_=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},a_(t)}function td(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},l_(t,e)}function nd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tb=function(t){oV(e,t);function e(){var n,r;rV(this,e);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=sV(this,(n=a_(e)).call.apply(n,[this].concat(s))),nd(td(r),"state",{bootstrapped:!1}),nd(td(r),"_unsubscribe",void 0),nd(td(r),"handlePersistorState",function(){var a=r.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return iV(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(E.PureComponent);nd(tb,"defaultProps",{children:null,loading:null});function Tt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aV=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),jS=aV,pg=()=>Math.random().toString(36).substring(7).split("").join("."),lV={INIT:`@@redux/INIT${pg()}`,REPLACE:`@@redux/REPLACE${pg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pg()}`},Xd=lV;function M0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function L0(t,e,n){if(typeof t!="function")throw new Error(Tt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(L0)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,m)=>{o.set(m,v)}))}function c(){if(l)throw new Error(Tt(3));return i}function h(v){if(typeof v!="function")throw new Error(Tt(4));if(l)throw new Error(Tt(5));let m=!0;u();const p=a++;return o.set(p,v),function(){if(m){if(l)throw new Error(Tt(6));m=!1,u(),o.delete(p),s=null}}}function d(v){if(!M0(v))throw new Error(Tt(7));if(typeof v.type>"u")throw new Error(Tt(8));if(typeof v.type!="string")throw new Error(Tt(17));if(l)throw new Error(Tt(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(p=>{p()}),v}function f(v){if(typeof v!="function")throw new Error(Tt(10));r=v,d({type:Xd.REPLACE})}function g(){const v=h;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Tt(11));function p(){const w=m;w.next&&w.next(c())}return p(),{unsubscribe:v(p)}},[jS](){return this}}}return d({type:Xd.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:f,[jS]:g}}function uV(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Xd.INIT})>"u")throw new Error(Tt(12));if(typeof n(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function cV(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{uV(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],f=o[h],g=d(f,a);if(typeof g>"u")throw a&&a.type,new Error(Tt(14));u[h]=g,l=l||g!==f}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Jd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hV(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Tt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=t.map(l=>l(o));return s=Jd(...a)(i.dispatch),{...i,dispatch:s}}}function dV(t){return M0(t)&&"type"in t&&typeof t.type=="string"}var nb=Symbol.for("immer-nothing"),zS=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Un(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xa=Object.getPrototypeOf;function es(t){return!!t&&!!t[yn]}function Jr(t){var e;return t?rb(t)||Array.isArray(t)||!!t[zS]||!!((e=t.constructor)!=null&&e[zS])||yp(t)||_p(t):!1}var fV=Object.prototype.constructor.toString();function rb(t){if(!t||typeof t!="object")return!1;const e=xa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===fV}function Zd(t,e){gp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function gp(t){const e=t[yn];return e?e.type_:Array.isArray(t)?1:yp(t)?2:_p(t)?3:0}function u_(t,e){return gp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ib(t,e,n){const r=gp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yp(t){return t instanceof Map}function _p(t){return t instanceof Set}function Cs(t){return t.copy_||t.base_}function c_(t,e){if(yp(t))return new Map(t);if(_p(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rb(t))return xa(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[yn];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(xa(t),n)}function $0(t,e=!1){return vp(t)||es(t)||!Jr(t)||(gp(t)>1&&(t.set=t.add=t.clear=t.delete=mV),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>$0(r,!0))),t}function mV(){Un(2)}function vp(t){return Object.isFrozen(t)}var gV={};function Zs(t){const e=gV[t];return e||Un(0,t),e}var Fu;function sb(){return Fu}function yV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BS(t,e){e&&(Zs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function h_(t){d_(t),t.drafts_.forEach(_V),t.drafts_=null}function d_(t){t===Fu&&(Fu=t.parent_)}function WS(t){return Fu=yV(Fu,t)}function _V(t){const e=t[yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function HS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[yn].modified_&&(h_(e),Un(4)),Jr(t)&&(t=ef(e,t),e.parent_||tf(e,t)),e.patches_&&Zs("Patches").generateReplacementPatches_(n[yn].base_,t,e.patches_,e.inversePatches_)):t=ef(e,n,[]),h_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==nb?t:void 0}function ef(t,e,n){if(vp(e))return e;const r=e[yn];if(!r)return Zd(e,(i,s)=>qS(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return tf(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Zd(s,(a,l)=>qS(t,r,i,a,l,n,o)),tf(t,i,!1),n&&t.patches_&&Zs("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function qS(t,e,n,r,i,s,o){if(es(i)){const a=s&&e&&e.type_!==3&&!u_(e.assigned_,r)?s.concat(r):void 0,l=ef(t,i,a);if(ib(n,r,l),es(l))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Jr(i)&&!vp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ef(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&tf(t,i)}}function tf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$0(e,n)}function vV(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:sb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=F0;n&&(i=[r],s=Vu);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var F0={get(t,e){if(e===yn)return t;const n=Cs(t);if(!u_(n,e))return wV(t,n,e);const r=n[e];return t.finalized_||!Jr(r)?r:r===mg(t.base_,e)?(gg(t),t.copy_[e]=p_(r,t)):r},has(t,e){return e in Cs(t)},ownKeys(t){return Reflect.ownKeys(Cs(t))},set(t,e,n){const r=ob(Cs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=mg(Cs(t),e),s=i==null?void 0:i[yn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pV(n,i)&&(n!==void 0||u_(t.base_,e)))return!0;gg(t),f_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gg(t),f_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Cs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Un(11)},getPrototypeOf(t){return xa(t.base_)},setPrototypeOf(){Un(12)}},Vu={};Zd(F0,(t,e)=>{Vu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vu.deleteProperty=function(t,e){return Vu.set.call(this,t,e,void 0)};Vu.set=function(t,e,n){return F0.set.call(this,t[0],e,n,t[0])};function mg(t,e){const n=t[yn];return(n?Cs(n):t)[e]}function wV(t,e,n){var i;const r=ob(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function ob(t,e){if(!(e in t))return;let n=xa(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xa(n)}}function f_(t){t.modified_||(t.modified_=!0,t.parent_&&f_(t.parent_))}function gg(t){t.copy_||(t.copy_=c_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var EV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Un(6),r!==void 0&&typeof r!="function"&&Un(7);let i;if(Jr(e)){const s=WS(this),o=p_(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?h_(s):d_(s)}return BS(s,r),HS(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===nb&&(i=void 0),this.autoFreeze_&&$0(i,!0),r){const s=[],o=[];Zs("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Un(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Jr(t)||Un(8),es(t)&&(t=ab(t));const e=WS(this),n=p_(t,void 0);return n[yn].isManual_=!0,d_(e),n}finishDraft(t,e){const n=t&&t[yn];(!n||!n.isManual_)&&Un(9);const{scope_:r}=n;return BS(r,e),HS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Zs("Patches").applyPatches_;return es(t)?r(t,e):this.produce(t,i=>r(i,e))}};function p_(t,e){const n=yp(t)?Zs("MapSet").proxyMap_(t,e):_p(t)?Zs("MapSet").proxySet_(t,e):vV(t,e);return(e?e.scope_:sb()).drafts_.push(n),n}function ab(t){return es(t)||Un(10,t),lb(t)}function lb(t){if(!Jr(t)||vp(t))return t;const e=t[yn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=c_(t,e.scope_.immer_.useStrictShallowCopy_)}else n=c_(t,!0);return Zd(n,(r,i)=>{ib(n,r,lb(i))}),e&&(e.finalized_=!1),n}var _n=new EV,ub=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function TV(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function SV(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function IV(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var GS=t=>Array.isArray(t)?t:[t];function CV(t){const e=Array.isArray(t[0])?t[0]:t;return IV(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function AV(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var RV=class{constructor(t){this.value=t}deref(){return this.value}},PV=typeof WeakRef<"u"?WeakRef:RV,bV=0,KS=1;function Sh(){return{s:bV,v:void 0,o:null,p:null}}function V0(t,e={}){let n=Sh();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var h;let a=n;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const v=_.get(g);v===void 0?(a=Sh(),_.set(g,a)):a=v}else{let _=a.p;_===null&&(a.p=_=new Map);const v=_.get(g);v===void 0?(a=Sh(),_.set(g,a)):a=v}}const u=a;let c;if(a.s===KS?c=a.v:(c=t.apply(null,arguments),s++),u.s=KS,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new PV(c):c}return u.v=c,c}return o.clearCache=()=>{n=Sh(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function cb(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),TV(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:f=V0,argsMemoizeOptions:g=[],devModeChecks:_={}}=c,v=GS(d),m=GS(g),p=CV(i),y=h(function(){return s++,u.apply(null,arguments)},...v),w=f(function(){o++;const T=AV(p,arguments);return a=y.apply(null,T),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:p,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:f})};return Object.assign(r,{withTypes:()=>r}),r}var xV=cb(V0),kV=Object.assign((t,e=xV)=>{SV(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>kV});function hb(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var OV=hb(),NV=hb,DV=(...t)=>{const e=cb(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(es(o)?ab(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};DV(V0);var MV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)},LV=t=>t&&typeof t.match=="function";function Br(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(an(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dV(r)&&r.type===t,n}var db=class $l extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$l.prototype)}static get[Symbol.species](){return $l}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $l(...e[0].concat(this)):new $l(...e.concat(this))}};function QS(t){return Jr(t)?ub(t,()=>{}):t}function YS(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(an(10));const r=n.insert(e,t);return t.set(e,r),r}function $V(t){return typeof t=="boolean"}var FV=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new db;return n&&($V(n)?o.push(OV):o.push(NV(n.extraArgument))),o},VV="RTK_autoBatch",fb=t=>e=>{setTimeout(e,t)},UV=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fb(10),jV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?UV:t.type==="callback"?t.queueNotification:fb(t.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[VV]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},zV=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new db(t);return r&&i.push(jV(typeof r=="object"?r:void 0)),i},BV=!0;function WV(t){const e=FV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(M0(n))a=cV(n);else throw new Error(an(1));let l;typeof r=="function"?l=r(e):l=e();let u=Jd;i&&(u=MV({trace:!BV,...typeof i=="object"&&i}));const c=hV(...l),h=zV(c);let d=typeof o=="function"?o(h):h();const f=u(...d);return L0(a,s,f)}function pb(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(an(28));if(a in e)throw new Error(an(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function HV(t){return typeof t=="function"}function qV(t,e){let[n,r,i]=pb(e),s;if(HV(t))s=()=>QS(t());else{const a=QS(t);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(es(c)){const f=h(c,l);return f===void 0?c:f}else{if(Jr(c))return ub(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw new Error(an(9))}return d}}return c},a)}return o.getInitialState=s,o}var GV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mb=(t=21)=>{let e="",n=t;for(;n--;)e+=GV[Math.random()*64|0];return e},KV=(t,e)=>LV(t)?t.match(e):t(e);function QV(...t){return e=>t.some(n=>KV(n,e))}var YV=["name","message","stack","code"],yg=class{constructor(t,e){Um(this,"_type");this.payload=t,this.meta=e}},XS=class{constructor(t,e){Um(this,"_type");this.payload=t,this.meta=e}},XV=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of YV)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ps=(()=>{function t(e,n,r){const i=Br(e+"/fulfilled",(l,u,c,h)=>({payload:l,meta:{...h||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),s=Br(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=Br(e+"/rejected",(l,u,c,h,d)=>({payload:h,error:(r&&r.serializeError||XV)(l||"Rejected"),meta:{...d||{},arg:c,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,h)=>{const d=r!=null&&r.idGenerator?r.idGenerator(l):mb(),f=new AbortController;let g,_;function v(p){_=p,f.abort()}const m=async function(){var w,I;let p;try{let T=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:c,extra:h});if(ZV(T)&&(T=await T),T===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((x,V)=>{g=()=>{V({name:"AbortError",message:_||"Aborted"})},f.signal.addEventListener("abort",g)});u(s(d,l,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:d,arg:l},{getState:c,extra:h}))),p=await Promise.race([S,Promise.resolve(n(l,{dispatch:u,getState:c,extra:h,requestId:d,signal:f.signal,abort:v,rejectWithValue:(x,V)=>new yg(x,V),fulfillWithValue:(x,V)=>new XS(x,V)})).then(x=>{if(x instanceof yg)throw x;return x instanceof XS?i(x.payload,d,l,x.meta):i(x,d,l)})])}catch(T){p=T instanceof yg?o(null,d,l,T.payload,T.meta):o(T,d,l)}finally{g&&f.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&o.match(p)&&p.meta.condition||u(p),p}();return Object.assign(m,{abort:v,requestId:d,arg:l,unwrap(){return m.then(JV)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:QV(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function JV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function ZV(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var eU=Symbol.for("rtk-slice-createasyncthunk");function tU(t,e){return`${t}/${e}`}function nU({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[eU];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(an(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(iU()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,w){const I=typeof y=="string"?y:y.type;if(!I)throw new Error(an(12));if(I in u.sliceCaseReducersByType)throw new Error(an(13));return u.sliceCaseReducersByType[I]=w,c},addMatcher(y,w){return u.sliceMatchers.push({matcher:y,reducer:w}),c},exposeAction(y,w){return u.actionCreators[y]=w,c},exposeCaseReducer(y,w){return u.sliceCaseReducersByName[y]=w,c}};l.forEach(y=>{const w=a[y],I={reducerName:y,type:tU(s,y),createNotation:typeof i.reducers=="function"};oU(w)?lU(I,w,c,e):sU(I,w,c)});function h(){const[y={},w=[],I=void 0]=typeof i.extraReducers=="function"?pb(i.extraReducers):[i.extraReducers],T={...y,...u.sliceCaseReducersByType};return qV(i.initialState,S=>{for(let x in T)S.addCase(x,T[x]);for(let x of u.sliceMatchers)S.addMatcher(x.matcher,x.reducer);for(let x of w)S.addMatcher(x.matcher,x.reducer);I&&S.addDefaultCase(I)})}const d=y=>y,f=new Map;let g;function _(y,w){return g||(g=h()),g(y,w)}function v(){return g||(g=h()),g.getInitialState()}function m(y,w=!1){function I(S){let x=S[y];return typeof x>"u"&&w&&(x=v()),x}function T(S=d){const x=YS(f,w,{insert:()=>new WeakMap});return YS(x,S,{insert:()=>{const V={};for(const[j,ne]of Object.entries(i.selectors??{}))V[j]=rU(ne,S,v,w);return V}})}return{reducerPath:y,getSelectors:T,get selectors(){return T(I)},selectSlice:I}}const p={name:s,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...m(o),injectInto(y,{reducerPath:w,...I}={}){const T=w??o;return y.inject({reducerPath:T,reducer:_},I),{...p,...m(T,!0)}}};return p}}function rU(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var U0=nU();function iU(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sU({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!aU(r))throw new Error(an(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Br(t,o):Br(t))}function oU(t){return t._reducerDefinitionType==="asyncThunk"}function aU(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lU({type:t,reducerName:e},n,r,i){if(!i)throw new Error(an(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,s,c);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Ih,pending:a||Ih,rejected:l||Ih,settled:u||Ih})}function Ih(){}var uU=(t,e)=>{if(typeof t!="function")throw new Error(an(32))},j0="listenerMiddleware",cU=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Br(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(an(21));return uU(s),{predicate:i,type:e,effect:s}},hU=Object.assign(t=>{const{type:e,predicate:n,effect:r}=cU(t);return{id:mb(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(an(22))}}},{withTypes:()=>hU}),dU=Object.assign(Br(`${j0}/add`),{withTypes:()=>dU});Br(`${j0}/removeAll`);var fU=Object.assign(Br(`${j0}/remove`),{withTypes:()=>fU});function an(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var z0="persist:",B0="persist/FLUSH",wp="persist/REHYDRATE",W0="persist/PAUSE",H0="persist/PERSIST",q0="persist/PURGE",G0="persist/REGISTER",pU=-1;function rd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(n){return typeof n}:rd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},rd(t)}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(n,!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t,e,n,r){r.debug;var i=mU({},n);return t&&rd(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function _U(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:z0).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(I){return I}:typeof t.serialize=="function"?a=t.serialize:a=vU;var l=t.writeFailHandler||null,u={},c={},h=[],d=null,f=null,g=function(I){Object.keys(I).forEach(function(T){m(T)&&u[T]!==I[T]&&h.indexOf(T)===-1&&h.push(T)}),Object.keys(u).forEach(function(T){I[T]===void 0&&m(T)&&h.indexOf(T)===-1&&u[T]!==void 0&&h.push(T)}),d===null&&(d=setInterval(_,i)),u=I};function _(){if(h.length===0){d&&clearInterval(d),d=null;return}var w=h.shift(),I=r.reduce(function(T,S){return S.in(T,w,u)},u[w]);if(I!==void 0)try{c[w]=a(I)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete c[w];h.length===0&&v()}function v(){Object.keys(c).forEach(function(w){u[w]===void 0&&delete c[w]}),f=o.setItem(s,a(c)).catch(p)}function m(w){return!(n&&n.indexOf(w)===-1&&w!=="_persist"||e&&e.indexOf(w)!==-1)}function p(w){l&&l(w)}var y=function(){for(;h.length!==0;)_();return f||Promise.resolve()};return{update:g,flush:y}}function vU(t){return JSON.stringify(t)}function wU(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:z0).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(o){return o}:typeof t.deserialize=="function"?i=t.deserialize:i=EU,r.getItem(n).then(function(s){if(s)try{var o={},a=i(s);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,c){return c.out(u,l,a)},i(a[l]))}),o}catch(l){throw l}else return})}function EU(t){return JSON.parse(t)}function TU(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:z0).concat(t.key);return e.removeItem(n,SU)}function SU(t){}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(n,!0).forEach(function(r){IU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t,e){if(t==null)return{};var n=AU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var RU=5e3;function PU(t,e){var n=t.version!==void 0?t.version:pU;t.debug;var r=t.stateReconciler===void 0?yU:t.stateReconciler,i=t.getStoredState||wU,s=t.timeout!==void 0?t.timeout:RU,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(c,h){var d=c||{},f=d._persist,g=CU(d,["_persist"]),_=g;if(h.type===H0){var v=!1,m=function(x,V){v||(h.rehydrate(t.key,x,V),v=!0)};if(s&&setTimeout(function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),l=!1,o||(o=_U(t)),f)return Pr({},e(_,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),i(t).then(function(S){var x=t.migrate||function(V,j){return Promise.resolve(V)};x(S,n).then(function(V){m(V)},function(V){m(void 0,V)})},function(S){m(void 0,S)}),Pr({},e(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===q0)return a=!0,h.result(TU(t)),Pr({},e(_,h),{_persist:f});if(h.type===B0)return h.result(o&&o.flush()),Pr({},e(_,h),{_persist:f});if(h.type===W0)l=!0;else if(h.type===wp){if(a)return Pr({},_,{_persist:Pr({},f,{rehydrated:!0})});if(h.key===t.key){var p=e(_,h),y=h.payload,w=r!==!1&&y!==void 0?r(y,c,p,t):p,I=Pr({},w,{_persist:Pr({},f,{rehydrated:!0})});return u(I)}}}if(!f)return e(c,h);var T=e(_,h);return T===_?c:u(Pr({},T,{_persist:f}))}}function e1(t){return kU(t)||xU(t)||bU()}function bU(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xU(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function kU(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function t1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t1(n,!0).forEach(function(r){OU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t1(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gb={registry:[],bootstrapped:!1},NU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gb,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case G0:return m_({},e,{registry:[].concat(e1(e.registry),[n.key])});case wp:var r=e.registry.indexOf(n.key),i=e1(e.registry);return i.splice(r,1),m_({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function DU(t,e,n){var r=n||!1,i=L0(NU,gb,e&&e.enhancer?e.enhancer:void 0),s=function(u){i.dispatch({type:G0,key:u})},o=function(u,c,h){var d={type:wp,payload:c,err:h,key:u};t.dispatch(d),i.dispatch(d),r&&a.getState().bootstrapped&&(r(),r=!1)},a=m_({},i,{purge:function(){var u=[];return t.dispatch({type:q0,result:function(h){u.push(h)}}),Promise.all(u)},flush:function(){var u=[];return t.dispatch({type:B0,result:function(h){u.push(h)}}),Promise.all(u)},pause:function(){t.dispatch({type:W0})},persist:function(){t.dispatch({type:H0,register:s,rehydrate:o})}});return e&&e.manualPersist||a.persist(),a}var K0={},Q0={};Q0.__esModule=!0;Q0.default=$U;function id(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?id=function(n){return typeof n}:id=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},id(t)}function _g(){}var MU={getItem:_g,setItem:_g,removeItem:_g};function LU(t){if((typeof self>"u"?"undefined":id(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function $U(t){var e="".concat(t,"Storage");return LU(e)?self[e]:MU}K0.__esModule=!0;K0.default=UU;var FU=VU(Q0);function VU(t){return t&&t.__esModule?t:{default:t}}function UU(t){var e=(0,FU.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,o){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var yb=void 0,jU=zU(K0);function zU(t){return t&&t.__esModule?t:{default:t}}var BU=(0,jU.default)("local");yb=BU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw tl(e)},tl=function(t){return new Error("Firebase Database ("+_b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new HU;const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wb=function(t){const e=vb(t);return Y0.encodeByteArray(e,!0)},nf=function(t){return wb(t).replace(/\./g,"")},rf=function(t){try{return Y0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t){return Eb(void 0,t)}function Eb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GU(n)||(t[n]=Eb(t[n],e[n]));return t}function GU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=()=>KU().__FIREBASE_DEFAULTS__,YU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rf(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return QU()||YU()||XU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tb=t=>{var e,n;return(n=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Sb=t=>{const e=Tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ib=()=>{var t;return(t=Ep())===null||t===void 0?void 0:t.config},Cb=t=>{var e;return(e=Ep())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nf(JSON.stringify(n)),nf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function JU(){var t;const e=(t=Ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e4(){const t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Pb(){return _b.NODE_ADMIN===!0}function t4(){return!JU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r4,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?i4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ai(i,a,r)}}function i4(t,e){return t.replace(s4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Uu(rf(s[0])||""),n=Uu(rf(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},o4=function(t){const e=xb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},a4=function(t){const e=xb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ka(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function g_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sf(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(n1(s)&&n1(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function n1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):h<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const d=(i<<5|i>>>27)+u+l+c+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function u4(t,e){const n=new c4(t,e);return n.subscribe.bind(n)}class c4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vg),i.error===void 0&&(i.error=vg),i.complete===void 0&&(i.complete=vg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vg(){}function Tp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Sp=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new X0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m4(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p4(t){return t===As?void 0:t}function m4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const y4={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},_4=ue.INFO,v4={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},w4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=_4,this._logHandler=w4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const E4=(t,e)=>e.some(n=>t instanceof n);let r1,i1;function T4(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S4(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,y_=new WeakMap,Ob=new WeakMap,wg=new WeakMap,Z0=new WeakMap;function I4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&kb.set(n,t)}).catch(()=>{}),Z0.set(e,t),e}function C4(t){if(y_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});y_.set(t,e)}let __={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function A4(t){__=t(__)}function R4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return Ob.set(r,e.sort?e.sort():[e]),zi(r)}:S4().includes(t)?function(...e){return t.apply(Eg(this),e),zi(kb.get(this))}:function(...e){return zi(t.apply(Eg(this),e))}}function P4(t){return typeof t=="function"?R4(t):(t instanceof IDBTransaction&&C4(t),E4(t,T4())?new Proxy(t,__):t)}function zi(t){if(t instanceof IDBRequest)return I4(t);if(wg.has(t))return wg.get(t);const e=P4(t);return e!==t&&(wg.set(t,e),Z0.set(e,t)),e}const Eg=t=>Z0.get(t);function b4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zi(o.result),l.oldVersion,l.newVersion,zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const x4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Tg=new Map;function s1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tg.set(e,s),s}A4(t=>({...t,get:(e,n,r)=>s1(e,n)||t.get(e,n,r),has:(e,n)=>!!s1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const v_="@firebase/app",o1="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Ip("@firebase/app"),D4="@firebase/app-compat",M4="@firebase/analytics-compat",L4="@firebase/analytics",$4="@firebase/app-check-compat",F4="@firebase/app-check",V4="@firebase/auth",U4="@firebase/auth-compat",j4="@firebase/database",z4="@firebase/database-compat",B4="@firebase/functions",W4="@firebase/functions-compat",H4="@firebase/installations",q4="@firebase/installations-compat",G4="@firebase/messaging",K4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",X4="@firebase/remote-config",J4="@firebase/remote-config-compat",Z4="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/firestore-compat",rj="firebase",ij="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="[DEFAULT]",sj={[v_]:"fire-core",[D4]:"fire-core-compat",[L4]:"fire-analytics",[M4]:"fire-analytics-compat",[F4]:"fire-app-check",[$4]:"fire-app-check-compat",[V4]:"fire-auth",[U4]:"fire-auth-compat",[j4]:"fire-rtdb",[z4]:"fire-rtdb-compat",[B4]:"fire-fn",[W4]:"fire-fn-compat",[H4]:"fire-iid",[q4]:"fire-iid-compat",[G4]:"fire-fcm",[K4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[X4]:"fire-rc",[J4]:"fire-rc-compat",[Z4]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[nj]:"fire-fst-compat","fire-js":"fire-js",[rj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,oj=new Map,E_=new Map;function a1(t,e){try{t.container.addComponent(e)}catch(n){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(E_.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;E_.set(e,t);for(const n of af.values())a1(n,t);for(const n of oj.values())a1(n,t);return!0}function Cp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Rc("app","Firebase",aj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=ij;function Nb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:w_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=Ib()),!n)throw Bi.create("no-options");const s=af.get(i);if(s){if(of(n,s.options)&&of(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new g4(i);for(const l of E_.values())o.addComponent(l);const a=new lj(n,r,o);return af.set(i,a),a}function ew(t=w_){const e=af.get(t);if(!e&&t===w_&&Ib())return Nb();if(!e)throw Bi.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let i=(r=sj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}to(new ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="firebase-heartbeat-database",cj=1,ju="firebase-heartbeat-store";let Sg=null;function Db(){return Sg||(Sg=b4(uj,cj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ju)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function hj(t){try{const n=(await Db()).transaction(ju),r=await n.objectStore(ju).get(Mb(t));return await n.done,r}catch(e){if(e instanceof ai)eo.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eo.warn(n.message)}}}async function l1(t,e){try{const r=(await Db()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,Mb(t)),await r.done}catch(n){if(n instanceof ai)eo.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});eo.warn(r.message)}}}function Mb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=1024,fj=30*24*60*60*1e3;class pj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u1(),{heartbeatsToSend:r,unsentEntries:i}=mj(this._heartbeatsCache.heartbeats),s=nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function u1(){return new Date().toISOString().substring(0,10)}function mj(t,e=dj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),c1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),c1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return l1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return l1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function c1(t){return nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){to(new ts("platform-logger",e=>new O4(e),"PRIVATE")),to(new ts("heartbeat",e=>new pj(e),"PRIVATE")),mr(v_,o1,t),mr(v_,o1,"esm2017"),mr("fire-js","")}yj("");function tw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _j=Lb,$b=new Rc("auth","Firebase",Lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Ip("@firebase/auth");function vj(t,...e){lf.logLevel<=ue.WARN&&lf.warn(`Auth (${vo}): ${t}`,...e)}function sd(t,...e){lf.logLevel<=ue.ERROR&&lf.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw nw(t,...e)}function gr(t,...e){return nw(t,...e)}function Fb(t,e,n){const r=Object.assign(Object.assign({},_j()),{[e]:n});return new Rc("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return Fb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $b.create(t,...e)}function Y(t,e,...n){if(!t)throw nw(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function Zr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wj(){return h1()==="http:"||h1()==="https:"}function h1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wj()||ZU()||"connection"in navigator)?navigator.onLine:!0}function Tj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=J0()||Rb()}get(){return Ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Pc(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function li(t,e,n,r,i={}){return Ub(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Vb.fetch()(jb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Ub(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sj),e);try{const i=new Aj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ch(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ch(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ch(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fb(t,c,u);Jn(t,c)}}catch(i){if(i instanceof ai)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function bc(t,e,n,r,i={}){const s=await li(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function jb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rw(t.config,i):`${t.config.apiScheme}://${i}`}function Cj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Aj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Ij.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function d1(t){return t!==void 0&&t.enterprise!==void 0}class Rj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Pj(t,e){return li(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e){return li(t,"POST","/v1/accounts:delete",e)}async function zb(t,e){return li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xj(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=iw(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:eu(Ig(i.auth_time)),issuedAtTime:eu(Ig(i.iat)),expirationTime:eu(Ig(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ig(t){return Number(t)*1e3}function iw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=rf(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function f1(t){const e=iw(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ai&&kj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Oa(t,zb(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Bb(s.providerUserInfo):[],a=Dj(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new S_(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function Nj(t){const e=et(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Bb(t){return t.map(e=>{var{providerId:n}=e,r=tw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){const n=await Ub(t,{},async()=>{const r=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lj(t,e){return li(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=f1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Mj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pa;return r&&(Y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new S_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xj(this,e)}reload(){return Nj(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Oa(this,bj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:w,isAnonymous:I,providerData:T,stsTokenManager:S}=n;Y(y&&S,e,"internal-error");const x=pa.fromJSON(this.name,S);Y(typeof y=="string",e,"internal-error"),pi(h,e.name),pi(d,e.name),Y(typeof w=="boolean",e,"internal-error"),Y(typeof I=="boolean",e,"internal-error"),pi(f,e.name),pi(g,e.name),pi(_,e.name),pi(v,e.name),pi(m,e.name),pi(p,e.name);const V=new Fr({uid:y,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:f,tenantId:_,stsTokenManager:x,createdAt:m,lastLoginAt:p});return T&&Array.isArray(T)&&(V.providerData=T.map(j=>Object.assign({},j))),v&&(V._redirectEventId=v),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new pa;i.updateFromServerResponse(n);const s=new Fr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Bb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new pa;a.updateFromIdToken(r);const l=new Fr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new S_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;function Vr(t){Zr(t instanceof Function,"Expected a class definition");let e=p1.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Wb.type="NONE";const m1=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ma(Vr(m1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Vr(m1);const o=od(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Fr._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ma(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ma(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qb(e))return"Blackberry";if(Yb(e))return"Webos";if(sw(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Kb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hb(t=Ze()){return/firefox\//i.test(t)}function sw(t=Ze()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(t=Ze()){return/crios\//i.test(t)}function Gb(t=Ze()){return/iemobile/i.test(t)}function Kb(t=Ze()){return/android/i.test(t)}function Qb(t=Ze()){return/blackberry/i.test(t)}function Yb(t=Ze()){return/webos/i.test(t)}function Ap(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $j(t=Ze()){var e;return Ap(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fj(){return e4()&&document.documentMode===10}function Xb(t=Ze()){return Ap(t)||Kb(t)||Yb(t)||Qb(t)||/windows phone/i.test(t)||Gb(t)}function Vj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e=[]){let n;switch(t){case"Browser":n=g1(Ze());break;case"Worker":n=`${g1(Ze())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e={}){return li(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=6;class Bj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new Uj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zb(this,{idToken:e}),r=await Fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Wr(this));const n=e?et(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jj(this),n=new Bj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wo(t){return et(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=u4(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hj(t){Rp=t}function Zb(t){return Rp.loadJS(t)}function qj(){return Rp.recaptchaEnterpriseScript}function Gj(){return Rp.gapiScript}function Kj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Qj="recaptcha-enterprise",Yj="NO_RECAPTCHA";class Xj{constructor(e){this.type=Qj,this.auth=wo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Pj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Rj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;d1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Yj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&d1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qj();l.length!==0&&(l+=a),Zb(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function _1(t,e,n,r=!1){const i=new Xj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function I_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await _1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await _1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){const n=Cp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(of(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function Zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function e3(t,e,n){const r=wo(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=ex(e),{host:o,port:a}=t3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||n3()}function ex(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t3(t){const e=ex(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v1(o)}}}function v1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function r3(t,e){return li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e){return bc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function o3(t,e){return bc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends ow{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,n,"signInWithPassword",i3);case"emailLink":return s3(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,r,"signUpPassword",r3);case"emailLink":return o3(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t,e){return bc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="http://localhost";class no extends ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=tw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new no(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ga(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ga(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ga(e,n)}buildRequest(){const e={requestUri:a3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u3(t){const e=Fl(Vl(t)).link,n=e?Fl(Vl(e)).deep_link_id:null,r=Fl(Vl(t)).deep_link_id;return(r?Fl(Vl(r)).link:null)||r||n||e||t}class aw{constructor(e){var n,r,i,s,o,a;const l=Fl(Vl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=l3((i=l.mode)!==null&&i!==void 0?i:null);Y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=u3(e);try{return new aw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return zu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=aw.parseLink(n);return Y(r,"argument-error"),zu._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends tx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends xc{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xc{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xc{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return bc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fr._fromIdTokenResponse(e,r,i),o=w1(r);return new ro({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w1(r);return new ro({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends ai{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cf(e,n,r,i)}}function nx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(t,s,e,r):s})}async function h3(t,e,n=!1){const r=await Oa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Wr(r));const i="reauthenticate";try{const s=await Oa(t,nx(r,i,e,t),n);Y(s.idToken,r,"internal-error");const o=iw(s.idToken);Y(o,r,"internal-error");const{sub:a}=o;return Y(t.uid===a,r,"user-mismatch"),ro._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,e,n=!1){if(cr(t.app))return Promise.reject(Wr(t));const r="signIn",i=await nx(t,r,e),s=await ro._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function f3(t,e){return rx(wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t){const e=wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p3(t,e,n){if(cr(t.app))return Promise.reject(Wr(t));const r=wo(t),o=await I_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ix(t),l}),a=await ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function m3(t,e,n){return cr(t.app)?Promise.reject(Wr(t)):f3(et(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ix(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return li(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Oa(r,g3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function _3(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function v3(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function w3(t){return et(t).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){const t=Ze();return sw(t)||Ap(t)}const T3=1e3,S3=10;class ox extends sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=E3()&&Vj(),this.fallbackToPolling=Xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ox.type="LOCAL";const I3=ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ax.type="SESSION";const lx=ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await C3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=lw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function R3(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function P3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x3(){return ux()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firebaseLocalStorageDb",k3=1,df="firebaseLocalStorage",hx="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function O3(){const t=indexedDB.deleteDatabase(cx);return new kc(t).toPromise()}function C_(){const t=indexedDB.open(cx,k3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:hx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await O3(),e(await C_()))})})}async function E1(t,e,n){const r=bp(t,!0).put({[hx]:e,value:n});return new kc(r).toPromise()}async function N3(t,e){const n=bp(t,!1).get(e),r=await new kc(n).toPromise();return r===void 0?null:r.value}function T1(t,e){const n=bp(t,!0).delete(e);return new kc(n).toPromise()}const D3=800,M3=3;class dx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ux()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pp._getInstance(x3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await P3(),!this.activeServiceWorker)return;this.sender=new A3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C_();return await E1(e,hf,"1"),await T1(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>E1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bp(i,!1).getAll();return new kc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dx.type="LOCAL";const L3=dx;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t,e){return e?Vr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ga(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F3(t){return rx(t.auth,new uw(t),t.bypassAuthState)}function V3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),d3(n,new uw(t),t.bypassAuthState)}async function U3(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),h3(n,new uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F3;case"linkViaPopup":case"linkViaRedirect":return U3;case"reauthViaPopup":case"reauthViaRedirect":return V3;default:Jn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Pc(2e3,1e4);class ta extends fx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=lw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j3.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="pendingRedirect",ad=new Map;class B3 extends fx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await W3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W3(t,e){const n=G3(e),r=q3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H3(t,e){ad.set(t._key(),e)}function q3(t){return Vr(t._redirectPersistence)}function G3(t){return od(z3,t.config.apiKey,t.name)}async function K3(t,e,n=!1){if(cr(t.app))return Promise.reject(Wr(t));const r=wo(t),i=$3(r,e),o=await new B3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=10*60*1e3;class Y3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!px(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function px({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return px(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e={}){return li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e9=/^https?/;async function t9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J3(t);for(const n of e)try{if(n9(n))return}catch{}Jn(t,"unauthorized-domain")}function n9(t){const e=T_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e9.test(n))return!1;if(Z3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Pc(3e4,6e4);function I1(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i9(t){return new Promise((e,n)=>{var r,i,s;function o(){I1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I1(),n(gr(t,"network-request-failed"))},timeout:r9.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{const a=Kj("iframefcb");return yr()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},Zb(`${Gj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ld=null,e})}let ld=null;function s9(t){return ld=ld||i9(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=new Pc(5e3,15e3),a9="__/auth/iframe",l9="emulator/auth/iframe",u9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h9(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rw(e,l9):`https://${t.config.authDomain}/${a9}`,r={apiKey:e.apiKey,appName:t.name,v:vo},i=c9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nl(r).slice(1)}`}async function d9(t){const e=await s9(t),n=yr().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:h9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=gr(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},o9.get());function l(){yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p9=500,m9=600,g9="_blank",y9="http://localhost";class C1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _9(t,e,n,r=p9,i=m9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},f9),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ze().toLowerCase();n&&(a=qb(u)?g9:n),Hb(u)&&(e=e||y9,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,g])=>`${d}${f}=${g},`,"");if($j(u)&&a!=="_self")return v9(e||"",a),new C1(null);const h=window.open(e||"",a,c);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new C1(h)}function v9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="__/auth/handler",E9="emulator/auth/handler",T9=encodeURIComponent("fac");async function A1(t,e,n,r,i,s){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(e instanceof tx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",g_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof xc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${T9}=${encodeURIComponent(l)}`:"";return`${S9(t)}?${nl(a).slice(1)}${u}`}function S9({config:t}){return t.emulator?rw(t,E9):`https://${t.authDomain}/${w9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class I9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lx,this._completeRedirectFn=K3,this._overrideRedirectResult=H3}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await A1(e,n,r,T_(),i);return _9(e,o,lw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await A1(e,n,r,T_(),i);return R3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await d9(e),r=new Y3(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Cg];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xb()||sw()||Ap()}}const C9=I9;var R1="@firebase/auth",P1="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P9(t){to(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(t)},u=new Wj(r,i,s,l);return Zj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),to(new ts("auth-internal",e=>{const n=wo(e.getProvider("auth").getImmediate());return(r=>new A9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(R1,P1,R9(t)),mr(R1,P1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=5*60,x9=Cb("authIdTokenMaxAge")||b9;let b1=null;const k9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x9)return;const i=n==null?void 0:n.token;b1!==i&&(b1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O9(t=ew()){const e=Cp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:C9,persistence:[L3,I3,lx]}),r=Cb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=k9(s.toString());v3(n,o,()=>o(n.currentUser)),_3(n,a=>o(a))}}const i=Tb("auth");return i&&e3(n,`http://${i}`),n}function N9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",N9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P9("Browser");var D9="firebase",M9="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(D9,M9,"app");var L9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,cw=cw||{},X=L9||self;function xp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function $9(t){return Object.prototype.hasOwnProperty.call(t,Ag)&&t[Ag]||(t[Ag]=++F9)}var Ag="closure_uid_"+(1e9*Math.random()>>>0),F9=0;function V9(t,e,n){return t.call.apply(t.bind,arguments)}function U9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=V9:Ut=U9,Ut.apply(null,arguments)}function Ah(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function gs(){this.s=this.s,this.o=this.o}var j9=0;gs.prototype.s=!1;gs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),j9!=0)&&$9(this)};gs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function hw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function x1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var z9=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};X.addEventListener("test",n,e),X.removeEventListener("test",n,e)}catch{}return t}();function Bu(t){return/^[\s\xa0]*$/.test(t)}function kp(){var t=X.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return kp().indexOf(t)!=-1}function dw(t){return dw[" "](t),t}dw[" "]=function(){};function B9(t,e){var n=M6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var W9=ur("Opera"),Na=ur("Trident")||ur("MSIE"),gx=ur("Edge"),A_=gx||Na,yx=ur("Gecko")&&!(kp().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),H9=kp().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge");function _x(){var t=X.document;return t?t.documentMode:void 0}var R_;e:{var Rg="",Pg=function(){var t=kp();if(yx)return/rv:([^\);]+)(\)|;)/.exec(t);if(gx)return/Edge\/([\d\.]+)/.exec(t);if(Na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(H9)return/WebKit\/(\S+)/.exec(t);if(W9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pg&&(Rg=Pg?Pg[1]:""),Na){var bg=_x();if(bg!=null&&bg>parseFloat(Rg)){R_=String(bg);break e}}R_=Rg}var P_;if(X.document&&Na){var k1=_x();P_=k1||parseInt(R_,10)||void 0}else P_=void 0;var q9=P_;function Wu(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yx){e:{try{dw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:G9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wu.$.h.call(this)}}vt(Wu,jt);var G9={2:"touch",3:"pen",4:"mouse"};Wu.prototype.h=function(){Wu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),K9=0;function Q9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++K9,this.fa=this.ia=!1}function Op(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function fw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Y9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vx(t){const e={};for(const n in t)e[n]=t[n];return e}const O1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<O1.length;s++)n=O1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Np(t){this.src=t,this.g={},this.h=0}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=x_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Q9(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function b_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=mx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Op(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function x_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var pw="closure_lm_"+(1e6*Math.random()|0),xg={};function Ex(t,e,n,r,i){if(r&&r.once)return Sx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ex(t,e[s],n,r,i);return null}return n=yw(n),t&&t[Nc]?t.O(e,n,Oc(r)?!!r.capture:!!r,i):Tx(t,e,n,!1,r,i)}function Tx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oc(i)?!!i.capture:!!i,a=gw(t);if(a||(t[pw]=a=new Np(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=X9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)z9||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Cx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function X9(){function t(n){return e.call(t.src,t.listener,n)}const e=J9;return t}function Sx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sx(t,e[s],n,r,i);return null}return n=yw(n),t&&t[Nc]?t.P(e,n,Oc(r)?!!r.capture:!!r,i):Tx(t,e,n,!0,r,i)}function Ix(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ix(t,e[s],n,r,i);else r=Oc(r)?!!r.capture:!!r,n=yw(n),t&&t[Nc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=x_(s,n,r,i),-1<n&&(Op(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=x_(e,n,r,i)),(n=-1<t?e[t]:null)&&mw(n))}function mw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Nc])b_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Cx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gw(e))?(b_(n,t),n.h==0&&(n.src=null,e[pw]=null)):Op(t)}}}function Cx(t){return t in xg?xg[t]:xg[t]="on"+t}function J9(t,e){if(t.fa)t=!0;else{e=new Wu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&mw(t),t=n.call(r,e)}return t}function gw(t){return t=t[pw],t instanceof Np?t:null}var kg="__closure_events_fn_"+(1e9*Math.random()>>>0);function yw(t){return typeof t=="function"?t:(t[kg]||(t[kg]=function(e){return t.handleEvent(e)}),t[kg])}function _t(){gs.call(this),this.i=new Np(this),this.S=this,this.J=null}vt(_t,gs);_t.prototype[Nc]=!0;_t.prototype.removeEventListener=function(t,e,n,r){Ix(this,t,e,n,r)};function bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;e=new jt(r,t),wx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rh(o,r,!0,e)&&i}if(o=e.g=t,i=Rh(o,r,!0,e)&&i,i=Rh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rh(o,r,!1,e)&&i}_t.prototype.N=function(){if(_t.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Op(n[r]);delete t.g[e],t.h--}}this.J=null};_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_t.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&b_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var _w=X.JSON.stringify;class Z9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function e6(){var t=vw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class t6{constructor(){this.h=this.g=null}add(e,n){const r=Ax.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ax=new Z9(()=>new n6,t=>t.reset());class n6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function i6(t){X.setTimeout(()=>{throw t},0)}let Hu,qu=!1,vw=new t6,Rx=()=>{const t=X.Promise.resolve(void 0);Hu=()=>{t.then(s6)}};var s6=()=>{for(var t;t=e6();){try{t.h.call(t.g)}catch(n){i6(n)}var e=Ax;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qu=!1};function Dp(t,e){_t.call(this),this.h=t||1,this.g=e||X,this.j=Ut(this.qb,this),this.l=Date.now()}vt(Dp,_t);M=Dp.prototype;M.ga=!1;M.T=null;M.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bt(this,"tick"),this.ga&&(ww(this),this.start()))}};M.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ww(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}M.N=function(){Dp.$.N.call(this),ww(this),delete this.g};function Ew(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function Px(t){t.g=Ew(()=>{t.g=null,t.i&&(t.i=!1,Px(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class o6 extends gs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Px(this)}N(){super.N(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gu(t){gs.call(this),this.h=t,this.g={}}vt(Gu,gs);var N1=[];function bx(t,e,n,r){Array.isArray(n)||(n&&(N1[0]=n.toString()),n=N1);for(var i=0;i<n.length;i++){var s=Ex(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function xx(t){fw(t.g,function(e,n){this.g.hasOwnProperty(n)&&mw(e)},t),t.g={}}Gu.prototype.N=function(){Gu.$.N.call(this),xx(this)};Gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mp(){this.g=!0}Mp.prototype.Ea=function(){this.g=!1};function a6(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function l6(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function na(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+c6(t,n)+(r?" "+r:"")})}function u6(t,e){t.info(function(){return"TIMEOUT: "+e})}Mp.prototype.info=function(){};function c6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _w(n)}catch{return e}}var Eo={},D1=null;function Lp(){return D1=D1||new _t}Eo.Ta="serverreachability";function kx(t){jt.call(this,Eo.Ta,t)}vt(kx,jt);function Ku(t){const e=Lp();bt(e,new kx(e))}Eo.STAT_EVENT="statevent";function Ox(t,e){jt.call(this,Eo.STAT_EVENT,t),this.stat=e}vt(Ox,jt);function qt(t){const e=Lp();bt(e,new Ox(e,t))}Eo.Ua="timingevent";function Nx(t,e){jt.call(this,Eo.Ua,t),this.size=e}vt(Nx,jt);function Dc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}var $p={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Tw(){}Tw.prototype.h=null;function M1(t){return t.h||(t.h=t.i())}function Mx(){}var Mc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sw(){jt.call(this,"d")}vt(Sw,jt);function Iw(){jt.call(this,"c")}vt(Iw,jt);var k_;function Fp(){}vt(Fp,Tw);Fp.prototype.g=function(){return new XMLHttpRequest};Fp.prototype.i=function(){return{}};k_=new Fp;function Lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Gu(this),this.P=h6,t=A_?125:void 0,this.V=new Dp(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lx}function Lx(){this.i=null,this.g="",this.h=!1}var h6=45e3,$x={},O_={};M=Lc.prototype;M.setTimeout=function(t){this.P=t};function N_(t,e,n){t.L=1,t.A=Up(ei(e)),t.u=n,t.S=!0,Fx(t,null)}function Fx(t,e){t.G=Date.now(),$c(t),t.B=ei(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),qx(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Lx,t.g=fk(t.l,n?e:null,!t.u),0<t.O&&(t.M=new o6(Ut(t.Pa,t,t.g),t.O)),bx(t.U,t.g,"readystatechange",t.nb),e=t.I?vx(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ku(),a6(t.j,t.v,t.B,t.m,t.W,t.u)}M.nb=function(t){t=t.target;const e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};M.Pa=function(t){try{if(t==this.g)e:{const c=hr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||A_||this.g&&(this.h.h||this.g.ja()||V1(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ku(3):Ku(2)),Vp(this);var n=this.g.da();this.ca=n;t:if(Vx(this)){var r=V1(this.g);t="";var i=r.length,s=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),tu(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,l6(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bu(a)){var u=a;break t}}u=null}if(n=u)na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,D_(this,n);else{this.i=!1,this.s=3,qt(12),Ds(this),tu(this);break e}}this.S?(Ux(this,c,o),A_&&this.i&&c==3&&(bx(this.U,this.V,"tick",this.mb),this.V.start())):(na(this.j,this.m,o,null),D_(this,o)),c==4&&Ds(this),this.i&&!this.J&&(c==4?uk(this.l,this):(this.i=!1,$c(this)))}else O6(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ds(this),tu(this)}}}catch{}finally{}};function Vx(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Ux(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=d6(t,n),i==O_){e==4&&(t.s=4,qt(14),r=!1),na(t.j,t.m,null,"[Incomplete Response]");break}else if(i==$x){t.s=4,qt(15),na(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else na(t.j,t.m,i,null),D_(t,i);Vx(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),xw(e),e.M=!0,qt(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),Ds(t),tu(t))}M.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.o<e.length&&(Vp(this),Ux(this,t,e),this.i&&t!=4&&$c(this))}};function d6(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?O_:(n=Number(e.substring(n,r)),isNaN(n)?$x:(r+=1,r+n>e.length?O_:(e=e.slice(r,r+n),t.o=r+n,e)))}M.cancel=function(){this.J=!0,Ds(this)};function $c(t){t.Y=Date.now()+t.P,jx(t,t.P)}function jx(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Dc(Ut(t.lb,t),e)}function Vp(t){t.C&&(X.clearTimeout(t.C),t.C=null)}M.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(u6(this.j,this.B),this.L!=2&&(Ku(),qt(17)),Ds(this),this.s=2,tu(this)):jx(this,this.Y-t)};function tu(t){t.l.H==0||t.J||uk(t.l,t)}function Ds(t){Vp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ww(t.V),xx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function D_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||M_(n.i,t))){if(!t.K&&M_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)mf(n),Wp(n);else break e;bw(n),qt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dc(Ut(n.ib,n),6e3));if(1>=Qx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ms(n,11)}else if((t.K||n.g==t)&&mf(n),!Bu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cw(s,s.h),s.h=null))}if(r.F){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,De(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=dk(r,r.J?r.pa:null,r.Y),o.K){Yx(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Vp(a),$c(a)),r.g=o}else ak(r);0<n.j.length&&Hp(n)}else u[0]!="stop"&&u[0]!="close"||Ms(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ms(n,7):Pw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ku(4)}catch{}}function f6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function p6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=p6(t),r=f6(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Bx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Bs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Bs){this.h=t.h,ff(this,t.j),this.s=t.s,this.g=t.g,pf(this,t.m),this.l=t.l;var e=t.i,n=new Qu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),L1(this,n),this.o=t.o}else t&&(e=String(t).match(Bx))?(this.h=!1,ff(this,e[1]||"",!0),this.s=Ul(e[2]||""),this.g=Ul(e[3]||"",!0),pf(this,e[4]),this.l=Ul(e[5]||"",!0),L1(this,e[6]||"",!0),this.o=Ul(e[7]||"")):(this.h=!1,this.i=new Qu(null,this.h))}Bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jl(e,$1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(jl(e,$1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(jl(n,n.charAt(0)=="/"?_6:y6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jl(n,w6)),t.join("")};function ei(t){return new Bs(t)}function ff(t,e,n){t.j=n?Ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L1(t,e,n){e instanceof Qu?(t.i=e,E6(t.i,t.h)):(n||(e=jl(e,v6)),t.i=new Qu(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Up(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,g6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $1=/[#\/\?@]/g,y6=/[#\?:]/g,_6=/[#\?]/g,v6=/[#\?@]/g,w6=/#/g;function Qu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ys(t){t.g||(t.g=new Map,t.h=0,t.i&&m6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Qu.prototype;M.add=function(t,e){ys(this),this.i=null,t=il(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Wx(t,e){ys(t),e=il(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Hx(t,e){return ys(t),e=il(t,e),t.g.has(e)}M.forEach=function(t,e){ys(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.ta=function(){ys(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.Z=function(t){ys(this);let e=[];if(typeof t=="string")Hx(this,t)&&(e=e.concat(this.g.get(il(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return ys(this),this.i=null,t=il(this,t),Hx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qx(t,e,n){Wx(t,e),0<n.length&&(t.i=null,t.g.set(il(t,e),hw(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function il(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function E6(t,e){e&&!t.j&&(ys(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Wx(this,r),qx(this,i,n))},t)),t.j=e}var T6=class{constructor(t,e){this.g=t,this.map=e}};function Gx(t){this.l=t||S6,X.PerformanceNavigationTiming?(t=X.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(X.g&&X.g.Ka&&X.g.Ka()&&X.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var S6=10;function Kx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Qx(t){return t.h?1:t.g?t.g.size:0}function M_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cw(t,e){t.g?t.g.add(e):t.h=e}function Yx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Gx.prototype.cancel=function(){if(this.i=Xx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Xx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return hw(t.i)}var I6=class{stringify(t){return X.JSON.stringify(t,void 0)}parse(t){return X.JSON.parse(t,void 0)}};function C6(){this.g=new I6}function A6(t,e,n){const r=n||"";try{zx(t,function(i,s){let o=i;Oc(i)&&(o=_w(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R6(t,e){const n=new Mp;if(X.Image){const r=new Image;r.onload=Ah(Ph,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ah(Ph,n,r,"TestLoadImage: error",!1,e),r.onabort=Ah(Ph,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ah(Ph,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ph(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jp(t){this.l=t.ec||null,this.j=t.ob||!1}vt(jp,Tw);jp.prototype.g=function(){return new zp(this.l,this.j)};jp.prototype.i=function(t){return function(){return t}}({});function zp(t,e){_t.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Aw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(zp,_t);var Aw=0;M=zp.prototype;M.open=function(t,e){if(this.readyState!=Aw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Yu(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||X).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=Aw};M.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof X.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Jx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Jx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}M.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fc(this):Yu(this),this.readyState==3&&Jx(this)}};M.Za=function(t){this.g&&(this.response=this.responseText=t,Fc(this))};M.Ya=function(t){this.g&&(this.response=t,Fc(this))};M.ka=function(){this.g&&Fc(this)};function Fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Yu(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Yu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var P6=X.JSON.parse;function qe(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Zx,this.L=this.M=!1}vt(qe,_t);var Zx="",b6=/^https?$/i,x6=["POST","PUT"];M=qe.prototype;M.Oa=function(t){this.M=t};M.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():k_.g(),this.C=this.u?M1(this.u):M1(k_),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){F1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=X.FormData&&t instanceof X.FormData,!(0<=mx(x6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nk(this),0<this.B&&((this.L=k6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=Ew(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){F1(this,s)}};function k6(t){return Na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.ua=function(){typeof cw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bt(this,"timeout"),this.abort(8))};function F1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ek(t),Bp(t)}function ek(t){t.F||(t.F=!0,bt(t,"complete"),bt(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bt(this,"complete"),bt(this,"abort"),Bp(this))};M.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bp(this,!0)),qe.$.N.call(this)};M.La=function(){this.s||(this.G||this.v||this.l?tk(this):this.kb())};M.kb=function(){tk(this)};function tk(t){if(t.h&&typeof cw<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)Ew(t.La,0,t);else if(bt(t,"readystatechange"),hr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(Bx)[1]||null;!i&&X.self&&X.self.location&&(i=X.self.location.protocol.slice(0,-1)),r=!b6.test(i?i.toLowerCase():"")}n=r}if(n)bt(t,"complete"),bt(t,"success");else{t.m=6;try{var s=2<hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ek(t)}}finally{Bp(t)}}}}function Bp(t,e){if(t.g){nk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}M.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}M.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};M.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),P6(e)}};function V1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Zx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O6(t){const e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Bu(t[r]))continue;var n=r6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Y9(e,function(r){return r.join(", ")})}M.Ia=function(){return this.m};M.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rk(t){let e="";return fw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Rw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ik(t){this.Ga=0,this.j=[],this.l=new Mp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cl("baseRetryDelayMs",5e3,t),this.hb=Cl("retryDelaySeedMs",1e4,t),this.eb=Cl("forwardChannelMaxRetries",2,t),this.xa=Cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Gx(t&&t.concurrentRequestLimit),this.Ja=new C6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}M=ik.prototype;M.ra=8;M.H=1;function Pw(t){if(sk(t),t.H==3){var e=t.W++,n=ei(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Vc(t,n),e=new Lc(t,t.l,e),e.L=2,e.A=Up(ei(n)),n=!1,X.navigator&&X.navigator.sendBeacon)try{n=X.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&X.Image&&(new Image().src=e.A,n=!0),n||(e.g=fk(e.l,null),e.g.ha(e.A)),e.G=Date.now(),$c(e)}hk(t)}function Wp(t){t.g&&(xw(t),t.g.cancel(),t.g=null)}function sk(t){Wp(t),t.u&&(X.clearTimeout(t.u),t.u=null),mf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&X.clearTimeout(t.m),t.m=null)}function Hp(t){if(!Kx(t.i)&&!t.m){t.m=!0;var e=t.Na;Hu||Rx(),qu||(Hu(),qu=!0),vw.add(e,t),t.C=0}}function N6(t,e){return Qx(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dc(Ut(t.Na,t,e),ck(t,t.C)),t.C++,!0)}M.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Lc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=vx(s),wx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ok(this,i,e),n=ei(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Vc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rk(s)))+"&"+e:this.o&&Rw(n,this.o,s)),Cw(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),i.aa=!0,N_(i,n,null)):N_(i,n,e),this.H=2}}else this.H==3&&(t?U1(this,t):this.j.length==0||Kx(this.i)||U1(this))};function U1(t,e){var n;e?n=e.m:n=t.W++;const r=ei(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Vc(t,r),t.o&&t.s&&Rw(r,t.o,t.s),n=new Lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=ok(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cw(t.i,n),N_(n,r,e)}function Vc(t,e){t.na&&fw(t.na,function(n,r){De(e,r,n)}),t.h&&zx({},function(n,r){De(e,r,n)})}function ok(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{A6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ak(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Hu||Rx(),qu||(Hu(),qu=!0),vw.add(e,t),t.A=0}}function bw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dc(Ut(t.Ma,t),ck(t,t.A)),t.A++,!0)}M.Ma=function(){if(this.u=null,lk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dc(Ut(this.jb,this),t)}};M.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qt(10),Wp(this),lk(this))};function xw(t){t.B!=null&&(X.clearTimeout(t.B),t.B=null)}function lk(t){t.g=new Lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ei(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Vc(t,e),t.o&&t.s&&Rw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Up(ei(e)),n.u=null,n.S=!0,Fx(n,t)}M.ib=function(){this.v!=null&&(this.v=null,Wp(this),bw(this),qt(19))};function mf(t){t.v!=null&&(X.clearTimeout(t.v),t.v=null)}function uk(t,e){var n=null;if(t.g==e){mf(t),xw(t),t.g=null;var r=2}else if(M_(t.i,e))n=e.F,Yx(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lp(),bt(r,new Nx(r,n)),Hp(t)}else ak(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&N6(t,e)||r==2&&bw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ms(t,5);break;case 4:Ms(t,10);break;case 3:Ms(t,6);break;default:Ms(t,2)}}}function ck(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ms(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new Bs("//www.google.com/images/cleardot.gif"),X.location&&X.location.protocol=="http"||ff(n,"https"),Up(n)),R6(n.toString(),r)}else qt(2);t.H=0,t.h&&t.h.za(e),hk(t),sk(t)}M.pb=function(t){t?(this.l.info("Successfully pinged google.com"),qt(2)):(this.l.info("Failed to ping google.com"),qt(1))};function hk(t){if(t.H=0,t.ma=[],t.h){const e=Xx(t.i);(e.length!=0||t.j.length!=0)&&(x1(t.ma,e),x1(t.ma,t.j),t.i.i.length=0,hw(t.j),t.j.length=0),t.h.ya()}}function dk(t,e,n){var r=n instanceof Bs?ei(n):new Bs(n);if(r.g!="")e&&(r.g=e+"."+r.g),pf(r,r.m);else{var i=X.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Bs(null);r&&ff(s,r),e&&(s.g=e),i&&pf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Vc(t,r),r}function fk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new qe(new jp({ob:n})):new qe(t.va),e.Oa(t.J),e}M.isActive=function(){return!!this.h&&this.h.isActive(this)};function pk(){}M=pk.prototype;M.Ba=function(){};M.Aa=function(){};M.za=function(){};M.ya=function(){};M.isActive=function(){return!0};M.Va=function(){};function gf(){if(Na&&!(10<=Number(q9)))throw Error("Environmental error: no available transport.")}gf.prototype.g=function(t,e){return new vn(t,e)};function vn(t,e){_t.call(this),this.g=new ik(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Bu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new sl(this)}vt(vn,_t);vn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dk(t,null,t.Y),Hp(t)};vn.prototype.close=function(){Pw(this.g)};vn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_w(t),t=n);e.j.push(new T6(e.fb++,t)),e.H==3&&Hp(e)};vn.prototype.N=function(){this.g.h=null,delete this.j,Pw(this.g),delete this.g,vn.$.N.call(this)};function mk(t){Sw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vt(mk,Sw);function gk(){Iw.call(this),this.status=1}vt(gk,Iw);function sl(t){this.g=t}vt(sl,pk);sl.prototype.Ba=function(){bt(this.g,"a")};sl.prototype.Aa=function(t){bt(this.g,new mk(t))};sl.prototype.za=function(t){bt(this.g,new gk)};sl.prototype.ya=function(){bt(this.g,"b")};function D6(){this.blockSize=-1}function Zn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vt(Zn,D6);Zn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Og(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Zn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Og(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Og(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Og(this,r),i=0;break}}this.h=i,this.i+=e};Zn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var M6={};function kw(t){return-128<=t&&128>t?B9(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function dr(t){if(isNaN(t)||!isFinite(t))return ya;if(0>t)return Ct(dr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=L_;return new Ee(e,0)}function yk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ct(yk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dr(Math.pow(e,8)),r=ya,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=dr(Math.pow(e,s)),r=r.R(s).add(dr(o))):(r=r.R(n),r=r.add(dr(o)))}return r}var L_=4294967296,ya=kw(0),$_=kw(1),j1=kw(16777216);M=Ee.prototype;M.ea=function(){if(Pn(this))return-Ct(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:L_+r)*e,e*=L_}return t};M.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ur(this))return"0";if(Pn(this))return"-"+Ct(this).toString(t);for(var e=dr(Math.pow(t,6)),n=this,r="";;){var i=_f(n,e).g;n=yf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ur(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};M.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ur(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Pn(t){return t.h==-1}M.X=function(t){return t=yf(this,t),Pn(t)?-1:Ur(t)?0:1};function Ct(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add($_)}M.abs=function(){return Pn(this)?Ct(this):this};M.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function yf(t,e){return t.add(Ct(e))}M.R=function(t){if(Ur(this)||Ur(t))return ya;if(Pn(this))return Pn(t)?Ct(this).R(Ct(t)):Ct(Ct(this).R(t));if(Pn(t))return Ct(this.R(Ct(t)));if(0>this.X(j1)&&0>t.X(j1))return dr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,bh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function bh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Al(t,e){this.g=t,this.h=e}function _f(t,e){if(Ur(e))throw Error("division by zero");if(Ur(t))return new Al(ya,ya);if(Pn(t))return e=_f(Ct(t),e),new Al(Ct(e.g),Ct(e.h));if(Pn(e))return e=_f(t,Ct(e)),new Al(Ct(e.g),e.h);if(30<t.g.length){if(Pn(t)||Pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$_,r=e;0>=r.X(t);)n=z1(n),r=z1(r);var i=Do(n,1),s=Do(r,1);for(r=Do(r,2),n=Do(n,2);!Ur(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Do(r,1),n=Do(n,1)}return e=yf(t,i.R(e)),new Al(i,e)}for(i=ya;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=dr(n),o=s.R(e);Pn(o)||0<o.X(t);)n-=r,s=dr(n),o=s.R(e);Ur(s)&&(s=$_),i=i.add(s),t=yf(t,o)}return new Al(i,t)}M.gb=function(t){return _f(this,t).h};M.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};M.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};M.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function z1(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function Do(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}gf.prototype.createWebChannel=gf.prototype.g;vn.prototype.send=vn.prototype.u;vn.prototype.open=vn.prototype.m;vn.prototype.close=vn.prototype.close;$p.NO_ERROR=0;$p.TIMEOUT=8;$p.HTTP_ERROR=6;Dx.COMPLETE="complete";Mx.EventType=Mc;Mc.OPEN="a";Mc.CLOSE="b";Mc.ERROR="c";Mc.MESSAGE="d";_t.prototype.listen=_t.prototype.O;qe.prototype.listenOnce=qe.prototype.P;qe.prototype.getLastError=qe.prototype.Sa;qe.prototype.getLastErrorCode=qe.prototype.Ia;qe.prototype.getStatus=qe.prototype.da;qe.prototype.getResponseJson=qe.prototype.Wa;qe.prototype.getResponseText=qe.prototype.ja;qe.prototype.send=qe.prototype.ha;qe.prototype.setWithCredentials=qe.prototype.Oa;Zn.prototype.digest=Zn.prototype.l;Zn.prototype.reset=Zn.prototype.reset;Zn.prototype.update=Zn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=dr;Ee.fromString=yk;var L6=function(){return new gf},$6=function(){return Lp()},Ng=$p,F6=Dx,V6=Eo,B1={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xh=Mx,U6=qe,j6=Zn,_a=Ee;const W1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new Ip("@firebase/firestore");function Rl(){return io.logLevel}function D(t,...e){if(io.logLevel<=ue.DEBUG){const n=e.map(Ow);io.debug(`Firestore (${ol}): ${t}`,...n)}}function Er(t,...e){if(io.logLevel<=ue.ERROR){const n=e.map(Ow);io.error(`Firestore (${ol}): ${t}`,...n)}}function Da(t,...e){if(io.logLevel<=ue.WARN){const n=e.map(Ow);io.warn(`Firestore (${ol}): ${t}`,...n)}}function Ow(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw Er(e),new Error(e)}function be(t,e){t||J()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new _k(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Lt(e)}}class H6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new G6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Q6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Ma(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new at(0,0))}static max(){return new ee(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Xu{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const Y6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Xu{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return Y6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(Fe.fromString(e))}static fromName(e){return new H(Fe.fromString(e).popFirst(5))}static empty(){return new H(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Fe(e.slice()))}}function X6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new ns(i,H.empty(),e)}function J6(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(ee.min(),H.empty(),-1)}static max(){return new ns(ee.max(),H.empty(),-1)}}function Z6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==ez)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new nu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Dw(r.target.error);this.V.reject(new nu(e,i))}}static open(e,n,r,i){try{return new Nw(n,e.transaction(i,r))}catch(s){throw new nu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new rz(n)}}class Ls{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ls.S(Ze())===12.2&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!bb())return!1;if(Ls.C())return!0;const e=Ze(),n=Ls.S(e),r=0<n&&n<10,i=Ls.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new B(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new B(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new nu(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Nw.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),b.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class nz{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xs(this.k.delete())}}class nu extends B{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function jc(t){return t.name==="IndexedDbTransactionError"}class rz{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xs(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(e){return xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),xs(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new b((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{const o=Dw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new nz(a),u=n(a.primaryKey,a.value,l);if(u instanceof b){const c=u.catch(h=>(l.done(),b.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xs(t){return new b((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Dw(r.target.error);n(i)}})}let H1=!1;function Dw(t){const e=Ls.S(Ze());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return H1||(H1=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Mw._e=-1;function qp(t){return t==null}function vf(t){return t===0&&1/t==-1/0}function iz(t){return typeof t=="number"&&Number.isInteger(t)&&!vf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tt=class F_{constructor(e,n){this.comparator=e,this.root=n||Wi.EMPTY}insert(e,n){return new F_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wi.BLACK,null,null))}remove(e){return new F_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}},kh=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wi=class kr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kr.RED,this.left=i??kr.EMPTY,this.right=s??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};Wi.EMPTY=null,Wi.RED=!0,Wi.BLACK=!1;Wi.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Wi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G1(this.data.getIterator())}getIteratorFrom(e){return new G1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class G1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new xt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ek("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const sz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(be(!!t),typeof t=="string"){let e=0;const n=sz.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $w(t){const e=t.mapValue.fields.__previous_value__;return Lw(e)?$w(e):e}function Ju(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Zu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lw(t)?4:az(t)?9007199254740991:10:J()}function Tr(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ju(t).isEqual(Ju(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return so(i.bytesValue).isEqual(so(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?vf(o)===vf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ma(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(q1(o)!==q1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function ec(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function La(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ye(s.integerValue||s.doubleValue),l=Ye(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return K1(t.timestampValue,e.timestampValue);case 4:return K1(Ju(t),Ju(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=so(s),l=so(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ge(a[u],l[u]);if(c!==0)return c}return ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(Ye(s.latitude),Ye(o.latitude));return a!==0?a:ge(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=La(a[u],l[u]);if(c)return c}return ge(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Oh.mapValue&&o===Oh.mapValue)return 0;if(s===Oh.mapValue)return 1;if(o===Oh.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ge(l[h],c[h]);if(d!==0)return d;const f=La(a[l[h]],u[c[h]]);if(f!==0)return f}return ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw J()}}function K1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=rs(t),r=rs(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function $a(t){return V_(t)}function V_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=V_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${V_(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function U_(t){return!!t&&"integerValue"in t}function Fw(t){return!!t&&"arrayValue"in t}function Q1(t){return!!t&&"nullValue"in t}function Y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function az(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ru(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){al(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(ru(this.value))}}function Tk(t){const e=[];return al(t.fields,(n,r)=>{const i=new Rt([n]);if(ud(r)){const s=Tk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,ee.min(),ee.min(),ee.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,ee.min(),ee.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,ee.min(),ee.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.position=e,this.inclusive=n}}function X1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=La(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function lz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{}class it extends Sk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cz(e,n,r):n==="array-contains"?new fz(e,r):n==="in"?new pz(e,r):n==="not-in"?new mz(e,r):n==="array-contains-any"?new gz(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hz(e,r):new dz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(La(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(La(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends Sk{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Sr(e,n)}matches(e){return Ik(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ik(t){return t.op==="and"}function Ck(t){return uz(t)&&Ik(t)}function uz(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function j_(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(Ck(t))return t.filters.map(e=>j_(e)).join(",");{const e=t.filters.map(n=>j_(n)).join(",");return`${t.op}(${e})`}}function Ak(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(t,e):t instanceof Sr?function(r,i){return i instanceof Sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ak(o,i.filters[a]),!0):!1}(t,e):void J()}function Rk(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(Rk).join(" ,")+"}"}(t):"Filter"}class cz extends it{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class hz extends it{constructor(e,n){super(e,"in",n),this.keys=Pk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dz extends it{constructor(e,n){super(e,"not-in",n),this.keys=Pk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class fz extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fw(n)&&ec(n.arrayValue,this.value)}}class pz extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class mz extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}}class gz extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Z1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yz(t,e,n,r,i,s,o)}function Vw(t){const e=te(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>j_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.ce=n}return e.ce}function Uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ak(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J1(t.startAt,e.startAt)&&J1(t.endAt,e.endAt)}function z_(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function _z(t,e,n,r,i,s,o,a){return new Gp(t,e,n,r,i,s,o,a)}function jw(t){return new Gp(t)}function eI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vz(t){return t.collectionGroup!==null}function iu(t){const e=te(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ef(s,r))}),n.has(Rt.keyField().canonicalString())||e.le.push(new Ef(Rt.keyField(),r))}return e.le}function _r(t){const e=te(t);return e.he||(e.he=wz(e,iu(t))),e.he}function wz(t,e){if(t.limitType==="F")return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ef(i.field,s)});const n=t.endAt?new wf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wf(t.startAt.position,t.startAt.inclusive):null;return Z1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function B_(t,e,n){return new Gp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return Uw(_r(t),_r(e))&&t.limitType===e.limitType}function bk(t){return`${Vw(_r(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Rk(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$a(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function Qp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of iu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=X1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,iu(r),i)||r.endAt&&!function(o,a,l){const u=X1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,iu(r),i))}(t,e)}function Ez(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xk(t){return(e,n)=>{let r=!1;for(const i of iu(t)){const s=Tz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Tz(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?La(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=new tt(H.comparator);function ti(){return Sz}const kk=new tt(H.comparator);function zl(...t){let e=kk;for(const n of t)e=e.insert(n.key,n);return e}function Ok(t){let e=kk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $s(){return su()}function Nk(){return su()}function su(){return new ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const Iz=new tt(H.comparator),Cz=new xt(H.comparator);function ce(...t){let e=Cz;for(const n of t)e=e.add(n);return e}const Az=new xt(ge);function Rz(){return Az}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function Mk(t){return{integerValue:""+t}}function Pz(t,e){return iz(e)?Mk(e):Dk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function bz(t,e,n){return t instanceof Tf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lw(s)&&(s=$w(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof tc?$k(t,e):t instanceof nc?Fk(t,e):function(i,s){const o=Lk(i,s),a=tI(o)+tI(i.Ie);return U_(o)&&U_(i.Ie)?Mk(a):Dk(i.serializer,a)}(t,e)}function xz(t,e,n){return t instanceof tc?$k(t,e):t instanceof nc?Fk(t,e):n}function Lk(t,e){return t instanceof Sf?function(r){return U_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Tf extends Yp{}class tc extends Yp{constructor(e){super(),this.elements=e}}function $k(t,e){const n=Vk(e);for(const r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nc extends Yp{constructor(e){super(),this.elements=e}}function Fk(t,e){let n=Vk(e);for(const r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}class Sf extends Yp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tI(t){return Ye(t.integerValue||t.doubleValue)}function Vk(t){return Fw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tc&&i instanceof tc||r instanceof nc&&i instanceof nc?Ma(r.elements,i.elements,Tr):r instanceof Sf&&i instanceof Sf?Tr(r.Ie,i.Ie):r instanceof Tf&&i instanceof Tf}(t.transform,e.transform)}class Oz{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xp{}function Uk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zk(t.key,qr.none()):new zc(t.key,t.data,qr.none());{const n=t.data,r=bn.empty();let i=new xt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new To(t.key,r,new zn(i.toArray()),qr.none())}}function Nz(t,e,n){t instanceof zc?function(i,s,o){const a=i.value.clone(),l=rI(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,s,o){if(!cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rI(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(jk(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ou(t,e,n,r){return t instanceof zc?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=s.value.clone(),c=iI(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(s,o,a,l){if(!cd(s.precondition,o))return a;const u=iI(s.fieldTransforms,l,o),c=o.data;return c.setAll(jk(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Dz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Lk(r.transform,i||null);s!=null&&(n===null&&(n=bn.empty()),n.set(r.field,s))}return n||null}function nI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ma(r,i,(s,o)=>kz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends Xp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends Xp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rI(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xz(o,a,n[i]))}return r}function iI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bz(s,o,e))}return r}class zk extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mz extends Xp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Uk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,(n,r)=>nI(n,r))&&Ma(this.baseMutations,e.baseMutations,(n,r)=>nI(n,r))}}class zw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return Iz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,fe;function Vz(t){switch(t){default:return J();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Bk(t){if(t===void 0)return Er("GRPC error has no .code"),k.UNKNOWN;switch(t){case Qe.OK:return k.OK;case Qe.CANCELLED:return k.CANCELLED;case Qe.UNKNOWN:return k.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return k.INTERNAL;case Qe.UNAVAILABLE:return k.UNAVAILABLE;case Qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Qe.NOT_FOUND:return k.NOT_FOUND;case Qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Qe.ABORTED:return k.ABORTED;case Qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Qe.DATA_LOSS:return k.DATA_LOSS;default:return J()}}(fe=Qe||(Qe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=new _a([4294967295,4294967295],0);function sI(t){const e=Uz().encode(t),n=new j6;return n.update(e),new Uint8Array(n.digest())}function oI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _a([n,r],0),new _a([i,s],0)]}class Bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(r<0)throw new Bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=_a.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(_a.fromNumber(r)));return i.compare(jz)===1&&(i=new _a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=sI(e),[r,i]=oI(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Bw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=sI(e),[r,i]=oI(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(ee.min(),i,new tt(ge),ti(),ce())}}class Bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Wk{constructor(e,n){this.targetId=e,this.fe=n}}class Hk{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aI{constructor(){this.ge=0,this.pe=uI(),this.ye=Bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Bc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=uI()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class zz{constructor(e){this.Be=e,this.ke=new Map,this.qe=ti(),this.Qe=lI(),this.Ke=new tt(ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(z_(s))if(r===0){const o=new H(s.path);this.We(n,o,Ft.newNoDocument(o,ee.min()))}else be(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=so(r).toUint8Array()}catch(l){if(l instanceof Ek)return Da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bw(o,i,s)}catch(l){return Da(l instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&z_(a.target)){const l=new H(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ft.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Jp(e,n,this.Ke,this.qe,r);return this.qe=ti(),this.Qe=lI(),this.Ke=new tt(ge),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new aI,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xt(ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new aI),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function lI(){return new tt(H.comparator)}function uI(){return new tt(H.comparator)}const Bz=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Wz=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Hz=(()=>({and:"AND",or:"OR"}))();class qz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W_(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gz(t,e){return If(t,e.toTimestamp())}function vr(t){return be(!!t),ee.fromTimestamp(function(n){const r=rs(n);return new at(r.seconds,r.nanos)}(t))}function Ww(t,e){return H_(t,e).canonicalString()}function H_(t,e){const n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gk(t){const e=Fe.fromString(t);return be(Jk(e)),e}function q_(t,e){return Ww(t.databaseId,e.path)}function Dg(t,e){const n=Gk(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Qk(n))}function Kk(t,e){return Ww(t.databaseId,e)}function Kz(t){const e=Gk(t);return e.length===4?Fe.emptyPath():Qk(e)}function G_(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qk(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cI(t,e,n){return{name:q_(t,e),fields:n.value.mapValue.fields}}function Qz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),Bt.fromBase64String(c||"")):(be(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?k.UNKNOWN:Bk(u.code);return new B(c,u.message||"")}(o);n=new Hk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dg(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ee.min(),a=new bn({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new hd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dg(t,r.document),s=r.readTime?vr(r.readTime):ee.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dg(t,r.document),s=r.removedTargetIds||[];n=new hd([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Fz(i,s),a=r.targetId;n=new Wk(a,o)}}return n}function Yz(t,e){let n;if(e instanceof zc)n={update:cI(t,e.key,e.value)};else if(e instanceof zk)n={delete:q_(t,e.key)};else if(e instanceof To)n={update:cI(t,e.key,e.data),updateMask:sB(e.fieldMask)};else{if(!(e instanceof Mz))return J();n={verify:q_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Tf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Gz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function Xz(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(ee.min())&&(o=vr(s)),new Oz(o,i.transformResults||[])}(n,e))):[]}function Jz(t,e){return{documents:[Kk(t,e.path)]}}function Zz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Kk(t,i);const s=function(u){if(u.length!==0)return Xk(Sr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:jo(d.field),direction:nB(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=W_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function eB(t){let e=Kz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const d=Yk(h);return d instanceof Sr&&Ck(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new Ef(zo(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,qp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new wf(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new wf(f,d)}(n.endAt)),_z(e,i,o,s,a,"F",l,u)}function tB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zo(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zo(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return it.create(zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>Yk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function nB(t){return Bz[t]}function rB(t){return Wz[t]}function iB(t){return Hz[t]}function jo(t){return{fieldPath:t.canonicalString()}}function zo(t){return Rt.fromServerFormat(t.fieldPath)}function Xk(t){return t instanceof it?function(n){if(n.op==="=="){if(Y1(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(Q1(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y1(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(Q1(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:rB(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(i=>Xk(i));return r.length===1?r[0]:{compositeFilter:{op:iB(n.op),filters:r}}}(t):J()}function sB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.ct=e}}function aB(t){const e=eB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this._n=new uB}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(ns.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class uB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Fa(0)}static Ln(){return new Fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.changes=new ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ou(r.mutation,i,zn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=$s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=su(),a=function(){return su()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof To)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ou(c.mutation,u,c.mutation.getFieldMask(),at.now())):o.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new hB(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=su();let i=new tt((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ce()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Nk();c.forEach(d=>{if(!s.has(d)){const f=Uk(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve($s());let a=-1,l=s;return o.next(u=>b.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?b.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ce())).next(c=>({batchId:a,changes:Ok(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=zl();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,l=>{const u=function(h,d){return new Gp(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ft.newInvalidDocument(c)))});let a=zl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&ou(c.mutation,u,zn.empty(),at.now()),Qp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:aB(i.bundledQuery),readTime:vr(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.overlays=new tt(H.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=$s(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=$s(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=$s(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return b.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $z(n,r));let s=this.hr.get(n);s===void 0&&(s=ce(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.Pr=new xt(dt.Ir),this.Tr=new xt(dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new Fe([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new Fe([])),r=new dt(n,e),i=new dt(n,e+1);let s=ce();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xt(dt.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lz(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(ge);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new dt(new H(s),0);let a=new xt(ge);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dt(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e){this.vr=e,this.docs=function(){return new tt(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,a=new H(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Z6(J6(c),r)<=0||(i.has(c.key)||Qp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yB(this)}getSize(e){return b.resolve(this.size)}}class yB extends cB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.persistence=e,this.Mr=new ll(n=>Vw(n),Uw),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hw,this.targetCount=0,this.Lr=Fa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Fa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.Br={},this.overlays={},this.kr=new Mw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new _B(this),this.indexManager=new lB,this.remoteDocumentCache=function(i){return new gB(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new oB(n),this.$r=new fB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new mB(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new wB(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class wB extends tz{constructor(e){super(),this.currentSequenceNumber=e}}class qw{constructor(e){this.persistence=e,this.zr=new Hw,this.jr=null}static Hr(e){return new qw(e)}get Jr(){if(this.jr)return this.jr;throw J()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{const i=H.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return t4()?8:Ls.v(Ze())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EB;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Rl()<=ue.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Rl()<=ue.DEBUG&&D("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Rl()<=ue.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):b.resolve())}ji(e,n){if(eI(n))return b.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=B_(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,B_(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return eI(n)||i.isEqual(ee.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Rl()<=ue.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.es(e,o,n,X6(i,-1)).next(a=>a))})}Zi(e,n){let r=new xt(xk(e));return n.forEach((i,s)=>{Qp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Rl()<=ue.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.zi.getDocumentsMatchingQuery(e,n,ns.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new tt(ge),this.rs=new ll(s=>Vw(s),Uw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function IB(t,e,n,r){return new SB(t,e,n,r)}async function Zk(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ce();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function CB(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=b.resolve();return d.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(_=>{const v=u.docVersions.get(g);be(v!==null),_.version.compareTo(v)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eO(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function AB(t,e){const n=te(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Bt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(_,v,m){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=ti(),u=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(RB(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ee.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function RB(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function PB(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bB(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function K_(t,e,n){const r=te(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jc(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function hI(t,e,n){const r=te(t);let i=ee.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=te(l),d=h.rs.get(c);return d!==void 0?b.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:ce())).next(a=>(xB(r,Ez(e),a),{documents:a,hs:s})))}function xB(t,e,n){let r=t.ss.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class dI{constructor(){this.activeTargetIds=Rz()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kB{constructor(){this.no=new dI,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new dI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Mg(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class MB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=Mg(),l=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Da("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=NB[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=Mg();return new Promise((o,a)=>{const l=new U6;l.setWithCredentials(!0),l.listenOnce(F6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ng.NO_ERROR:const c=l.getResponseJson();D(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Ng.TIMEOUT:D(Dt,`RPC '${e}' ${s} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ng.HTTP_ERROR:const h=l.getStatus();if(D(Dt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(m)>=0?m:k.UNKNOWN}(f.status);a(new B(g,f.message))}else a(new B(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{D(Dt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Dt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Mg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=L6(),a=$6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Dt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const g=new DB({lo:v=>{f?D(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(D(Dt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),D(Dt,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},ho:()=>h.close()}),_=(v,m,p)=>{v.listen(m,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return _(h,xh.EventType.OPEN,()=>{f||D(Dt,`RPC '${e}' stream ${i} transport opened.`)}),_(h,xh.EventType.CLOSE,()=>{f||(f=!0,D(Dt,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(h,xh.EventType.ERROR,v=>{f||(f=!0,Da(Dt,`RPC '${e}' stream ${i} transport errored:`,v),g.Vo(new B(k.UNAVAILABLE,"The operation could not be completed")))}),_(h,xh.EventType.MESSAGE,v=>{var m;if(!f){const p=v.data[0];be(!!p);const y=p,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){D(Dt,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let T=function(V){const j=Qe[V];if(j!==void 0)return Bk(j)}(I),S=w.message;T===void 0&&(T=k.INTERNAL,S="Unknown error status: "+I+" with message "+w.message),f=!0,g.Vo(new B(T,S)),h.close()}else D(Dt,`RPC '${e}' stream ${i} received:`,p),g.mo(p)}}),_(a,V6.STAT_EVENT,v=>{v.stat===B1.PROXY?D(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===B1.NOPROXY&&D(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function Lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return new qz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new tO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LB extends nO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Qz(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?vr(o.readTime):ee.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=G_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=z_(l)?{documents:Jz(s,l)}:{query:Zz(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=qk(s,o.resumeToken);const u=W_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=If(s,o.snapshotVersion.toTimestamp());const u=W_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=tB(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=G_(this.serializer),n.removeTarget=e,this.t_(n)}}class $B extends nO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=Xz(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.T_(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=G_(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Yz(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,H_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,H_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class VB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Er(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{So(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=te(l);u.v_.add(4),await Wc(u),u.x_.set("Unknown"),u.v_.delete(4),await em(u)}(this))})}),this.x_=new VB(r,i)}}async function em(t){if(So(t))for(const e of t.F_)await e(!0)}async function Wc(t){for(const e of t.F_)await e(!1)}function rO(t,e){const n=te(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Xw(n)?Yw(n):ul(n).Jo()&&Qw(n,e))}function Kw(t,e){const n=te(t),r=ul(n);n.C_.delete(e),r.Jo()&&iO(n,e),n.C_.size===0&&(r.Jo()?r.Xo():So(n)&&n.x_.set("Unknown"))}function Qw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).c_(e)}function iO(t,e){t.O_.Oe(e),ul(t).l_(e)}function Yw(t){t.O_=new zz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.x_.p_()}function Xw(t){return So(t)&&!ul(t).Ho()&&t.C_.size>0}function So(t){return te(t).v_.size===0}function sO(t){t.O_=void 0}async function jB(t){t.C_.forEach((e,n)=>{Qw(t,e)})}async function zB(t,e){sO(t),Xw(t)?(t.x_.S_(e),Yw(t)):t.x_.set("Unknown")}async function BB(t,e,n){if(t.x_.set("Online"),e instanceof Hk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cf(t,r)}else if(e instanceof hd?t.O_.$e(e):e instanceof Wk?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ee.min()))try{const r=await eO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Bt.EMPTY_BYTE_STRING,c.snapshotVersion)),iO(s,l);const h=new xi(c.target,l,u,c.sequenceNumber);Qw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Cf(t,r)}}async function Cf(t,e,n){if(!jc(e))throw e;t.v_.add(1),await Wc(t),t.x_.set("Offline"),n||(n=()=>eO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await em(t)})}function oO(t,e){return e().catch(n=>Cf(t,n,e))}async function tm(t){const e=te(t),n=is(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;WB(e);)try{const i=await PB(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,HB(e,i)}catch(i){await Cf(e,i)}aO(e)&&lO(e)}function WB(t){return So(t)&&t.D_.length<10}function HB(t,e){t.D_.push(e);const n=is(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function aO(t){return So(t)&&!is(t).Ho()&&t.D_.length>0}function lO(t){is(t).start()}async function qB(t){is(t).d_()}async function GB(t){const e=is(t);for(const n of t.D_)e.I_(n.mutations)}async function KB(t,e,n){const r=t.D_.shift(),i=zw.from(r,e,n);await oO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function QB(t,e){e&&is(t).P_&&await async function(r,i){if(function(o){return Vz(o)&&o!==k.ABORTED}(i.code)){const s=r.D_.shift();is(r).Zo(),await oO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),aO(t)&&lO(t)}async function pI(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=So(n);n.v_.add(3),await Wc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await em(n)}async function YB(t,e){const n=te(t);e?(n.v_.delete(2),await em(n)):e||(n.v_.add(2),await Wc(n),n.x_.set("Unknown"))}function ul(t){return t.N_||(t.N_=function(n,r,i){const s=te(n);return s.R_(),new LB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:jB.bind(null,t),To:zB.bind(null,t),u_:BB.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Xw(t)?Yw(t):t.x_.set("Unknown")):(await t.N_.stop(),sO(t))})),t.N_}function is(t){return t.L_||(t.L_=function(n,r,i){const s=te(n);return s.R_(),new $B(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:qB.bind(null,t),To:QB.bind(null,t),E_:GB.bind(null,t),T_:KB.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await tm(t)):(await t.L_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Jw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zw(t,e){if(Er("AsyncQueue",`${e}: ${t}`),jc(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.B_=new tt(H.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):J():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Va{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Va(e,n,va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class JB{constructor(){this.queries=new ll(e=>bk(e),Kp),this.onlineState="Unknown",this.W_=new Set}}async function ZB(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new XB,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Zw(o,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&eE(n)}async function e5(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t5(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.z_(i)&&(r=!0);o.q_=i}}r&&eE(n)}function n5(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function eE(t){t.W_.forEach(e=>{e.next()})}var Q_,gI;(gI=Q_||(Q_={})).j_="default",gI.Cache="cache";class r5{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Q_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.key=e}}class cO{constructor(e){this.key=e}}class i5{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=ce(),this.mutatedKeys=ce(),this.ha=xk(e),this.Pa=new va(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new mI,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Qp(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?g!==_&&(r.track({type:3,doc:f}),v=!0):this.da(d,f)||(r.track({type:2,doc:f}),v=!0,(l&&this.ha(f,l)>0||u&&this.ha(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),v=!0):d&&!f&&(r.track({type:1,doc:d}),v=!0,(l||u)&&(a=!0)),v&&(f?(o=o.add(f),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((c,h)=>function(f,g){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return _(f)-_(g)}(c.type,h.type)||this.ha(c.doc,h.doc)),this.Aa(r),i=i!=null&&i;const a=n&&!i?this.Ra():[],l=this.la.size===0&&this.current&&!i?1:0,u=l!==this.ca;return this.ca=l,o.length!==0||u?{snapshot:new Va(this.query,e.Pa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new mI,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=ce(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new cO(r))}),this.la.forEach(r=>{e.has(r)||n.push(new uO(r))}),n}fa(e){this.ua=e.hs,this.la=ce();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Va.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class s5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o5{constructor(e){this.key=e,this.pa=!1}}class a5{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new ll(a=>bk(a),Kp),this.Sa=new Map,this.ba=new Set,this.Da=new tt(H.comparator),this.Ca=new Map,this.va=new Hw,this.Fa={},this.Ma=new Map,this.xa=Fa.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function l5(t,e,n=!0){const r=gO(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await hO(r,e,n,!0),i}async function u5(t,e){const n=gO(t);await hO(n,e,!0,!1)}async function hO(t,e,n,r){const i=await bB(t.localStore,_r(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await c5(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rO(t.remoteStore,i),a}async function c5(t,e,n,r,i){t.Na=(h,d,f)=>async function(_,v,m,p){let y=v.view.Ta(m);y.Xi&&(y=await hI(_.localStore,v.query,!1).then(({documents:S})=>v.view.Ta(S,y)));const w=p&&p.targetChanges.get(v.targetId),I=p&&p.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(y,_.isPrimaryClient,w,I);return _I(_,v.targetId,T.Va),T.snapshot}(t,h,d,f);const s=await hI(t.localStore,e,!0),o=new i5(e,s.hs),a=o.Ta(s.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_I(t,n,u.Va);const c=new s5(e,n,o);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function h5(t,e,n){const r=te(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Kp(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kw(r.remoteStore,i.targetId),Y_(r,i.targetId)}).catch(Uc)):(Y_(r,i.targetId),await K_(r.localStore,i.targetId,!0))}async function d5(t,e){const n=te(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kw(n.remoteStore,r.targetId))}async function f5(t,e,n){const r=w5(t);try{const i=await function(o,a){const l=te(o),u=at.now(),c=a.reduce((f,g)=>f.add(g.key),ce());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ti(),_=ce();return l.os.getEntries(f,c).next(v=>{g=v,g.forEach((m,p)=>{p.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(v=>{h=v;const m=[];for(const p of a){const y=Dz(p,h.get(p.key).overlayedDocument);y!=null&&m.push(new To(p.key,y,Tk(y.value.mapValue),qr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(v=>{d=v;const m=v.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(f,v.batchId,m)})}).then(()=>({batchId:d.batchId,changes:Ok(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Fa[o.currentUser.toKey()];u||(u=new tt(ge)),u=u.insert(a,l),o.Fa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Hc(r,i.changes),await tm(r.remoteStore)}catch(i){const s=Zw(i,"Failed to persist write");n.reject(s)}}async function dO(t,e){const n=te(t);try{const r=await AB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?be(o.pa):i.removedDocuments.size>0&&(be(o.pa),o.pa=!1))}),await Hc(n,r,e)}catch(r){await Uc(r)}}function yI(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const a=o.view.G_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.G_(a)&&(u=!0)}),u&&eE(l)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p5(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new tt(H.comparator);o=o.insert(s,Ft.newNoDocument(s,ee.min()));const a=ce().add(s),l=new Jp(ee.min(),new Map,new tt(ge),o,a);await dO(r,l),r.Da=r.Da.remove(s),r.Ca.delete(e),tE(r)}else await K_(r.localStore,e,!1).then(()=>Y_(r,e,n)).catch(Uc)}async function m5(t,e){const n=te(t),r=e.batch.batchId;try{const i=await CB(n.localStore,e);pO(n,r,null),fO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,i)}catch(i){await Uc(i)}}async function g5(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);pO(r,e,n),fO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,i)}catch(i){await Uc(i)}}function fO(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function pO(t,e,n){const r=te(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||mO(t,r)})}function mO(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Kw(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),tE(t))}function _I(t,e,n){for(const r of n)r instanceof uO?(t.va.addReference(r.key,e),y5(t,r)):r instanceof cO?(D("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||mO(t,r.key)):J()}function y5(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ba.add(r),tE(t))}function tE(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new H(Fe.fromString(e)),r=t.xa.next();t.Ca.set(r,new o5(n)),t.Da=t.Da.insert(n,r),rO(t.remoteStore,new xi(_r(jw(n.path)),r,"TargetPurposeLimboResolution",Mw._e))}}async function Hc(t,e,n){const r=te(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Gw.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.ya.u_(i),await async function(l,u){const c=te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>b.forEach(u,d=>b.forEach(d.qi,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>b.forEach(d.Qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!jc(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ns.get(d),g=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(d,_)}}}(r.localStore,s))}async function _5(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await Zk(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(a=>{a.forEach(l=>{l.reject(new B(k.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.us)}}function v5(t,e){const n=te(t),r=n.Ca.get(e);if(r&&r.pa)return ce().add(r.key);{let i=ce();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const a=n.wa.get(o);i=i.unionWith(a.view.Ia)}return i}}function gO(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p5.bind(null,e),e.ya.u_=t5.bind(null,e.eventManager),e.ya.La=n5.bind(null,e.eventManager),e}function w5(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g5.bind(null,e),e}class vI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IB(this.persistence,new TB,e.initialUser,this.serializer)}createPersistence(e){return new vB(qw.Hr,this.serializer)}createSharedClientState(e){return new kB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class E5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_5.bind(null,this.syncEngine),await YB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JB}()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=function(s){return new MB(s)}(e.databaseInfo);return function(s,o,a,l){return new FB(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UB(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yI(this.syncEngine,n,0),function(){return fI.D()?new fI:new OB}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new a5(i,s,o,a,l,u);return c&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=te(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Wc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=vk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $g(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Zk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C5(t);D("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pI(e.remoteStore,i)),t._onlineComponents=e}function I5(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function C5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await $g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!I5(n))throw n;Da("Error using user provided cache. Falling back to memory cache: "+n),await $g(t,new vI)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await $g(t,new vI);return t._offlineComponents}async function yO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await wI(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await wI(t,new E5))),t._onlineComponents}function A5(t){return yO(t).then(e=>e.syncEngine)}async function R5(t){const e=await yO(t),n=e.eventManager;return n.onListen=l5.bind(null,e.syncEngine),n.onUnlisten=h5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d5.bind(null,e.syncEngine),n}function P5(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new T5({next:d=>{o.enqueueAndForget(()=>e5(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new r5(jw(a.path),c,{includeMetadataChanges:!0,ta:!0});return ZB(s,h)}(await R5(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b5(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TI(t){if(!H.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SI(t){if(H.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nE(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_O((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new II({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new II(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z6;switch(r.type){case"firstParty":return new q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=EI.get(n);r&&(D("ComponentProvider","Removing Datastore"),EI.delete(n),r.terminate())}(this),Promise.resolve()}}function x5(t,e,n,r={}){var i;const s=(t=rc(t,nm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Lt.MOCK_USER;else{a=Ab(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Lt(u)}t._authCredentials=new B6(new _k(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rE(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Hi extends rE{constructor(e,n,r){super(e,n,jw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new H(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function k5(t,e,...n){if(t=et(t),vO("collection","path",e),t instanceof nm){const r=Fe.fromString(e,...n);return SI(r),new Hi(t,null,r)}{if(!(t instanceof pn||t instanceof Hi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return SI(r),new Hi(t.firestore,null,r)}}function O5(t,e,...n){if(t=et(t),arguments.length===1&&(e=vk.newId()),vO("doc","path",e),t instanceof nm){const r=Fe.fromString(e,...n);return TI(r),new pn(t,null,new H(r))}{if(!(t instanceof pn||t instanceof Hi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return TI(r),new pn(t.firestore,t instanceof Hi?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new tO(this,"async_queue_retry"),this.cu=()=>{const n=Lg();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Lg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Hr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!jc(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Jw.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&J()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class iE extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new N5}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EO(this),this._firestoreClient.terminate()}}function D5(t,e){const n=typeof t=="object"?t:ew(),r=typeof t=="string"?t:e||"(default)",i=Cp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Sb("firestore");s&&x5(i,...s)}return i}function wO(t){return t._firestoreClient||EO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new oz(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_O(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new S5(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(Bt.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ua(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=/^__.*__$/;class L5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}function SO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class aE{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new aE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Af(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(SO(this.Vu)&&M5.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class $5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}Cu(e,n,r,i=!1){return new aE({Vu:e,methodName:n,Du:r,path:Rt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F5(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new $5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V5(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);RO("Data must be an object, but it was:",o,r);const a=CO(r,o);let l,u;if(s.merge)l=new zn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=U5(e,h,n);if(!o.contains(d))throw new B(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);z5(c,d)||c.push(d)}l=new zn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new L5(new bn(a),l,u)}function IO(t,e){if(AO(t=et(t)))return RO("Unsupported field value:",e,t),CO(t,e);if(t instanceof TO)return function(r,i){if(!SO(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=IO(a,i.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=at.fromDate(r);return{timestampValue:If(i.serializer,s)}}if(r instanceof at){const s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(i.serializer,s)}}if(r instanceof oE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ua)return{bytesValue:qk(i.serializer,r._byteString)};if(r instanceof pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${nE(r)}`)}(t,e)}function CO(t,e){const n={};return wk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,(r,i)=>{const s=IO(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof oE||t instanceof Ua||t instanceof pn||t instanceof TO)}function RO(t,e,n){if(!AO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nE(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function U5(t,e,n){if((e=et(e))instanceof sE)return e._internalPath;if(typeof e=="string")return PO(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const j5=new RegExp("[~\\*/\\[\\]]");function PO(t,e,n){if(e.search(j5)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sE(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(k.INVALID_ARGUMENT,a+t+l)}function z5(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B5 extends bO{data(){return super.data()}}function xO(t,e){return typeof e=="string"?PO(t,e):e instanceof sE?e._internalPath:e._delegate._internalPath}class W5{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new oE(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$w(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ju(e));default:return null}}convertTimestamp(e){const n=rs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);be(Jk(r));const i=new Zu(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kO extends bO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new G5(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class G5 extends kO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){t=rc(t,pn);const e=rc(t.firestore,iE);return P5(wO(e),t._key).then(n=>J5(e,t,n))}class Q5 extends W5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function Y5(t,e,n){t=rc(t,pn);const r=rc(t.firestore,iE),i=H5(t.converter,e,n);return X5(r,[V5(F5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function X5(t,e){return function(r,i){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>f5(await A5(r),i,s)),s.promise}(wO(t),e)}function J5(t,e,n){const r=n.docs.get(e._key),i=new Q5(t);return new kO(t,i,e._key,r,new q5(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ol=i})(vo),to(new ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new iE(new W6(r.getProvider("auth-internal")),new K6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mr(W1,"4.6.0",e),mr(W1,"4.6.0","esm2017")})();const Z5={apiKey:"AIzaSyAnkp7Cdlmpf9PjBnpYwp9-0ze0F47L7hE",authDomain:"nany-services-9a09d.firebaseapp.com",databaseURL:"https://nany-services-9a09d-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"nany-services-9a09d",storageBucket:"nany-services-9a09d.appspot.com",messagingSenderId:"734209943459",appId:"1:734209943459:web:bbf6c4586c1423684a5c16",measurementId:"G-CPK9PRQMWC"},OO=Nb(Z5),cl=O9(OO),lE=D5(OO);let eW={data:""},tW=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||eW,nW=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rW=/\/\*[^]*?\*\/|  +/g,CI=/\n+/g,Ai=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ai(o,s):s+"{"+Ai(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ai(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ai.p?Ai.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},br={},NO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+NO(t[n]);return e}return t},iW=(t,e,n,r,i)=>{let s=NO(t),o=br[s]||(br[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!br[o]){let l=s!==t?t:(u=>{let c,h,d=[{}];for(;c=nW.exec(u.replace(rW,""));)c[4]?d.shift():c[3]?(h=c[3].replace(CI," ").trim(),d.unshift(d[0][h]=d[0][h]||{})):d[0][c[1]]=c[2].replace(CI," ").trim();return d[0]})(t);br[o]=Ai(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&br.g?br.g:null;return n&&(br.g=br[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(br[o],e,r,a),o},sW=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ai(a,""):a===!1?"":a}return r+i+(o??"")},"");function rm(t){let e=this||{},n=t.call?t(e.p):t;return iW(n.unshift?n.raw?sW(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,tW(e.target),e.g,e.o,e.k)}let DO,X_,J_;rm.bind({g:1});let ni=rm.bind({k:1});function oW(t,e,n,r){Ai.p=e,DO=t,X_=n,J_=r}function _s(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:X_&&X_()},a),n.o=/ *go\d+/.test(l),a.className=rm.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),J_&&u[0]&&J_(a),DO(u,a)}return e?e(i):i}}var aW=t=>typeof t=="function",Rf=(t,e)=>aW(t)?t(e):t,lW=(()=>{let t=0;return()=>(++t).toString()})(),MO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),uW=20,dd=new Map,cW=1e3,AI=t=>{if(dd.has(t))return;let e=setTimeout(()=>{dd.delete(t),Io({type:4,toastId:t})},cW);dd.set(t,e)},hW=t=>{let e=dd.get(t);e&&clearTimeout(e)},Z_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,uW)};case 1:return e.toast.id&&hW(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?Z_(t,{type:1,toast:n}):Z_(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?AI(r):t.toasts.forEach(s=>{AI(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},fd=[],pd={toasts:[],pausedAt:void 0},Io=t=>{pd=Z_(pd,t),fd.forEach(e=>{e(pd)})},dW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fW=(t={})=>{let[e,n]=E.useState(pd);E.useEffect(()=>(fd.push(n),()=>{let i=fd.indexOf(n);i>-1&&fd.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||dW[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},pW=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||lW()}),qc=t=>(e,n)=>{let r=pW(e,t,n);return Io({type:2,toast:r}),r.id},dn=(t,e)=>qc("blank")(t,e);dn.error=qc("error");dn.success=qc("success");dn.loading=qc("loading");dn.custom=qc("custom");dn.dismiss=t=>{Io({type:3,toastId:t})};dn.remove=t=>Io({type:4,toastId:t});dn.promise=(t,e,n)=>{let r=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(dn.success(Rf(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{dn.error(Rf(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var mW=(t,e)=>{Io({type:1,toast:{id:t,height:e}})},gW=()=>{Io({type:5,time:Date.now()})},yW=t=>{let{toasts:e,pausedAt:n}=fW(t);E.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&dn.dismiss(a.id);return}return setTimeout(()=>dn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&Io({type:6,time:Date.now()})},[n]),i=E.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(f=>(f.position||u)===(s.position||u)&&f.height),h=c.findIndex(f=>f.id===s.id),d=c.filter((f,g)=>g<h&&f.visible).length;return c.filter(f=>f.visible).slice(...a?[d+1]:[0,d]).reduce((f,g)=>f+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:mW,startPause:gW,endPause:r,calculateOffset:i}}},_W=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vW=ni`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wW=ni`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EW=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_W} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TW=ni`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SW=_s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${TW} 1s linear infinite;
`,IW=ni`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,CW=ni`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AW=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${CW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RW=_s("div")`
  position: absolute;
`,PW=_s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bW=ni`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xW=_s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kW=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(xW,null,e):e:n==="blank"?null:E.createElement(PW,null,E.createElement(SW,{...r}),n!=="loading"&&E.createElement(RW,null,n==="error"?E.createElement(EW,{...r}):E.createElement(AW,{...r})))},OW=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,NW=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,DW="0%{opacity:0;} 100%{opacity:1;}",MW="0%{opacity:1;} 100%{opacity:0;}",LW=_s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$W=_s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FW=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=MO()?[DW,MW]:[OW(n),NW(n)];return{animation:e?`${ni(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ni(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VW=E.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?FW(t.position||e||"top-center",t.visible):{opacity:0},s=E.createElement(kW,{toast:t}),o=E.createElement($W,{...t.ariaProps},Rf(t.message,t));return E.createElement(LW,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):E.createElement(E.Fragment,null,s,o))});oW(E.createElement);var UW=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:s,className:e,style:n},i)},jW=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:MO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},zW=rm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dh=16,BW=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=yW(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:Dh,left:Dh,right:Dh,bottom:Dh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),d=jW(c,h);return E.createElement(UW,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?zW:"",style:d},u.type==="custom"?Rf(u.message,u):i?i(u):E.createElement(VW,{toast:u,position:c}))}))},Gn=dn;const md=ps("auth/registerUser",async({email:t,password:e,displayName:n},{rejectWithValue:r})=>{try{const i=await p3(cl,t,e);return await y3(i.user,{displayName:n}),Gn.success("Registration was successful"),{userId:i.user.uid,userName:i.user.displayName}}catch(i){return i.message==="Firebase: Error (auth/email-already-in-use)."?Gn.error("This email is already in use"):Gn.error("Oops, something went wrong. Try again later"),r(i.message)}}),gd=ps("auth/logInUser",async({email:t,password:e},{rejectWithValue:n})=>{try{const r=await m3(cl,t,e);return Gn.success("Login was successful"),{userId:r.user.uid,userName:r.user.displayName}}catch(r){return r.message==="Firebase: Error (auth/invalid-credential)."?Gn.error("Incorrect email or password"):Gn.error("errror"),n(r.message)}}),yd=ps("auth/logOut",async(t,{rejectWithValue:e})=>{try{await w3(cl),Gn.success("Log out successful")}catch(n){return Gn.error("Oops, something went wrong. Try again later"),e(n.message)}}),Fg=t=>{t.loading=!0,t.error=null},Vg=(t,e)=>{t.loading=!1,t.error=e.payload},WW={userId:null,userName:null,error:null,loading:!1,currentPage:1},HW=U0({name:"auth",initialState:WW,reducers:{},extraReducers:t=>{t.addCase(md.pending,Fg).addCase(md.fulfilled,(e,n)=>{e.loading=!1,e.userId=n.payload.userId,e.userName=n.payload.userName,e.error=null}).addCase(md.rejected,Vg).addCase(gd.pending,Fg).addCase(gd.fulfilled,(e,n)=>{e.loading=!1,e.userId=n.payload.userId,e.userName=n.payload.userName,e.error=null}).addCase(gd.rejected,Vg).addCase(yd.pending,Fg).addCase(yd.fulfilled,e=>{e.loading=!1,e.userId=null,e.userName=null,e.error=null}).addCase(yd.rejected,Vg)}}),qW=HW.reducer,RI="@firebase/database",PI="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LO="";function GW(t){LO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Cr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KW(e)}}catch{}return new QW},Fs=$O("localStorage"),ev=$O("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Ip("@firebase/database"),YW=function(){let t=1;return function(){return t++}}(),FO=function(t){const e=d4(t),n=new l4;n.update(e);const r=n.digest();return Y0.encodeByteArray(r)},Gc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Gc.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let Ws=null,bI=!0;const XW=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(wa.logLevel=ue.VERBOSE,Ws=wa.log.bind(wa),e&&ev.set("logging_enabled",!0)):typeof t=="function"?Ws=t:(Ws=null,ev.remove("logging_enabled"))},Vt=function(...t){if(bI===!0&&(bI=!1,Ws===null&&ev.get("logging_enabled")===!0&&XW(!0)),Ws){const e=Gc.apply(null,t);Ws(e)}},Kc=function(t){return function(...e){Vt(t,...e)}},tv=function(...t){const e="FIREBASE INTERNAL ERROR: "+Gc(...t);wa.error(e)},ri=function(...t){const e=`FIREBASE FATAL ERROR: ${Gc(...t)}`;throw wa.error(e),new Error(e)},mn=function(...t){const e="FIREBASE WARNING: "+Gc(...t);wa.warn(e)},JW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},uE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ZW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ao="[MIN_NAME]",ss="[MAX_NAME]",hl=function(t,e){if(t===e)return 0;if(t===ao||e===ss)return-1;if(e===ao||t===ss)return 1;{const n=xI(t),r=xI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},eH=function(t,e){return t===e?0:t<e?-1:1},Pl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},cE=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=rt(e[r]),n+=":",n+=cE(t[e[r]]);return n+="}",n},VO=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ln(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const UO=function(t){N(!uE(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(c.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},tH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rH(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const iH=new RegExp("^-?(0*)\\d{1,10}$"),sH=-2147483648,oH=2147483647,xI=function(t){if(iH.test(t)){const e=Number(t);if(e>=sH&&e<=oH)return e}return null},Qc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw mn("Exception was thrown by user callback.",n),e},Math.floor(0))}},aH=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},au=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mn(e)}}class Ea{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ea.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="5",jO="v",zO="s",BO="r",WO="f",HO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qO="ls",GO="p",nv="ac",KO="websocket",QO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function cH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XO(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===KO)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===QO)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);cH(t)&&(n.ns=t.namespace);const i=[];return ln(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(){this.counters_={}}incrementCounter(e,n=1){Cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return qU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={},jg={};function dE(t){const e=t.toString();return Ug[e]||(Ug[e]=new hH),Ug[e]}function dH(t,e){const n=t.toString();return jg[n]||(jg[n]=e()),jg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="start",pH="close",mH="pLPCommand",gH="pRTLPCB",JO="id",ZO="pw",eN="ser",yH="cb",_H="seg",vH="ts",wH="d",EH="dframe",tN=1870,nN=30,TH=tN-nN,SH=25e3,IH=3e4;class ra{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kc(e),this.stats_=dE(n),this.urlFn=l=>(this.appCheckToken&&(l[nv]=this.appCheckToken),XO(n,QO,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IH)),ZW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kI)this.id=a,this.password=l;else if(o===pH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kI]="t",r[eN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[yH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[jO]=hE,this.transportSessionId&&(r[zO]=this.transportSessionId),this.lastSessionId&&(r[qO]=this.lastSessionId),this.applicationId&&(r[GO]=this.applicationId),this.appCheckToken&&(r[nv]=this.appCheckToken),typeof location<"u"&&location.hostname&&HO.test(location.hostname)&&(r[BO]=WO);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ra.forceAllow_=!0}static forceDisallow(){ra.forceDisallow_=!0}static isAvailable(){return ra.forceAllow_?!0:!ra.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tH()&&!nH()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wb(n),i=VO(r,TH);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[EH]="t",r[JO]=e,r[ZO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class fE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YW(),window[mH+this.uniqueCallbackIdentifier]=e,window[gH+this.uniqueCallbackIdentifier]=n,this.myIFrame=fE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Vt("frame writing exception"),a.stack&&Vt(a.stack),Vt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[JO]=this.myID,e[ZO]=this.myPW,e[eN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+nN+r.length<=tN;){const o=this.pendingSegs.shift();r=r+"&"+_H+i+"="+o.seg+"&"+vH+i+"="+o.ts+"&"+wH+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(SH)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=16384,AH=45e3;let Pf=null;typeof MozWebSocket<"u"?Pf=MozWebSocket:typeof WebSocket<"u"&&(Pf=WebSocket);class jn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kc(this.connId),this.stats_=dE(n),this.connURL=jn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[jO]=hE,typeof location<"u"&&location.hostname&&HO.test(location.hostname)&&(o[BO]=WO),n&&(o[zO]=n),r&&(o[qO]=r),i&&(o[nv]=i),s&&(o[GO]=s),XO(e,KO,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fs.set("previous_websocket_failure",!0);try{let r;Pb(),this.mySock=new Pf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){jn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Pf!==null&&!jn.forceDisallow_}static previouslyFailed(){return Fs.isInMemoryStorage||Fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Uu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=VO(n,CH);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AH))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}jn.responsesRequiredToBeHealthy=2;jn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ra,jn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=jn&&jn.isAvailable();let r=n&&!jn.previouslyFailed();if(e.webSocketOnly&&(n||mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jn];else{const i=this.transports_=[];for(const s of ic.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ic.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ic.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=6e4,PH=5e3,bH=10*1024,xH=100*1024,zg="t",OI="d",kH="s",NI="r",OH="e",DI="o",MI="a",LI="n",$I="p",NH="h";class DH{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kc("c:"+this.id+":"),this.transportManager_=new ic(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=au(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>xH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zg in e){const n=e[zg];n===MI?this.upgradeIfSecondaryHealthy_():n===NI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===DI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Pl("t",e),r=Pl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$I,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Pl("t",e),r=Pl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Pl(zg,e);if(OI in e){const r=e[OI];if(n===NH){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===LI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===kH?this.onConnectionShutdown_(r):n===NI?this.onReset_(r):n===OH?tv("Server Error: "+r):n===DI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hE!==r&&mn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),au(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):au(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$I,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends iN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!J0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bf}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=32,VI=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new Ie("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function os(t){return t.pieces_.length-t.pieceNum_}function Re(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function sN(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function MH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function oN(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function aN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function st(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ie(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Gt(t,e){const n=de(t),r=de(e);if(n===null)return e;if(n===r)return Gt(Re(t),Re(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lN(t,e){if(os(t)!==os(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(os(t)>os(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class LH{constructor(e,n){this.errorPrefix_=n,this.parts_=oN(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Sp(this.parts_[r]);uN(this)}}function $H(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Sp(e),uN(t)}function FH(t){const e=t.parts_.pop();t.byteLength_-=Sp(e),t.parts_.length>0&&(t.byteLength_-=1)}function uN(t){if(t.byteLength_>VI)throw new Error(t.errorPrefix_+"has a key path longer than "+VI+" bytes ("+t.byteLength_+").");if(t.parts_.length>FI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+FI+") or object contains a cycle "+Rs(t))}function Rs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends iN{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new pE}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=1e3,VH=60*5*1e3,UI=30*1e3,UH=1.3,jH=3e4,zH="server_kill",jI=3;class Gr extends rN{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gr.nextPersistentConnectionId_++,this.log_=Kc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bl,this.maxReconnectDelay_=VH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Pb())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&bf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(rt(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new X0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Gr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Cr(e,"w")){const r=ka(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();mn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||a4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=UI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=o4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tv("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jH&&(this.reconnectDelay_=bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new DH(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{mn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(zH)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&mn(h),l())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],g_(this.interruptReasons_)&&(this.reconnectDelay_=bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>cE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ie(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jI&&(this.reconnectDelay_=UI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+LO.replace(/\./g,"-")]=1,J0()?e["framework.cordova"]=1:Rb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bf.getInstance().currentlyOnline();return g_(this.interruptReasons_)&&e}}Gr.nextPersistentConnectionId_=0;Gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(ao,e),i=new le(ao,n);return this.compare(r,i)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;class cN extends im{static get __EMPTY_NODE(){return Mh}static set __EMPTY_NODE(e){Mh=e}compare(e,n){return hl(e.name,n.name)}isDefinedOn(e){throw tl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(ss,Mh)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,Mh)}toString(){return".key"}}const qi=new cN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??nn.EMPTY_NODE,this.right=s??nn.EMPTY_NODE}copy(e,n,r,i,s){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}pt.RED=!0;pt.BLACK=!1;class BH{copy(e,n,r,i,s){return this}insert(e,n,r){return new pt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class nn{constructor(e,n=nn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new nn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pt.BLACK,null,null))}remove(e){return new nn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lh(this.root_,null,this.comparator_,!0,e)}}nn.EMPTY_NODE=new BH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WH(t,e){return hl(t.name,e.name)}function mE(t,e){return hl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv;function HH(t){rv=t}const hN=function(t){return typeof t=="number"?"number:"+UO(t):"string:"+t},dN=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Cr(e,".sv"),"Priority must be a string or number.")}else N(t===rv||t.isEmpty(),"priority of unexpected type.");N(t===rv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zI;class ht{constructor(e,n=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dN(this.priorityNode_)}static set __childrenNodeConstructor(e){zI=e}static get __childrenNodeConstructor(){return zI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ht(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:de(e)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=de(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(N(r!==".priority"||os(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(Re(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=UO(this.value_):e+=this.value_,this.lazyHash_=FO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ht.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ht.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ht.VALUE_TYPE_ORDER.indexOf(n),s=ht.VALUE_TYPE_ORDER.indexOf(r);return N(i>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fN,pN;function qH(t){fN=t}function GH(t){pN=t}class KH extends im{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(ss,new ht("[PRIORITY-POST]",pN))}makePost(e,n){const r=fN(e);return new le(n,new ht("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ue=new KH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=Math.log(2);class YH{constructor(e){const n=s=>parseInt(Math.log(s)/QH,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xf=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let h,d;if(c===0)return null;if(c===1)return h=t[l],d=n?n(h):h,new pt(d,h.node,pt.BLACK,null,null);{const f=parseInt(c/2,10)+l,g=i(l,f),_=i(f+1,u);return h=t[f],d=n?n(h):h,new pt(d,h.node,pt.BLACK,g,_)}},s=function(l){let u=null,c=null,h=t.length;const d=function(g,_){const v=h-g,m=h;h-=g;const p=i(v+1,m),y=t[v],w=n?n(y):y;f(new pt(w,y.node,_,null,p))},f=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const _=l.nextBitIsOne(),v=Math.pow(2,l.count-(g+1));_?d(v,pt.BLACK):(d(v,pt.BLACK),d(v,pt.RED))}return c},o=new YH(t.length),a=s(o);return new nn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg;const Mo={};class jr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Mo&&Ue,"ChildrenNode.ts has not been loaded"),Bg=Bg||new jr({".priority":Mo},{".priority":Ue}),Bg}get(e){const n=ka(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof nn?n:null}hasIndex(e){return Cr(this.indexSet_,e.toString())}addIndex(e,n){N(e!==qi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(le.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=xf(r,e.getCompare()):a=Mo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new jr(c,u)}addToIndexes(e,n){const r=sf(this.indexes_,(i,s)=>{const o=ka(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Mo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),xf(a,o.getCompare())}else return Mo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new jr(r,this.indexSet_)}removeFromIndexes(e,n){const r=sf(this.indexes_,i=>{if(i===Mo)return i;{const s=n.get(e.name);return s?i.remove(new le(e.name,s)):i}});return new jr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl;class Q{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dN(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xl||(xl=new Q(new nn(mE),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xl}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?xl:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Re(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new le(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?xl:this.priorityNode_;return new Q(i,o,s)}}updateChild(e,n){const r=de(e);if(r===null)return n;{N(de(e)!==".priority"||os(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Re(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ue,(o,a)=>{n[o]=a.val(e),r++,s&&Q.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hN(this.getPriority().val())+":"),this.forEachChild(Ue,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":FO(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new le(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yc?-1:0}withIndex(e){if(e===qi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ue),i=n.getIterator(Ue);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qi?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class XH extends Q{constructor(){super(new nn(mE),Q.EMPTY_NODE,jr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Yc=new XH;Object.defineProperties(le,{MIN:{value:new le(ao,Q.EMPTY_NODE)},MAX:{value:new le(ss,Yc)}});cN.__EMPTY_NODE=Q.EMPTY_NODE;ht.__childrenNodeConstructor=Q;HH(Yc);GH(Yc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=!0;function At(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ht(n,At(e))}if(!(t instanceof Array)&&JH){const n=[];let r=!1;if(ln(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=At(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const s=xf(n,WH,o=>o.name,mE);if(r){const o=xf(n,Ue.getCompare());return new Q(s,At(e),new jr({".priority":o},{".priority":Ue}))}else return new Q(s,At(e),jr.Default)}else{let n=Q.EMPTY_NODE;return ln(t,(r,i)=>{if(Cr(t,r)&&r.substring(0,1)!=="."){const s=At(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(At(e))}}qH(At);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends im{constructor(e){super(),this.indexPath_=e,N(!ae(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?hl(e.name,n.name):s}makePost(e,n){const r=At(e),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,i)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Yc);return new le(ss,e)}toString(){return oN(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH extends im{compare(e,n){const r=e.node.compareTo(n.node);return r===0?hl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=At(e);return new le(n,r)}toString(){return".value"}}const mN=new ZH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return{type:"value",snapshotNode:t}}function ja(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function oc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function e8(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(sc(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ja(n,r)):o.trackChildChange(oc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ue,(i,s)=>{n.hasChild(i)||r.trackChildChange(sc(i,s))}),n.isLeafNode()||n.forEachChild(Ue,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(oc(i,s,o))}else r.trackChildChange(ja(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.indexedFilter_=new yE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ac.getStartPost_(e),this.endPost_=ac.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new le(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const s=this;return n.forEachChild(Ue,(o,a)=>{s.matches(new le(o,a))||(i=i.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ac(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new le(n,r))||(r=Q.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Q.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new le(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(oc(n,r,h)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(sc(n,h));const _=a.updateImmediateChild(n,Q.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(ja(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(sc(u.name,u.node)),s.trackChildChange(ja(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ao}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new _E;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function n8(t){return t.loadsAllData()?new yE(t.getIndex()):t.hasLimit()?new t8(t):new ac(t)}function r8(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function i8(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function s8(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function yN(t,e){const n=t.copy();return n.index_=e,n}function BI(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===mN?n="$value":t.index_===qi?n="$key":(N(t.index_ instanceof gE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=rt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+rt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=rt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WI(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends rN{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=kf.getListenId_(e,r),a={};this.listens_[o]=a;const l=BI(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let h=c;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),ka(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,n){const r=kf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=BI(e._queryParams),r=e._path.toString(),i=new X0;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Uu(a.responseText)}catch{mn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&mn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(){return{value:null,children:new Map}}function _N(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=de(e);t.children.has(r)||t.children.set(r,Of());const i=t.children.get(r);e=Re(e),_N(i,e,n)}}function iv(t,e,n){t.value!==null?n(e,t.value):a8(t,(r,i)=>{const s=new Ie(e.toString()+"/"+r);iv(i,s,n)})}function a8(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ln(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=10*1e3,u8=30*1e3,c8=5*60*1e3;class h8{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new l8(e);const r=HI+(u8-HI)*Math.random();au(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ln(e,(i,s)=>{s>0&&Cr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),au(this.reportStats_.bind(this),Math.floor(Math.random()*2*c8))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wn||(Wn={}));function vN(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wE(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wn.ACK_USER_WRITE,this.source=vN()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new Nf(me(),n,this.revert)}}else return N(de(this.path)===e,"operationForChild called for unrelated child."),new Nf(Re(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.source=e,this.path=n,this.type=Wn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new lc(this.source,me()):new lc(this.source,Re(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wn.OVERWRITE}operationForChild(e){return ae(this.path)?new lo(this.source,me(),this.snap.getImmediateChild(e)):new lo(this.source,Re(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new lo(this.source,me(),n.value):new uc(this.source,me(),n)}else return N(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uc(this.source,Re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function f8(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(e8(o.childName,o.snapshotNode))}),kl(t,i,"child_removed",e,r,n),kl(t,i,"child_added",e,r,n),kl(t,i,"child_moved",s,r,n),kl(t,i,"child_changed",e,r,n),kl(t,i,"value",e,r,n),i}function kl(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>m8(t,a,l)),o.forEach(a=>{const l=p8(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function p8(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function m8(t,e,n){if(e.childName==null||n.childName==null)throw tl("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),i=new le(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){return{eventCache:t,serverCache:e}}function lu(t,e,n,r){return sm(new as(e,n,r),t.serverCache)}function wN(t,e,n,r){return sm(t.eventCache,new as(e,n,r))}function Df(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function uo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg;const g8=()=>(Wg||(Wg=new nn(eH)),Wg);class Ne{constructor(e,n=g8()){this.value=e,this.children=n}static fromObject(e){let n=new Ne(null);return ln(e,(r,i)=>{n=n.set(new Ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ae(e))return null;{const r=de(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Re(e),n);return s!=null?{path:st(new Ie(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=de(e),r=this.children.get(n);return r!==null?r.subtree(Re(e)):new Ne(null)}}set(e,n){if(ae(e))return new Ne(n,this.children);{const r=de(e),s=(this.children.get(r)||new Ne(null)).set(Re(e),n),o=this.children.insert(r,s);return new Ne(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=de(e),r=this.children.get(n);if(r){const i=r.remove(Re(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Ne(null):new Ne(this.value,s)}else return this}}get(e){if(ae(e))return this.value;{const n=de(e),r=this.children.get(n);return r?r.get(Re(e)):null}}setTree(e,n){if(ae(e))return n;{const r=de(e),s=(this.children.get(r)||new Ne(null)).setTree(Re(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Ne(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(st(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ae(e))return null;{const s=de(e),o=this.children.get(s);return o?o.findOnPath_(Re(e),st(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const i=de(e),s=this.children.get(i);return s?s.foreachOnPath_(Re(e),st(n,i),r):new Ne(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(st(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.writeTree_=e}static empty(){return new Kn(new Ne(null))}}function uu(t,e,n){if(ae(e))return new Kn(new Ne(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Gt(i,e);return s=s.updateChild(o,n),new Kn(t.writeTree_.set(i,s))}else{const i=new Ne(n),s=t.writeTree_.setTree(e,i);return new Kn(s)}}}function qI(t,e,n){let r=t;return ln(n,(i,s)=>{r=uu(r,st(e,i),s)}),r}function GI(t,e){if(ae(e))return Kn.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new Kn(n)}}function sv(t,e){return Co(t,e)!=null}function Co(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Gt(n.path,e)):null}function KI(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(r,i)=>{e.push(new le(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new le(r,i.value))}),e}function Gi(t,e){if(ae(e))return t;{const n=Co(t,e);return n!=null?new Kn(new Ne(n)):new Kn(t.writeTree_.subtree(e))}}function ov(t){return t.writeTree_.isEmpty()}function za(t,e){return EN(me(),t.writeTree_,e)}function EN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=EN(st(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(st(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){return CN(e,t)}function y8(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=uu(t.visibleWrites,e,n)),t.lastWriteId=r}function _8(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function v8(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&w8(a,r.path)?i=!1:Bn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return E8(t),!0;if(r.snap)t.visibleWrites=GI(t.visibleWrites,r.path);else{const a=r.children;ln(a,l=>{t.visibleWrites=GI(t.visibleWrites,st(r.path,l))})}return!0}else return!1}function w8(t,e){if(t.snap)return Bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bn(st(t.path,n),e))return!0;return!1}function E8(t){t.visibleWrites=TN(t.allWrites,T8,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function T8(t){return t.visible}function TN(t,e,n){let r=Kn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Bn(n,o)?(a=Gt(n,o),r=uu(r,a,s.snap)):Bn(o,n)&&(a=Gt(o,n),r=uu(r,me(),s.snap.getChild(a)));else if(s.children){if(Bn(n,o))a=Gt(n,o),r=qI(r,a,s.children);else if(Bn(o,n))if(a=Gt(o,n),ae(a))r=qI(r,me(),s.children);else{const l=ka(s.children,de(a));if(l){const u=l.getChild(Re(a));r=uu(r,me(),u)}}}else throw tl("WriteRecord should have .snap or .children")}}return r}function SN(t,e,n,r,i){if(!r&&!i){const s=Co(t.visibleWrites,e);if(s!=null)return s;{const o=Gi(t.visibleWrites,e);if(ov(o))return n;if(n==null&&!sv(o,me()))return null;{const a=n||Q.EMPTY_NODE;return za(o,a)}}}else{const s=Gi(t.visibleWrites,e);if(!i&&ov(s))return n;if(!i&&n==null&&!sv(s,me()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Bn(u.path,e)||Bn(e,u.path))},a=TN(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return za(a,l)}}}function S8(t,e,n){let r=Q.EMPTY_NODE;const i=Co(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ue,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Gi(t.visibleWrites,e);return n.forEachChild(Ue,(o,a)=>{const l=za(Gi(s,new Ie(o)),a);r=r.updateImmediateChild(o,l)}),KI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Gi(t.visibleWrites,e);return KI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function I8(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=st(e,n);if(sv(t.visibleWrites,s))return null;{const o=Gi(t.visibleWrites,s);return ov(o)?i.getChild(n):za(o,i.getChild(n))}}function C8(t,e,n,r){const i=st(e,n),s=Co(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Gi(t.visibleWrites,i);return za(o,r.getNode().getImmediateChild(n))}else return null}function A8(t,e){return Co(t.visibleWrites,e)}function R8(t,e,n,r,i,s,o){let a;const l=Gi(t.visibleWrites,e),u=Co(l,me());if(u!=null)a=u;else if(n!=null)a=za(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=d.getNext();for(;f&&c.length<i;)h(f,r)!==0&&c.push(f),f=d.getNext();return c}else return[]}function P8(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}function Mf(t,e,n,r){return SN(t.writeTree,t.treePath,e,n,r)}function EE(t,e){return S8(t.writeTree,t.treePath,e)}function QI(t,e,n,r){return I8(t.writeTree,t.treePath,e,n,r)}function Lf(t,e){return A8(t.writeTree,st(t.treePath,e))}function b8(t,e,n,r,i,s){return R8(t.writeTree,t.treePath,e,n,r,i,s)}function TE(t,e,n){return C8(t.writeTree,t.treePath,e,n)}function IN(t,e){return CN(st(t.treePath,e),t.writeTree)}function CN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,oc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ja(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,oc(r,e.snapshotNode,i.oldSnap));else throw tl("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const AN=new k8;class SE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new as(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return TE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:uo(this.viewCache_),s=b8(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){return{filter:t}}function N8(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function D8(t,e,n,r,i){const s=new x8;let o,a;if(n.type===Wn.OVERWRITE){const u=n;u.source.fromUser?o=av(t,e,u.path,u.snap,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ae(u.path),o=$f(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Wn.MERGE){const u=n;u.source.fromUser?o=L8(t,e,u.path,u.children,r,i,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=lv(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Wn.ACK_USER_WRITE){const u=n;u.revert?o=V8(t,e,u.path,r,i,s):o=$8(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Wn.LISTEN_COMPLETE)o=F8(t,e,n.path,r,s);else throw tl("Unknown operation type: "+n.type);const l=s.getChanges();return M8(e,o,l),{viewCache:o,changes:l}}function M8(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Df(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(gN(Df(e)))}}function RN(t,e,n,r,i,s){const o=e.eventCache;if(Lf(r,n)!=null)return e;{let a,l;if(ae(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=uo(e),c=u instanceof Q?u:Q.EMPTY_NODE,h=EE(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=Mf(r,uo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=de(n);if(u===".priority"){N(os(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const h=QI(r,n,c,l);h!=null?a=t.filter.updatePriority(c,h):a=o.getNode()}else{const c=Re(n);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const d=QI(r,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(u).updateChild(c,d):h=o.getNode().getImmediateChild(u)}else h=TE(r,u,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),u,h,c,i,s):a=o.getNode()}}return lu(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function $f(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(ae(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=de(n);if(!l.isCompleteForPath(n)&&os(n)>1)return e;const g=Re(n),v=l.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?u=c.updatePriority(l.getNode(),v):u=c.updateChild(l.getNode(),f,v,g,AN,null)}const h=wN(e,u,l.isFullyInitialized()||ae(n),c.filtersNodes()),d=new SE(i,h,s);return RN(t,h,n,i,d,a)}function av(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new SE(i,e,s);if(ae(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=lu(e,u,!0,t.filter.filtersNodes());else{const h=de(n);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=lu(e,u,a.isFullyInitialized(),a.isFiltered());else{const d=Re(n),f=a.getNode().getImmediateChild(h);let g;if(ae(d))g=r;else{const _=c.getCompleteChild(h);_!=null?sN(d)===".priority"&&_.getChild(aN(d)).isEmpty()?g=_:g=_.updateChild(d,r):g=Q.EMPTY_NODE}if(f.equals(g))l=e;else{const _=t.filter.updateChild(a.getNode(),h,g,d,c,o);l=lu(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YI(t,e){return t.eventCache.isCompleteForChild(e)}function L8(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=st(n,l);YI(e,de(c))&&(a=av(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=st(n,l);YI(e,de(c))||(a=av(t,a,c,u,i,s,o))}),a}function XI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lv(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ae(n)?u=r:u=new Ne(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(c.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),g=XI(t,f,d);l=$f(t,l,new Ie(h),g,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!c.hasChild(h)&&!f){const g=e.serverCache.getNode().getImmediateChild(h),_=XI(t,g,d);l=$f(t,l,new Ie(h),_,i,s,o,a)}}),l}function $8(t,e,n,r,i,s,o){if(Lf(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $f(t,e,n,l.getNode().getChild(n),i,s,a,o);if(ae(n)){let u=new Ne(null);return l.getNode().forEachChild(qi,(c,h)=>{u=u.set(new Ie(c),h)}),lv(t,e,n,u,i,s,a,o)}else return e}else{let u=new Ne(null);return r.foreach((c,h)=>{const d=st(n,c);l.isCompleteForPath(d)&&(u=u.set(c,l.getNode().getChild(d)))}),lv(t,e,n,u,i,s,a,o)}}function F8(t,e,n,r,i){const s=e.serverCache,o=wN(e,s.getNode(),s.isFullyInitialized()||ae(n),s.isFiltered());return RN(t,o,n,r,AN,i)}function V8(t,e,n,r,i,s){let o;if(Lf(r,n)!=null)return e;{const a=new SE(r,e,i),l=e.eventCache.getNode();let u;if(ae(n)||de(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Mf(r,uo(e));else{const h=e.serverCache.getNode();N(h instanceof Q,"serverChildren would be complete if leaf node"),c=EE(r,h)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=de(n);let h=TE(r,c,e.serverCache);h==null&&e.serverCache.isCompleteForChild(c)&&(h=l.getImmediateChild(c)),h!=null?u=t.filter.updateChild(l,c,h,Re(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Q.EMPTY_NODE,Re(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mf(r,uo(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Lf(r,me())!=null,lu(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new yE(r.getIndex()),s=n8(r);this.processor_=O8(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),c=new as(l,o.isFullyInitialized(),i.filtersNodes()),h=new as(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=sm(h,c),this.eventGenerator_=new d8(this.query_)}get query(){return this.query_}}function j8(t){return t.viewCache_.serverCache.getNode()}function z8(t){return Df(t.viewCache_)}function B8(t,e){const n=uo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function JI(t){return t.eventRegistrations_.length===0}function W8(t,e){t.eventRegistrations_.push(e)}function ZI(t,e,n){const r=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function eC(t,e,n,r){e.type===Wn.MERGE&&e.source.queryId!==null&&(N(uo(t.viewCache_),"We should always have a full cache before handling merges"),N(Df(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=D8(t.processor_,i,e,n,r);return N8(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,PN(t,s.changes,s.viewCache.eventCache.getNode(),null)}function H8(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(s,o)=>{r.push(ja(s,o))}),n.isFullyInitialized()&&r.push(gN(n.getNode())),PN(t,r,n.getNode(),e)}function PN(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return f8(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff;class bN{constructor(){this.views=new Map}}function q8(t){N(!Ff,"__referenceConstructor has already been defined"),Ff=t}function G8(){return N(Ff,"Reference.ts has not been loaded"),Ff}function K8(t){return t.views.size===0}function IE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),eC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(eC(o,e,n,r));return s}}function xN(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Mf(n,i?r:null),l=!1;a?l=!0:r instanceof Q?(a=EE(n,r),l=!1):(a=Q.EMPTY_NODE,l=!1);const u=sm(new as(a,l,!1),new as(r,i,!1));return new U8(e,u)}return o}function Q8(t,e,n,r,i,s){const o=xN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),W8(o,n),H8(o,n)}function Y8(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=ls(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(ZI(u,n,r)),JI(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(ZI(l,n,r)),JI(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!ls(t)&&s.push(new(G8())(e._repo,e._path)),{removed:s,events:o}}function kN(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ki(t,e){let n=null;for(const r of t.views.values())n=n||B8(r,e);return n}function ON(t,e){if(e._queryParams.loadsAllData())return am(t);{const r=e._queryIdentifier;return t.views.get(r)}}function NN(t,e){return ON(t,e)!=null}function ls(t){return am(t)!=null}function am(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;function X8(t){N(!Vf,"__referenceConstructor has already been defined"),Vf=t}function J8(){return N(Vf,"Reference.ts has not been loaded"),Vf}let Z8=1;class tC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=P8(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eq(t,e,n,r,i){return y8(t.pendingWriteTree_,e,n,r,i),i?Jc(t,new lo(vN(),e,n)):[]}function ia(t,e,n=!1){const r=_8(t.pendingWriteTree_,e);if(v8(t.pendingWriteTree_,e)){let s=new Ne(null);return r.snap!=null?s=s.set(me(),!0):ln(r.children,o=>{s=s.set(new Ie(o),!0)}),Jc(t,new Nf(r.path,s,n))}else return[]}function Xc(t,e,n){return Jc(t,new lo(vE(),e,n))}function tq(t,e,n){const r=Ne.fromObject(n);return Jc(t,new uc(vE(),e,r))}function nq(t,e){return Jc(t,new lc(vE(),e))}function rq(t,e,n){const r=CE(t,n);if(r){const i=AE(r),s=i.path,o=i.queryId,a=Gt(s,e),l=new lc(wE(o),a);return RE(t,s,l)}else return[]}function DN(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||NN(o,e))){const l=Y8(o,e,n,r);K8(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,f)=>ls(f));if(c&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=aq(d);for(let g=0;g<f.length;++g){const _=f[g],v=_.query,m=VN(t,_);t.listenProvider_.startListening(cu(v),cc(t,v),m.hashFn,m.onComplete)}}}!h&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(cu(e),null):u.forEach(d=>{const f=t.queryToTagMap.get(lm(d));t.listenProvider_.stopListening(cu(d),f)}))}lq(t,u)}return a}function MN(t,e,n,r){const i=CE(t,r);if(i!=null){const s=AE(i),o=s.path,a=s.queryId,l=Gt(o,e),u=new lo(wE(a),l,n);return RE(t,o,u)}else return[]}function iq(t,e,n,r){const i=CE(t,r);if(i){const s=AE(i),o=s.path,a=s.queryId,l=Gt(o,e),u=Ne.fromObject(n),c=new uc(wE(a),l,u);return RE(t,o,c)}else return[]}function sq(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(d,f)=>{const g=Gt(d,i);s=s||Ki(f,g),o=o||ls(f)});let a=t.syncPointTree_.get(i);a?(o=o||ls(a),s=s||Ki(a,me())):(a=new bN,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Q.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,g)=>{const _=Ki(g,me());_&&(s=s.updateImmediateChild(f,_))}));const u=NN(a,e);if(!u&&!e._queryParams.loadsAllData()){const d=lm(e);N(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=uq();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const c=om(t.pendingWriteTree_,i);let h=Q8(a,e,n,c,s,l);if(!u&&!o&&!r){const d=ON(a,e);h=h.concat(cq(t,e,d))}return h}function LN(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Gt(o,e),u=Ki(a,l);if(u)return u});return SN(i,e,s,n,!0)}function oq(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const h=Gt(u,n);r=r||Ki(c,h)});let i=t.syncPointTree_.get(n);i?r=r||Ki(i,me()):(i=new bN,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new as(r,!0,!1):null,a=om(t.pendingWriteTree_,e._path),l=xN(i,e,a,s?o.getNode():Q.EMPTY_NODE,s);return z8(l)}function Jc(t,e){return $N(e,t.syncPointTree_,null,om(t.pendingWriteTree_,me()))}function $N(t,e,n,r){if(ae(t.path))return FN(t,e,n,r);{const i=e.get(me());n==null&&i!=null&&(n=Ki(i,me()));let s=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=IN(r,o);s=s.concat($N(a,l,u,c))}return i&&(s=s.concat(IE(i,t,r,n))),s}}function FN(t,e,n,r){const i=e.get(me());n==null&&i!=null&&(n=Ki(i,me()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=IN(r,o),c=t.operationForChild(o);c&&(s=s.concat(FN(c,a,l,u)))}),i&&(s=s.concat(IE(i,t,r,n))),s}function VN(t,e){const n=e.query,r=cc(t,n);return{hashFn:()=>(j8(e)||Q.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?rq(t,n._path,r):nq(t,n._path);{const s=rH(i,n);return DN(t,n,null,s)}}}}function cc(t,e){const n=lm(e);return t.queryToTagMap.get(n)}function lm(t){return t._path.toString()+"$"+t._queryIdentifier}function CE(t,e){return t.tagToQueryMap.get(e)}function AE(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function RE(t,e,n){const r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");const i=om(t.pendingWriteTree_,e);return IE(r,n,i,null)}function aq(t){return t.fold((e,n,r)=>{if(n&&ls(n))return[am(n)];{let i=[];return n&&(i=kN(n)),ln(r,(s,o)=>{i=i.concat(o)}),i}})}function cu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(J8())(t._repo,t._path):t}function lq(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=lm(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function uq(){return Z8++}function cq(t,e,n){const r=e._path,i=cc(t,e),s=VN(t,n),o=t.listenProvider_.startListening(cu(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)N(!ls(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,h)=>{if(!ae(u)&&c&&ls(c))return[am(c).query];{let d=[];return c&&(d=d.concat(kN(c).map(f=>f.query))),ln(h,(f,g)=>{d=d.concat(g)}),d}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(cu(c),cc(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PE(n)}node(){return this.node_}}class bE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=st(this.path_,e);return new bE(this.syncTree_,n)}node(){return LN(this.syncTree_,this.path_)}}const hq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nC=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return dq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return fq(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},dq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},fq=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);const i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},pq=function(t,e,n,r){return xE(e,new bE(n,t),r)},mq=function(t,e,n){return xE(t,new PE(e),n)};function xE(t,e,n){const r=t.getPriority().val(),i=nC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=nC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ht(a,At(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ht(i))),o.forEachChild(Ue,(a,l)=>{const u=xE(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function OE(t,e){let n=e instanceof Ie?e:new Ie(e),r=t,i=de(n);for(;i!==null;){const s=ka(r.node.children,i)||{children:{},childCount:0};r=new kE(i,r,s),n=Re(n),i=de(n)}return r}function dl(t){return t.node.value}function UN(t,e){t.node.value=e,uv(t)}function jN(t){return t.node.childCount>0}function gq(t){return dl(t)===void 0&&!jN(t)}function um(t,e){ln(t.node.children,(n,r)=>{e(new kE(n,t,r))})}function zN(t,e,n,r){n&&!r&&e(t),um(t,i=>{zN(i,e,!0,r)}),n&&r&&e(t)}function yq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Zc(t){return new Ie(t.parent===null?t.name:Zc(t.parent)+"/"+t.name)}function uv(t){t.parent!==null&&_q(t.parent,t.name,t)}function _q(t,e,n){const r=gq(n),i=Cr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,uv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,uv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=/[\[\].#$\/\u0000-\u001F\u007F]/,wq=/[\[\].#$\u0000-\u001F\u007F]/,Hg=10*1024*1024,NE=function(t){return typeof t=="string"&&t.length!==0&&!vq.test(t)},BN=function(t){return typeof t=="string"&&t.length!==0&&!wq.test(t)},Eq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),BN(t)},rC=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!uE(t)||t&&typeof t=="object"&&Cr(t,".sv")},WN=function(t,e,n,r){r&&e===void 0||DE(Tp(t,"value"),e,n)},DE=function(t,e,n){const r=n instanceof Ie?new LH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rs(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rs(r)+" with contents = "+e.toString());if(uE(e))throw new Error(t+"contains "+e.toString()+" "+Rs(r));if(typeof e=="string"&&e.length>Hg/3&&Sp(e)>Hg)throw new Error(t+"contains a string greater than "+Hg+" utf8 bytes "+Rs(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(ln(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!NE(o)))throw new Error(t+" contains an invalid key ("+o+") "+Rs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$H(r,o),DE(t,a,r),FH(r)}),i&&s)throw new Error(t+' contains ".value" child '+Rs(r)+" in addition to actual children.")}},HN=function(t,e,n,r){if(!(r&&n===void 0)&&!NE(n))throw new Error(Tp(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ME=function(t,e,n,r){if(!(r&&n===void 0)&&!BN(n))throw new Error(Tp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Tq=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ME(t,e,n,r)},Sq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!NE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Eq(n))throw new Error(Tp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!lN(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function vs(t,e,n){Cq(t,n),Aq(t,r=>Bn(r,e)||Bn(e,r))}function Aq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Rq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Rq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ws&&Vt("event: "+n.toString()),Qc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="repo_interrupt",bq=25;class xq{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Iq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Of(),this.transactionQueueTree_=new kE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kq(t,e,n){if(t.stats_=dE(t.repoInfo_),t.forceRestClient_||aH())t.server_=new kf(t.repoInfo_,(r,i,s,o)=>{iC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gr(t.repoInfo_,e,(r,i,s,o)=>{iC(t,r,i,s,o)},r=>{sC(t,r)},r=>{Nq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dH(t.repoInfo_,()=>new h8(t.stats_,t.server_)),t.infoData_=new o8,t.infoSyncTree_=new tC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Xc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),LE(t,"connected",!1),t.serverSyncTree_=new tC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);vs(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Oq(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qN(t){return hq({timestamp:Oq(t)})}function iC(t,e,n,r,i){t.dataUpdateCount++;const s=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=sf(n,u=>At(u));o=iq(t.serverSyncTree_,s,l,i)}else{const l=At(n);o=MN(t.serverSyncTree_,s,l,i)}else if(r){const l=sf(n,u=>At(u));o=tq(t.serverSyncTree_,s,l)}else{const l=At(n);o=Xc(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=VE(t,s)),vs(t.eventQueue_,a,o)}function sC(t,e){LE(t,"connected",e),e===!1&&Lq(t)}function Nq(t,e){ln(e,(n,r)=>{LE(t,n,r)})}function LE(t,e,n){const r=new Ie("/.info/"+e),i=At(n);t.infoData_.updateSnapshot(r,i);const s=Xc(t.infoSyncTree_,r,i);vs(t.eventQueue_,r,s)}function Dq(t){return t.nextWriteId_++}function Mq(t,e,n){const r=oq(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=At(i).withIndex(e._queryParams.getIndex());sq(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Xc(t.serverSyncTree_,e._path,s);else{const a=cc(t.serverSyncTree_,e);o=MN(t.serverSyncTree_,e._path,s,a)}return vs(t.eventQueue_,e._path,o),DN(t.serverSyncTree_,e,n,null,!0),s},i=>($E(t,"get for query "+rt(e)+" failed: "+i),Promise.reject(new Error(i))))}function Lq(t){$E(t,"onDisconnectEvents");const e=qN(t),n=Of();iv(t.onDisconnect_,me(),(i,s)=>{const o=pq(i,s,t.serverSyncTree_,e);_N(n,i,o)});let r=[];iv(n,me(),(i,s)=>{r=r.concat(Xc(t.serverSyncTree_,i,s));const o=Uq(t,i);VE(t,o)}),t.onDisconnect_=Of(),vs(t.eventQueue_,me(),r)}function $q(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pq)}function $E(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vt(n,...e)}function GN(t,e,n){return LN(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function FE(t,e=t.transactionQueueTree_){if(e||cm(t,e),dl(e)){const n=QN(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Fq(t,Zc(e),n)}else jN(e)&&um(e,n=>{FE(t,n)})}function Fq(t,e,n){const r=n.map(u=>u.currentWriteId),i=GN(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const h=Gt(e,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{$E(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,c=c.concat(ia(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();cm(t,OE(t.transactionQueueTree_,e)),FE(t,t.transactionQueueTree_),vs(t.eventQueue_,e,c);for(let d=0;d<h.length;d++)Qc(h[d])}else{if(u==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{mn("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=u}VE(t,e)}},o)}function VE(t,e){const n=KN(t,e),r=Zc(n),i=QN(t,n);return Vq(t,i,r),r}function Vq(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Gt(n,l.path);let c=!1,h;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,h=l.abortReason,i=i.concat(ia(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bq)c=!0,h="maxretry",i=i.concat(ia(t.serverSyncTree_,l.currentWriteId,!0));else{const d=GN(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){DE("transaction failed: Data returned ",f,l.path);let g=At(f);typeof f=="object"&&f!=null&&Cr(f,".priority")||(g=g.updatePriority(d.getPriority()));const v=l.currentWriteId,m=qN(t),p=mq(g,d,m);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=p,l.currentWriteId=Dq(t),o.splice(o.indexOf(v),1),i=i.concat(eq(t.serverSyncTree_,l.path,p,l.currentWriteId,l.applyLocally)),i=i.concat(ia(t.serverSyncTree_,v,!0))}else c=!0,h="nodata",i=i.concat(ia(t.serverSyncTree_,l.currentWriteId,!0))}vs(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}cm(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qc(r[a]);FE(t,t.transactionQueueTree_)}function KN(t,e){let n,r=t.transactionQueueTree_;for(n=de(e);n!==null&&dl(r)===void 0;)r=OE(r,n),e=Re(e),n=de(e);return r}function QN(t,e){const n=[];return YN(t,e,n),n.sort((r,i)=>r.order-i.order),n}function YN(t,e,n){const r=dl(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);um(e,i=>{YN(t,i,n)})}function cm(t,e){const n=dl(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,UN(e,n.length>0?n:void 0)}um(e,r=>{cm(t,r)})}function Uq(t,e){const n=Zc(KN(t,e)),r=OE(t.transactionQueueTree_,e);return yq(r,i=>{qg(t,i)}),qg(t,r),zN(r,i=>{qg(t,i)}),n}function qg(t,e){const n=dl(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ia(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?UN(e,void 0):n.length=s+1,vs(t.eventQueue_,Zc(e),i);for(let o=0;o<r.length;o++)Qc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function zq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mn(`Invalid query segment '${n}' in query '${t}'`)}return e}const oC=function(t,e){const n=Bq(t),r=n.namespace;n.domain==="firebase.com"&&ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||JW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new YO(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ie(n.pathString)}},Bq=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(c,h)),c<h&&(i=jq(t.substring(c,h)));const d=zq(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class Hq{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ae(this._path)?null:sN(this._path)}get ref(){return new ui(this._repo,this._path)}get _queryIdentifier(){const e=WI(this._queryParams),n=cE(e);return n==="{}"?"default":n}get _queryObject(){return WI(this._queryParams)}isEqual(e){if(e=et(e),!(e instanceof ws))return!1;const n=this._repo===e._repo,r=lN(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+MH(this._path)}}function XN(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function hm(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qi){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ao)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==ss)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===Ue){if(e!=null&&!rC(e)||n!=null&&!rC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(N(t.getIndex()instanceof gE||t.getIndex()===mN,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function JN(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ui extends ws{constructor(e,n){super(e,n,new _E,!1)}get parent(){const e=aN(this._path);return e===null?null:new ui(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class hc{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),r=cv(this.ref,e);return new hc(this._node.getChild(n),r,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new hc(i,cv(this.ref,r),Ue)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ZN(t,e){return t=et(t),t._checkNotDeleted("ref"),e!==void 0?cv(t._root,e):t._root}function cv(t,e){return t=et(t),de(t._path)===null?Tq("child","path",e,!1):ME("child","path",e,!1),new ui(t._repo,st(t._path,e))}function eD(t){t=et(t);const e=new qq(()=>{}),n=new UE(e);return Mq(t._repo,t,n).then(r=>new hc(r,new ui(t._repo,t._path),t._queryParams.getIndex()))}class UE{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Wq("value",this,new hc(e.snapshotNode,new ui(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Hq(this,e,n):null}matches(e){return e instanceof UE?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class eh{}class Gq extends eh{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){WN("endAt",this._value,e._path,!0);const n=s8(e._queryParams,this._value,this._key);if(JN(n),hm(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ws(e._repo,e._path,n,e._orderByCalled)}}function Kq(t,e){return HN("endAt","key",e,!0),new Gq(t,e)}class Qq extends eh{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){WN("startAt",this._value,e._path,!0);const n=i8(e._queryParams,this._value,this._key);if(JN(n),hm(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ws(e._repo,e._path,n,e._orderByCalled)}}function tD(t=null,e){return HN("startAt","key",e,!0),new Qq(t,e)}class Yq extends eh{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ws(e._repo,e._path,r8(e._queryParams,this._limit),e._orderByCalled)}}function Xq(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Yq(t)}class Jq extends eh{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){XN(e,"orderByChild");const n=new Ie(this._path);if(ae(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new gE(n),i=yN(e._queryParams,r);return hm(i),new ws(e._repo,e._path,i,!0)}}function Lo(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ME("orderByChild","path",t,!1),new Jq(t)}class Zq extends eh{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){XN(e,"orderByKey");const n=yN(e._queryParams,qi);return hm(n),new ws(e._repo,e._path,n,!0)}}function nD(){return new Zq}function mi(t,...e){let n=et(t);for(const r of e)n=r._apply(n);return n}q8(ui);X8(ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="FIREBASE_DATABASE_EMULATOR_HOST",hv={};let t7=!1;function n7(t,e,n,r){t.repoInfo_=new YO(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function r7(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=oC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[e7]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=oC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Ea(Ea.OWNER):new uH(t.name,t.options,e);Sq("Invalid Firebase Database URL",o),ae(o.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const h=s7(a,t,c,new lH(t.name,n));return new o7(h,t)}function i7(t,e){const n=hv[e];(!n||n[t.key]!==t)&&ri(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$q(t),delete n[t.key]}function s7(t,e,n,r){let i=hv[e.name];i||(i={},hv[e.name]=i);let s=i[t.toURLString()];return s&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xq(t,t7,n,r),i[t.toURLString()]=s,s}class o7{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ui(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ri("Cannot call "+e+" on a deleted database.")}}function rD(t=ew(),e){const n=Cp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Sb("database");r&&a7(n,...r)}return n}function a7(t,e,n,r={}){t=et(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ri("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ea(Ea.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Ab(r.mockUserToken,t.app.options.projectId);s=new Ea(o)}n7(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){GW(vo),to(new ts("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return r7(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mr(RI,PI,t),mr(RI,PI,"esm2017")}Gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};l7();const Gg=ps("nanny/fetchUserData",async(t,e)=>{try{const n=rD(),r=ZN(n),i=mi(r,nD(),tD(String((t-1)*3)),Xq(3)),s=await eD(i);let o=[];return s.forEach(a=>{o.push(a.val())}),o}catch(n){return Gn.error("Error fetching data"),e.rejectWithValue(n.message)}}),Kg=ps("nanny/fetchFilteredData",async(t,e)=>{try{const n=rD(),r=ZN(n);let i;switch(t){case"az":i=mi(r,Lo("name"));break;case"za":i=mi(r,Lo("name"));break;case"less":i=mi(r,Lo("price_per_hour"),Kq(10));break;case"greater":i=mi(r,Lo("price_per_hour"),tD(10));break;case"popular":i=mi(r,Lo("rating"));break;case"notPopular":i=mi(r,Lo("rating"));break;case"all":i=mi(r,nD());break}const s=await eD(i);let o=[];switch(s.forEach(a=>{o.push(a.val())}),t){case"za":o.sort((a,l)=>a.name<l.name?1:-1);break;case"popular":o.sort((a,l)=>l.rating-a.rating);break}return o}catch(n){return Gn.error("Error fetching data"),e.rejectWithValue(n.message)}}),aC=t=>{t.loading=!0,t.error=null},lC=(t,e)=>{t.loading=!1,t.error=e.payload},u7={error:null,loading:!1,nannyList:[],filteredList:[],filter:null,isVisibleButton:!0},iD=U0({name:"nannies",initialState:u7,reducers:{setFilterOption(t,e){t.filter=e.payload},resetFilterOption(t){t.filter=null}},extraReducers:t=>{t.addCase(Gg.pending,aC).addCase(Gg.fulfilled,(e,n)=>{e.loading=!1,e.filter=null,e.isVisibleButton=!0,e.nannyList.some(i=>i.id===n.payload[0].id)?e.nannyList=n.payload:e.nannyList.push(...n.payload),n.payload.length<3&&(e.isVisibleButton=!1),e.error=null}).addCase(Gg.rejected,lC).addCase(Kg.pending,aC).addCase(Kg.fulfilled,(e,n)=>{e.loading=!1,e.isVisibleButton=!1,e.nannyList=n.payload,e.error=null}).addCase(Kg.rejected,lC)}}),c7=iD.reducer,{setFilterOption:Cte,resetFilterOption:Ate}=iD.actions,Rte=ps("favorites/addToFavorites",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return Gn.error("You must be logged in to add favorites!"),e("User is not logged in!");try{const r=O5(lE,"users",`${n.uid}`);Y5(r,t,{merge:!0}),console.log(r);const i=await K5(r);console.log(i),i.exists()?console.log("Document data:",i.data()):console.log("No such document!")}catch(r){return console.log(r),e(r.message)}}),Qg=ps("favorites/fetchFavorites",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return console.error("User is not logged in!"),e("User is not logged in!");const r=lE.collection("users").doc(n.uid).collection("objects");try{const i=await r.get(),s=[];return i.forEach(o=>{s.push({id:o.id,...o.data()})}),s}catch(i){return console.error("Error:",i),e(i.message)}}),Yg=ps("favorites/toggleFavorite",async(t,{rejectWithValue:e})=>{const n=cl.currentUser;if(!n)return console.error("User is not logged in!"),e("User is not logged in!");const r=k5(lE,"users",n.uid,"favorites");console.log(r)}),h7={error:null,loading:!1,favorites:[]},d7=U0({name:"favorites",initialState:h7,reducers:{},extraReducers:t=>{t.addCase(Qg.pending,e=>{e.loading=!0,e.error=null}).addCase(Qg.fulfilled,(e,n)=>{e.loading=!1,e.error=null,console.log(n.payload),e.favorites=n.payload}).addCase(Qg.rejected,(e,n)=>{e.loading=!0,e.error=n.payload}).addCase(Yg.pending,e=>{e.loading=!0,e.error=null}).addCase(Yg.fulfilled,(e,n)=>{e.loading=!1,e.error=null,e.favorites.findIndex(i=>i.id===n.payload.id)===-1&&e.favorites.push(n.payload)}).addCase(Yg.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),f7=d7.reducer,p7={key:"auth",storage:yb,whitelist:["userName","userId"]},sD=WV({reducer:{auth:PU(p7,qW),nannies:c7,favorites:f7},middleware:t=>t({serializableCheck:{ignoredActions:[B0,wp,W0,H0,q0,G0]}})});let m7=DU(sD);var gt=function(){return gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gt.apply(this,arguments)};function Ba(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Pte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ke="-ms-",hu="-moz-",ye="-webkit-",oD="comm",dm="rule",jE="decl",g7="@import",aD="@keyframes",y7="@layer",lD=Math.abs,zE=String.fromCharCode,dv=Object.assign;function _7(t,e){return mt(t,0)^45?(((e<<2^mt(t,0))<<2^mt(t,1))<<2^mt(t,2))<<2^mt(t,3):0}function uD(t){return t.trim()}function Nr(t,e){return(t=e.exec(t))?t[0]:t}function ie(t,e,n){return t.replace(e,n)}function _d(t,e,n){return t.indexOf(e,n)}function mt(t,e){return t.charCodeAt(e)|0}function Wa(t,e,n){return t.slice(e,n)}function ar(t){return t.length}function cD(t){return t.length}function Wl(t,e){return e.push(t),t}function v7(t,e){return t.map(e).join("")}function uC(t,e){return t.filter(function(n){return!Nr(n,e)})}var fm=1,Ha=1,hD=0,Dn=0,Xe=0,fl="";function pm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:fm,column:Ha,length:o,return:"",siblings:a}}function gi(t,e){return dv(pm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function $o(t){for(;t.root;)t=gi(t.root,{children:[t]});Wl(t,t.siblings)}function w7(){return Xe}function E7(){return Xe=Dn>0?mt(fl,--Dn):0,Ha--,Xe===10&&(Ha=1,fm--),Xe}function Qn(){return Xe=Dn<hD?mt(fl,Dn++):0,Ha++,Xe===10&&(Ha=1,fm++),Xe}function Hs(){return mt(fl,Dn)}function vd(){return Dn}function mm(t,e){return Wa(fl,t,e)}function fv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T7(t){return fm=Ha=1,hD=ar(fl=t),Dn=0,[]}function S7(t){return fl="",t}function Xg(t){return uD(mm(Dn-1,pv(t===91?t+2:t===40?t+1:t)))}function I7(t){for(;(Xe=Hs())&&Xe<33;)Qn();return fv(t)>2||fv(Xe)>3?"":" "}function C7(t,e){for(;--e&&Qn()&&!(Xe<48||Xe>102||Xe>57&&Xe<65||Xe>70&&Xe<97););return mm(t,vd()+(e<6&&Hs()==32&&Qn()==32))}function pv(t){for(;Qn();)switch(Xe){case t:return Dn;case 34:case 39:t!==34&&t!==39&&pv(Xe);break;case 40:t===41&&pv(t);break;case 92:Qn();break}return Dn}function A7(t,e){for(;Qn()&&t+Xe!==47+10;)if(t+Xe===42+42&&Hs()===47)break;return"/*"+mm(e,Dn-1)+"*"+zE(t===47?t:Qn())}function R7(t){for(;!fv(Hs());)Qn();return mm(t,Dn)}function P7(t){return S7(wd("",null,null,null,[""],t=T7(t),0,[0],t))}function wd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,h=o,d=0,f=0,g=0,_=1,v=1,m=1,p=0,y="",w=i,I=s,T=r,S=y;v;)switch(g=p,p=Qn()){case 40:if(g!=108&&mt(S,h-1)==58){_d(S+=ie(Xg(p),"&","&\f"),"&\f",lD(u?a[u-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Xg(p);break;case 9:case 10:case 13:case 32:S+=I7(g);break;case 92:S+=C7(vd()-1,7);continue;case 47:switch(Hs()){case 42:case 47:Wl(b7(A7(Qn(),vd()),e,n,l),l);break;default:S+="/"}break;case 123*_:a[u++]=ar(S)*m;case 125*_:case 59:case 0:switch(p){case 0:case 125:v=0;case 59+c:m==-1&&(S=ie(S,/\f/g,"")),f>0&&ar(S)-h&&Wl(f>32?hC(S+";",r,n,h-1,l):hC(ie(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Wl(T=cC(S,e,n,u,c,i,a,y,w=[],I=[],h,s),s),p===123)if(c===0)wd(S,e,T,T,w,s,h,a,I);else switch(d===99&&mt(S,3)===110?100:d){case 100:case 108:case 109:case 115:wd(t,T,T,r&&Wl(cC(t,T,T,0,0,i,a,y,i,w=[],h,I),I),i,I,h,a,r?w:I);break;default:wd(S,T,T,T,[""],I,0,a,I)}}u=c=f=0,_=m=1,y=S="",h=o;break;case 58:h=1+ar(S),f=g;default:if(_<1){if(p==123)--_;else if(p==125&&_++==0&&E7()==125)continue}switch(S+=zE(p),p*_){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(ar(S)-1)*m,m=1;break;case 64:Hs()===45&&(S+=Xg(Qn())),d=Hs(),c=h=ar(y=S+=R7(vd())),p++;break;case 45:g===45&&ar(S)==2&&(_=0)}}return s}function cC(t,e,n,r,i,s,o,a,l,u,c,h){for(var d=i-1,f=i===0?s:[""],g=cD(f),_=0,v=0,m=0;_<r;++_)for(var p=0,y=Wa(t,d+1,d=lD(v=o[_])),w=t;p<g;++p)(w=uD(v>0?f[p]+" "+y:ie(y,/&\f/g,f[p])))&&(l[m++]=w);return pm(t,e,n,i===0?dm:a,l,u,c,h)}function b7(t,e,n,r){return pm(t,e,n,oD,zE(w7()),Wa(t,2,-2),0,r)}function hC(t,e,n,r,i){return pm(t,e,n,jE,Wa(t,0,r),Wa(t,r+1,-1),r,i)}function dD(t,e,n){switch(_7(t,e)){case 5103:return ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ye+t+t;case 4789:return hu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ye+t+hu+t+ke+t+t;case 5936:switch(mt(t,e+11)){case 114:return ye+t+ke+ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ye+t+ke+ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ye+t+ke+ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return ye+t+ke+t+t;case 6165:return ye+t+ke+"flex-"+t+t;case 5187:return ye+t+ie(t,/(\w+).+(:[^]+)/,ye+"box-$1$2"+ke+"flex-$1$2")+t;case 5443:return ye+t+ke+"flex-item-"+ie(t,/flex-|-self/g,"")+(Nr(t,/flex-|baseline/)?"":ke+"grid-row-"+ie(t,/flex-|-self/g,""))+t;case 4675:return ye+t+ke+"flex-line-pack"+ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return ye+t+ke+ie(t,"shrink","negative")+t;case 5292:return ye+t+ke+ie(t,"basis","preferred-size")+t;case 6060:return ye+"box-"+ie(t,"-grow","")+ye+t+ke+ie(t,"grow","positive")+t;case 4554:return ye+ie(t,/([^-])(transform)/g,"$1"+ye+"$2")+t;case 6187:return ie(ie(ie(t,/(zoom-|grab)/,ye+"$1"),/(image-set)/,ye+"$1"),t,"")+t;case 5495:case 3959:return ie(t,/(image-set\([^]*)/,ye+"$1$`$1");case 4968:return ie(ie(t,/(.+:)(flex-)?(.*)/,ye+"box-pack:$3"+ke+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ye+t+t;case 4200:if(!Nr(t,/flex-|baseline/))return ke+"grid-column-align"+Wa(t,e)+t;break;case 2592:case 3360:return ke+ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Nr(r.props,/grid-\w+-end/)})?~_d(t+(n=n[e].value),"span",0)?t:ke+ie(t,"-start","")+t+ke+"grid-row-span:"+(~_d(n,"span",0)?Nr(n,/\d+/):+Nr(n,/\d+/)-+Nr(t,/\d+/))+";":ke+ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Nr(r.props,/grid-\w+-start/)})?t:ke+ie(ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ie(t,/(.+)-inline(.+)/,ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(t)-1-e>6)switch(mt(t,e+1)){case 109:if(mt(t,e+4)!==45)break;case 102:return ie(t,/(.+:)(.+)-([^]+)/,"$1"+ye+"$2-$3$1"+hu+(mt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~_d(t,"stretch",0)?dD(ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return ke+i+":"+s+u+(o?ke+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(mt(t,e+6)===121)return ie(t,":",":"+ye)+t;break;case 6444:switch(mt(t,mt(t,14)===45?18:11)){case 120:return ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ye+(mt(t,14)===45?"inline-":"")+"box$3$1"+ye+"$2$3$1"+ke+"$2box$3")+t;case 100:return ie(t,":",":"+ke)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(t,"scroll-","scroll-snap-")+t}return t}function Uf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function x7(t,e,n,r){switch(t.type){case y7:if(t.children.length)break;case g7:case jE:return t.return=t.return||t.value;case oD:return"";case aD:return t.return=t.value+"{"+Uf(t.children,r)+"}";case dm:if(!ar(t.value=t.props.join(",")))return""}return ar(n=Uf(t.children,r))?t.return=t.value+"{"+n+"}":""}function k7(t){var e=cD(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function O7(t){return function(e){e.root||(e=e.return)&&t(e)}}function N7(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case jE:t.return=dD(t.value,t.length,n);return;case aD:return Uf([gi(t,{value:ie(t.value,"@","@"+ye)})],r);case dm:if(t.length)return v7(n=t.props,function(i){switch(Nr(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":$o(gi(t,{props:[ie(i,/:(read-\w+)/,":"+hu+"$1")]})),$o(gi(t,{props:[i]})),dv(t,{props:uC(n,r)});break;case"::placeholder":$o(gi(t,{props:[ie(i,/:(plac\w+)/,":"+ye+"input-$1")]})),$o(gi(t,{props:[ie(i,/:(plac\w+)/,":"+hu+"$1")]})),$o(gi(t,{props:[ie(i,/:(plac\w+)/,ke+"input-$1")]})),$o(gi(t,{props:[i]})),dv(t,{props:uC(n,r)});break}return""})}}var D7={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qa=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",fD="active",pD="data-styled-version",gm="6.1.8",BE=`/*!sc*/
`,WE=typeof window<"u"&&"HTMLElement"in window,M7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),L7={},ym=Object.freeze([]),Ga=Object.freeze({});function mD(t,e,n){return n===void 0&&(n=Ga),t.theme!==n.theme&&t.theme||e||n.theme}var gD=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),$7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,F7=/(^-|-$)/g;function dC(t){return t.replace($7,"-").replace(F7,"")}var V7=/(a)(d)/gi,$h=52,fC=function(t){return String.fromCharCode(t+(t>25?39:97))};function mv(t){var e,n="";for(e=Math.abs(t);e>$h;e=e/$h|0)n=fC(e%$h)+n;return(fC(e%$h)+n).replace(V7,"$1-$2")}var Jg,yD=5381,sa=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},_D=function(t){return sa(yD,t)};function HE(t){return mv(_D(t)>>>0)}function U7(t){return t.displayName||t.name||"Component"}function Zg(t){return typeof t=="string"&&!0}var vD=typeof Symbol=="function"&&Symbol.for,wD=vD?Symbol.for("react.memo"):60115,j7=vD?Symbol.for("react.forward_ref"):60112,z7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ED={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},W7=((Jg={})[j7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jg[wD]=ED,Jg);function pC(t){return("type"in(e=t)&&e.type.$$typeof)===wD?ED:"$$typeof"in t?W7[t.$$typeof]:z7;var e}var H7=Object.defineProperty,q7=Object.getOwnPropertyNames,mC=Object.getOwnPropertySymbols,G7=Object.getOwnPropertyDescriptor,K7=Object.getPrototypeOf,gC=Object.prototype;function TD(t,e,n){if(typeof e!="string"){if(gC){var r=K7(e);r&&r!==gC&&TD(t,r,n)}var i=q7(e);mC&&(i=i.concat(mC(e)));for(var s=pC(t),o=pC(e),a=0;a<i.length;++a){var l=i[a];if(!(l in B7||n&&n[l]||o&&l in o||s&&l in s)){var u=G7(e,l);try{H7(t,l,u)}catch{}}}}return t}function co(t){return typeof t=="function"}function qE(t){return typeof t=="object"&&"styledComponentId"in t}function Vs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function jf(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function dc(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function gv(t,e,n){if(n===void 0&&(n=!1),!n&&!dc(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=gv(t[r],e[r]);else if(dc(e))for(var r in e)t[r]=gv(t[r],e[r]);return t}function GE(t,e){Object.defineProperty(t,"toString",{value:e})}function ho(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Q7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ho(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(BE);return n},t}(),Ed=new Map,zf=new Map,Td=1,Fh=function(t){if(Ed.has(t))return Ed.get(t);for(;zf.has(Td);)Td++;var e=Td++;return Ed.set(t,e),zf.set(e,t),e},Y7=function(t,e){Td=e+1,Ed.set(t,e),zf.set(e,t)},X7="style[".concat(qa,"][").concat(pD,'="').concat(gm,'"]'),J7=new RegExp("^".concat(qa,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Z7=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},eG=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(BE),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(J7);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(Y7(c,u),Z7(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function tG(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var SD=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(qa,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(qa,fD),r.setAttribute(pD,gm);var o=tG();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},nG=function(){function t(e){this.element=SD(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ho(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),rG=function(){function t(e){this.element=SD(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),iG=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),yC=WE,sG={isServer:!WE,useCSSOMInjection:!M7},Bf=function(){function t(e,n,r){e===void 0&&(e=Ga),n===void 0&&(n={});var i=this;this.options=gt(gt({},sG),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&WE&&yC&&(yC=!1,function(s){for(var o=document.querySelectorAll(X7),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(qa)!==fD&&(eG(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),GE(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(h){var d=function(m){return zf.get(m)}(h);if(d===void 0)return"continue";var f=s.names.get(d),g=o.getGroup(h);if(f===void 0||g.length===0)return"continue";var _="".concat(qa,".g").concat(h,'[id="').concat(d,'"]'),v="";f!==void 0&&f.forEach(function(m){m.length>0&&(v+="".concat(m,","))}),l+="".concat(g).concat(_,'{content:"').concat(v,'"}').concat(BE)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return Fh(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(gt(gt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new iG(i):r?new nG(i):new rG(i)}(this.options),new Q7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Fh(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Fh(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Fh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),oG=/&/g,aG=/^\s*\/\/.*$/gm;function ID(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ID(n.children,e)),n})}function lG(t){var e,n,r,i=t===void 0?Ga:t,s=i.options,o=s===void 0?Ga:s,a=i.plugins,l=a===void 0?ym:a,u=function(d,f,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):d},c=l.slice();c.push(function(d){d.type===dm&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(oG,n).replace(r,u))}),o.prefix&&c.push(N7),c.push(x7);var h=function(d,f,g,_){f===void 0&&(f=""),g===void 0&&(g=""),_===void 0&&(_="&"),e=_,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var v=d.replace(aG,""),m=P7(g||f?"".concat(g," ").concat(f," { ").concat(v," }"):v);o.namespace&&(m=ID(m,o.namespace));var p=[];return Uf(m,k7(c.concat(O7(function(y){return p.push(y)})))),p};return h.hash=l.length?l.reduce(function(d,f){return f.name||ho(15),sa(d,f.name)},yD).toString():"",h}var uG=new Bf,yv=lG(),CD=en.createContext({shouldForwardProp:void 0,styleSheet:uG,stylis:yv});CD.Consumer;en.createContext(void 0);function _v(){return E.useContext(CD)}var AD=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=yv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,GE(this,function(){throw ho(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=yv),this.name+e.hash},t}(),cG=function(t){return t>="A"&&t<="Z"};function _C(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;cG(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var RD=function(t){return t==null||t===!1||t===""},PD=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!RD(s)&&(Array.isArray(s)&&s.isCss||co(s)?r.push("".concat(_C(i),":"),s,";"):dc(s)?r.push.apply(r,Ba(Ba(["".concat(i," {")],PD(s),!1),["}"],!1)):r.push("".concat(_C(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in D7||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Qi(t,e,n,r){if(RD(t))return[];if(qE(t))return[".".concat(t.styledComponentId)];if(co(t)){if(!co(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Qi(i,e,n,r)}var s;return t instanceof AD?n?(t.inject(n,r),[t.getName(r)]):[t]:dc(t)?PD(t):Array.isArray(t)?Array.prototype.concat.apply(ym,t.map(function(o){return Qi(o,e,n,r)})):[t.toString()]}function bD(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(co(n)&&!qE(n))return!1}return!0}var hG=_D(gm),dG=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&bD(e),this.componentId=n,this.baseHash=sa(hG,n),this.baseStyle=r,Bf.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Vs(i,this.staticRulesId);else{var s=jf(Qi(this.rules,e,n,r)),o=mv(sa(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Vs(i,o),this.staticRulesId=o}else{for(var l=sa(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")u+=h;else if(h){var d=jf(Qi(h,e,n,r));l=sa(l,d+c),u+=d}}if(u){var f=mv(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(u,".".concat(f),void 0,this.componentId)),i=Vs(i,f)}}return i},t}(),fc=en.createContext(void 0);fc.Consumer;function fG(t){var e=en.useContext(fc),n=E.useMemo(function(){return function(r,i){if(!r)throw ho(14);if(co(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw ho(8);return i?gt(gt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?en.createElement(fc.Provider,{value:n},t.children):null}var ey={};function pG(t,e,n){var r=qE(t),i=t,s=!Zg(t),o=e.attrs,a=o===void 0?ym:o,l=e.componentId,u=l===void 0?function(w,I){var T=typeof w!="string"?"sc":dC(w);ey[T]=(ey[T]||0)+1;var S="".concat(T,"-").concat(HE(gm+T+ey[T]));return I?"".concat(I,"-").concat(S):S}(e.displayName,e.parentComponentId):l,c=e.displayName,h=c===void 0?function(w){return Zg(w)?"styled.".concat(w):"Styled(".concat(U7(w),")")}(t):c,d=e.displayName&&e.componentId?"".concat(dC(e.displayName),"-").concat(e.componentId):e.componentId||u,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;g=function(w,I){return _(w,I)&&v(w,I)}}else g=_}var m=new dG(n,d,r?i.componentStyle:void 0);function p(w,I){return function(T,S,x){var V=T.attrs,j=T.componentStyle,ne=T.defaultProps,We=T.foldedComponentIds,Ce=T.styledComponentId,W=T.target,K=en.useContext(fc),Se=_v(),A=T.shouldForwardProp||Se.shouldForwardProp,P=mD(S,K,ne)||Ga,L=function(Et,ut,Wt){for(var hi,nr=gt(gt({},ut),{className:void 0,theme:Wt}),Oo=0;Oo<Et.length;Oo+=1){var di=co(hi=Et[Oo])?hi(nr):hi;for(var rr in di)nr[rr]=rr==="className"?Vs(nr[rr],di[rr]):rr==="style"?gt(gt({},nr[rr]),di[rr]):di[rr]}return ut.className&&(nr.className=Vs(nr.className,ut.className)),nr}(V,S,P),U=L.as||W,q={};for(var re in L)L[re]===void 0||re[0]==="$"||re==="as"||re==="theme"&&L.theme===P||(re==="forwardedAs"?q.as=L.forwardedAs:A&&!A(re,U)||(q[re]=L[re]));var lt=function(Et,ut){var Wt=_v(),hi=Et.generateAndInjectStyles(ut,Wt.styleSheet,Wt.stylis);return hi}(j,L),Ke=Vs(We,Ce);return lt&&(Ke+=" "+lt),L.className&&(Ke+=" "+L.className),q[Zg(U)&&!gD.has(U)?"class":"className"]=Ke,q.ref=x,E.createElement(U,q)}(y,w,I)}p.displayName=h;var y=en.forwardRef(p);return y.attrs=f,y.componentStyle=m,y.displayName=h,y.shouldForwardProp=g,y.foldedComponentIds=r?Vs(i.foldedComponentIds,i.styledComponentId):"",y.styledComponentId=d,y.target=r?i.target:t,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(I){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];for(var x=0,V=T;x<V.length;x++)gv(I,V[x],!0);return I}({},i.defaultProps,w):w}}),GE(y,function(){return".".concat(y.styledComponentId)}),s&&TD(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function vC(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var wC=function(t){return Object.assign(t,{isCss:!0})};function KE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(co(t)||dc(t))return wC(Qi(vC(ym,Ba([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Qi(r):wC(Qi(vC(r,e)))}function vv(t,e,n){if(n===void 0&&(n=Ga),!e)throw ho(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,KE.apply(void 0,Ba([i],s,!1)))};return r.attrs=function(i){return vv(t,e,gt(gt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return vv(t,e,gt(gt({},n),i))},r}var xD=function(t){return vv(pG,t)},se=xD;gD.forEach(function(t){se[t]=xD(t)});var mG=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=bD(e),Bf.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(jf(Qi(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Bf.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function gG(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=KE.apply(void 0,Ba([t],e,!1)),i="sc-global-".concat(HE(JSON.stringify(r))),s=new mG(r,i),o=function(l){var u=_v(),c=en.useContext(fc),h=en.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(h,l,u.styleSheet,c,u.stylis),en.useLayoutEffect(function(){if(!u.styleSheet.server)return a(h,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,h,d){if(s.isStatic)s.renderStyles(l,L7,c,d);else{var f=gt(gt({},u),{theme:mD(u,h,o.defaultProps)});s.renderStyles(l,f,c,d)}}return en.memo(o)}function bte(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=jf(KE.apply(void 0,Ba([t],e,!1))),i=HE(r);return new AD(i,r)}const yG={colors:{white:"#fbfbfb",snowWhite:"ffffff",green:"#103931",black:"#11101c",grayBackgraund:"#f3f3f3",textGray:"#8a8a89",activeGreen:"#38cd3e",inputBorderColor:"rgba(17, 16, 28, 0.1)",textBorder:" rgba(17, 16, 28, 0.2)",timeColor:"rgba(17, 16, 28, 0.3)",borderColor:"rgba(251, 251, 251, 0.4)",textGrayColor:"rgba(17, 16, 28, 0.5)",gradientColor:"rgba(18, 20, 23, 0.6)",avatarBorder:"rgba(16, 57, 49, 0.2)",red:"#d80027",modalOverlay:"rgba(4, 4, 4, 0.4)",darkGrayColor:"#303030"},radii:{sd:"4px",ld:"12px"},spacing:t=>`${t*4}px`,transition:"linear"};const _G="/nanny-services/assets/HelveticaNeue-Regular-0ff3a909.otf",vG="/nanny-services/assets/HelveticaNeueMedium-38188783.otf",wG="/nanny-services/assets/HelveticaNeueBold-14928444.otf",EG=gG`


    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaRegular'),
        url(${_G}) format('truetype');
        font-weight: 400;
        font-style: normal;
    }

    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaMedium'),
        url(${vG}) format('truetype');
        font-weight: 500;
        font-style: normal;
    }

    @font-face {
        font-family: 'Helvetica';
        src: local('HelveticaBold'),
        url(${wG}) format('truetype');
        font-weight: 700;
        font-style: normal;
    }
   
body {
  margin: 0; 
  padding: 0;
  font-family: 'Helvetica', sans-serif;
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: 'Helvetica', sans-serif;
}

a {
    text-decoration: none;
    cursor: pointer;
  }


ul,
ol {
  list-style: none;
  padding: 0;
  margin: 0;
}


h1,
h2,
h3,
h4,
h5,
h6, 
p {
  margin: 0;
  padding: 0;
}

img {
  display: block;
  width: 100%;
  height: auto;
}

input, textarea, select, button {
  font: inherit;
  outline: none;
}

button {
  cursor: pointer;
  border: none;
  outline: none;
  background-color: transparent;
  padding: 0;
  }
  
`,TG="modulepreload",SG=function(t){return"/nanny-services/"+t},EC={},QE=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=SG(s),s in EC)return;EC[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":TG,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},IG=t=>t.auth.userId,kD=t=>t.auth.userName,CG=({component:t,redirectTo:e="/"})=>N0(IG)===null?R.jsx(_F,{to:e}):t;var wv={exports:{}},fo={},OD={exports:{}},AG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RG=AG,PG=RG;function ND(){}function DD(){}DD.resetWarningCache=ND;var bG=function(){function t(r,i,s,o,a,l){if(l!==PG){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:DD,resetWarningCache:ND};return n.PropTypes=n,n};OD.exports=bG();var MD=OD.exports,Ev={exports:{}},er={},Tv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(h,d){return d.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var d=h.offsetWidth<=0&&h.offsetHeight<=0;if(d&&!h.innerHTML)return!0;try{var f=window.getComputedStyle(h),g=f.getPropertyValue("display");return d?g!==r&&s(h,f):g===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(h){for(var d=h,f=h.getRootNode&&h.getRootNode();d&&d!==document.body;){if(f&&d===f&&(d=f.host.parentNode),o(d))return!1;d=d.parentNode}return!0}function l(h,d){var f=h.nodeName.toLowerCase(),g=i.test(f)&&!h.disabled||f==="a"&&h.href||d;return g&&a(h)}function u(h){var d=h.getAttribute("tabindex");d===null&&(d=void 0);var f=isNaN(d);return(f||d>=0)&&l(h,!f)}function c(h){var d=[].slice.call(h.querySelectorAll("*"),0).reduce(function(f,g){return f.concat(g.shadowRoot?c(g.shadowRoot):[g])},[]);return d.filter(u)}t.exports=e.default})(Tv,Tv.exports);var LD=Tv.exports;Object.defineProperty(er,"__esModule",{value:!0});er.resetState=NG;er.log=DG;er.handleBlur=pc;er.handleFocus=mc;er.markForFocusLater=MG;er.returnFocus=LG;er.popWithoutFocus=$G;er.setupScopedFocus=FG;er.teardownScopedFocus=VG;var xG=LD,kG=OG(xG);function OG(t){return t&&t.__esModule?t:{default:t}}var Ka=[],oa=null,Sv=!1;function NG(){Ka=[]}function DG(){}function pc(){Sv=!0}function mc(){if(Sv){if(Sv=!1,!oa)return;setTimeout(function(){if(!oa.contains(document.activeElement)){var t=(0,kG.default)(oa)[0]||oa;t.focus()}},0)}}function MG(){Ka.push(document.activeElement)}function LG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Ka.length!==0&&(e=Ka.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function $G(){Ka.length>0&&Ka.pop()}function FG(t){oa=t,window.addEventListener?(window.addEventListener("blur",pc,!1),document.addEventListener("focus",mc,!0)):(window.attachEvent("onBlur",pc),document.attachEvent("onFocus",mc))}function VG(){oa=null,window.addEventListener?(window.removeEventListener("blur",pc),document.removeEventListener("focus",mc)):(window.detachEvent("onBlur",pc),document.detachEvent("onFocus",mc))}var Iv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=LD,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,h=l.shiftKey,d=u[0],f=u[u.length-1],g=s();if(a===g){if(!h)return;c=f}if(f===g&&!h&&(c=d),d===g&&h&&(c=f),c){l.preventDefault(),c.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),v=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(v){var m=u.indexOf(g);if(m>-1&&(m+=h?-1:1),c=u[m],typeof c>"u"){l.preventDefault(),c=h?f:d,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(Iv,Iv.exports);var UG=Iv.exports,tr={},jG=function(){},zG=jG,Yn={},$D={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})($D);var BG=$D.exports;Object.defineProperty(Yn,"__esModule",{value:!0});Yn.canUseDOM=Yn.SafeNodeList=Yn.SafeHTMLCollection=void 0;var WG=BG,HG=qG(WG);function qG(t){return t&&t.__esModule?t:{default:t}}var _m=HG.default,GG=_m.canUseDOM?window.HTMLElement:{};Yn.SafeHTMLCollection=_m.canUseDOM?window.HTMLCollection:{};Yn.SafeNodeList=_m.canUseDOM?window.NodeList:{};Yn.canUseDOM=_m.canUseDOM;Yn.default=GG;Object.defineProperty(tr,"__esModule",{value:!0});tr.resetState=JG;tr.log=ZG;tr.assertNodeList=FD;tr.setElement=eK;tr.validateElement=YE;tr.hide=tK;tr.show=nK;tr.documentNotReadyOrSSRTesting=rK;var KG=zG,QG=XG(KG),YG=Yn;function XG(t){return t&&t.__esModule?t:{default:t}}var In=null;function JG(){In&&(In.removeAttribute?In.removeAttribute("aria-hidden"):In.length!=null?In.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(In).forEach(function(t){return t.removeAttribute("aria-hidden")})),In=null}function ZG(){}function FD(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function eK(t){var e=t;if(typeof e=="string"&&YG.canUseDOM){var n=document.querySelectorAll(e);FD(n,e),e=n}return In=e||In,In}function YE(t){var e=t||In;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,QG.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function tK(t){var e=!0,n=!1,r=void 0;try{for(var i=YE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function nK(t){var e=!0,n=!1,r=void 0;try{for(var i=YE(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function rK(){In=null}var pl={};Object.defineProperty(pl,"__esModule",{value:!0});pl.resetState=iK;pl.log=sK;var du={},fu={};function TC(t,e){t.classList.remove(e)}function iK(){var t=document.getElementsByTagName("html")[0];for(var e in du)TC(t,du[e]);var n=document.body;for(var r in fu)TC(n,fu[r]);du={},fu={}}function sK(){}var oK=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},aK=function(e,n){return e[n]&&(e[n]-=1),n},lK=function(e,n,r){r.forEach(function(i){oK(n,i),e.add(i)})},uK=function(e,n,r){r.forEach(function(i){aK(n,i),n[i]===0&&e.remove(i)})};pl.add=function(e,n){return lK(e.classList,e.nodeName.toLowerCase()=="html"?du:fu,n.split(" "))};pl.remove=function(e,n){return uK(e.classList,e.nodeName.toLowerCase()=="html"?du:fu,n.split(" "))};var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.log=hK;ml.resetState=dK;function cK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var VD=function t(){var e=this;cK(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Wf=new VD;function hK(){console.log("portalOpenInstances ----------"),console.log(Wf.openInstances.length),Wf.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function dK(){Wf=new VD}ml.default=Wf;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.resetState=gK;XE.log=yK;var fK=ml,pK=mK(fK);function mK(t){return t&&t.__esModule?t:{default:t}}var Mt=void 0,$n=void 0,qs=[];function gK(){for(var t=[Mt,$n],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Mt=$n=null,qs=[]}function yK(){console.log("bodyTrap ----------"),console.log(qs.length);for(var t=[Mt,$n],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function SC(){qs.length!==0&&qs[qs.length-1].focusContent()}function _K(t,e){!Mt&&!$n&&(Mt=document.createElement("div"),Mt.setAttribute("data-react-modal-body-trap",""),Mt.style.position="absolute",Mt.style.opacity="0",Mt.setAttribute("tabindex","0"),Mt.addEventListener("focus",SC),$n=Mt.cloneNode(),$n.addEventListener("focus",SC)),qs=e,qs.length>0?(document.body.firstChild!==Mt&&document.body.insertBefore(Mt,document.body.firstChild),document.body.lastChild!==$n&&document.body.appendChild($n)):(Mt.parentElement&&Mt.parentElement.removeChild(Mt),$n.parentElement&&$n.parentElement.removeChild($n))}pK.default.subscribe(_K);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(W){for(var K=1;K<arguments.length;K++){var Se=arguments[K];for(var A in Se)Object.prototype.hasOwnProperty.call(Se,A)&&(W[A]=Se[A])}return W},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},i=function(){function W(K,Se){for(var A=0;A<Se.length;A++){var P=Se[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(K,P.key,P)}}return function(K,Se,A){return Se&&W(K.prototype,Se),A&&W(K,A),K}}(),s=E,o=MD,a=I(o),l=er,u=w(l),c=UG,h=I(c),d=tr,f=w(d),g=pl,_=w(g),v=Yn,m=I(v),p=ml,y=I(p);function w(W){if(W&&W.__esModule)return W;var K={};if(W!=null)for(var Se in W)Object.prototype.hasOwnProperty.call(W,Se)&&(K[Se]=W[Se]);return K.default=W,K}function I(W){return W&&W.__esModule?W:{default:W}}function T(W,K){if(!(W instanceof K))throw new TypeError("Cannot call a class as a function")}function S(W,K){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:W}function x(W,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);W.prototype=Object.create(K&&K.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(W,K):W.__proto__=K)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},j=function(K){return K.code==="Tab"||K.keyCode===9},ne=function(K){return K.code==="Escape"||K.keyCode===27},We=0,Ce=function(W){x(K,W);function K(Se){T(this,K);var A=S(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Se));return A.setOverlayRef=function(P){A.overlay=P,A.props.overlayRef&&A.props.overlayRef(P)},A.setContentRef=function(P){A.content=P,A.props.contentRef&&A.props.contentRef(P)},A.afterClose=function(){var P=A.props,L=P.appElement,U=P.ariaHideApp,q=P.htmlOpenClassName,re=P.bodyOpenClassName,lt=P.parentSelector,Ke=lt&&lt().ownerDocument||document;re&&_.remove(Ke.body,re),q&&_.remove(Ke.getElementsByTagName("html")[0],q),U&&We>0&&(We-=1,We===0&&f.show(L)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(u.returnFocus(A.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),y.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(u.setupScopedFocus(A.node),u.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var P=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:P},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function(P){j(P)&&(0,h.default)(A.content,P),A.props.shouldCloseOnEsc&&ne(P)&&(P.stopPropagation(),A.requestClose(P))},A.handleOverlayOnClick=function(P){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose(P):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function(P){!A.props.shouldCloseOnOverlayClick&&P.target==A.overlay&&P.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function(P){return A.ownerHandlesClose()&&A.props.onRequestClose(P)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function(P,L){var U=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:V[P],afterOpen:V[P]+"--after-open",beforeClose:V[P]+"--before-close"},q=U.base;return A.state.afterOpen&&(q=q+" "+U.afterOpen),A.state.beforeClose&&(q=q+" "+U.beforeClose),typeof L=="string"&&L?q+" "+L:q},A.attributesFromObject=function(P,L){return Object.keys(L).reduce(function(U,q){return U[P+"-"+q]=L[q],U},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return i(K,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,P){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,P=A.appElement,L=A.ariaHideApp,U=A.htmlOpenClassName,q=A.bodyOpenClassName,re=A.parentSelector,lt=re&&re().ownerDocument||document;q&&_.add(lt.body,q),U&&_.add(lt.getElementsByTagName("html")[0],U),L&&(We+=1,f.hide(P)),y.default.register(this)}},{key:"render",value:function(){var A=this.props,P=A.id,L=A.className,U=A.overlayClassName,q=A.defaultStyles,re=A.children,lt=L?{}:q.content,Ke=U?{}:q.overlay;if(this.shouldBeClosed())return null;var Et={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},Ke,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ut=n({id:P,ref:this.setContentRef,style:n({},lt,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Wt=this.props.contentElement(ut,re);return this.props.overlayElement(Et,Wt)}}]),K}(s.Component);Ce.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Ce.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(v.SafeHTMLCollection),a.default.instanceOf(v.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=Ce,t.exports=e.default})(Ev,Ev.exports);var vK=Ev.exports;function UD(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function jD(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function zD(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}UD.__suppressDeprecationWarning=!0;jD.__suppressDeprecationWarning=!0;zD.__suppressDeprecationWarning=!0;function wK(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=UD,e.componentWillReceiveProps=jD),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=zD;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,h){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,u,c,d)}}return t}const EK=Object.freeze(Object.defineProperty({__proto__:null,polyfill:wK},Symbol.toStringTag,{value:"Module"})),TK=oM(EK);Object.defineProperty(fo,"__esModule",{value:!0});fo.bodyOpenClassName=fo.portalClassName=void 0;var IC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BD=E,Hf=th(BD),IK=$P,qf=th(IK),CK=MD,Z=th(CK),AK=vK,CC=th(AK),RK=tr,PK=xK(RK),ki=Yn,AC=th(ki),bK=TK;function xK(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function th(t){return t&&t.__esModule?t:{default:t}}function kK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RC(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NK=fo.portalClassName="ReactModalPortal",DK=fo.bodyOpenClassName="ReactModal__Body--open",Ps=ki.canUseDOM&&qf.default.createPortal!==void 0,PC=function(e){return document.createElement(e)},bC=function(){return Ps?qf.default.createPortal:qf.default.unstable_renderSubtreeIntoContainer};function Vh(t){return t()}var nh=function(t){OK(e,t);function e(){var n,r,i,s;kK(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=RC(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ps&&qf.default.unmountComponentAtNode(i.node);var u=Vh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=bC(),h=c(i,Hf.default.createElement(CC.default,IC({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(h)},r),RC(i,s)}return SK(e,[{key:"componentDidMount",value:function(){if(ki.canUseDOM){Ps||(this.node=PC("div")),this.node.className=this.props.portalClassName;var r=Vh(this.props.parentSelector);r.appendChild(this.node),!Ps&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Vh(r.parentSelector),s=Vh(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(ki.canUseDOM){var o=this.props,a=o.isOpen,l=o.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=s.prevParent,c=s.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ps&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ki.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!ki.canUseDOM||!Ps)return null;!this.node&&Ps&&(this.node=PC("div"));var r=bC();return r(Hf.default.createElement(CC.default,IC({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){PK.setElement(r)}}]),e}(BD.Component);nh.propTypes={isOpen:Z.default.bool.isRequired,style:Z.default.shape({content:Z.default.object,overlay:Z.default.object}),portalClassName:Z.default.string,bodyOpenClassName:Z.default.string,htmlOpenClassName:Z.default.string,className:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),overlayClassName:Z.default.oneOfType([Z.default.string,Z.default.shape({base:Z.default.string.isRequired,afterOpen:Z.default.string.isRequired,beforeClose:Z.default.string.isRequired})]),appElement:Z.default.oneOfType([Z.default.instanceOf(AC.default),Z.default.instanceOf(ki.SafeHTMLCollection),Z.default.instanceOf(ki.SafeNodeList),Z.default.arrayOf(Z.default.instanceOf(AC.default))]),onAfterOpen:Z.default.func,onRequestClose:Z.default.func,closeTimeoutMS:Z.default.number,ariaHideApp:Z.default.bool,shouldFocusAfterRender:Z.default.bool,shouldCloseOnOverlayClick:Z.default.bool,shouldReturnFocusAfterClose:Z.default.bool,preventScroll:Z.default.bool,parentSelector:Z.default.func,aria:Z.default.object,data:Z.default.object,role:Z.default.string,contentLabel:Z.default.string,shouldCloseOnEsc:Z.default.bool,overlayRef:Z.default.func,contentRef:Z.default.func,id:Z.default.string,overlayElement:Z.default.func,contentElement:Z.default.func};nh.defaultProps={isOpen:!1,portalClassName:NK,bodyOpenClassName:DK,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Hf.default.createElement("div",e,n)},contentElement:function(e,n){return Hf.default.createElement("div",e,n)}};nh.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,bK.polyfill)(nh);fo.default=nh;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=fo,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(wv,wv.exports);var MK=wv.exports;const WD=vc(MK),us="/nanny-services/assets/icons-c5a3a439.svg",LK=se.button`
  position: absolute;
  top: 20px;
  right: 20px;
  background-color: transparent;
`,$K=se.svg`
  width: 20px;
  height: 20px;
  fill: ${({$mobile:t})=>{switch(t){case!0:return e=>e.theme.colors.white;default:return e=>e.theme.colors.black}}};
  transition: fill 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    fill: ${t=>t.theme.colors.green};
  }
`;WD.setAppElement("#root");const xC=({children:t,isModalOpen:e,closeModal:n,styles:r,$mobile:i})=>R.jsxs(WD,{isOpen:e,onRequestClose:n,style:r,contentLabel:"Custom Modal",children:[R.jsx(LK,{type:"button",onClick:n,children:R.jsx($K,{$mobile:i,children:R.jsx("use",{href:`${us}#close`})})}),t]});var FK=function(e){return VK(e)&&!UK(e)};function VK(t){return!!t&&typeof t=="object"}function UK(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||BK(t)}var jK=typeof Symbol=="function"&&Symbol.for,zK=jK?Symbol.for("react.element"):60103;function BK(t){return t.$$typeof===zK}function WK(t){return Array.isArray(t)?[]:{}}function Gf(t,e){return e.clone!==!1&&e.isMergeableObject(t)?gc(WK(t),t,e):t}function HK(t,e,n){return t.concat(e).map(function(r){return Gf(r,n)})}function qK(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Gf(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Gf(e[i],n):r[i]=gc(t[i],e[i],n)}),r}function gc(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||HK,n.isMergeableObject=n.isMergeableObject||FK;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):qK(t,e,n):Gf(e,n)}gc.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return gc(r,i,n)},{})};var Cv=gc,GK=typeof global=="object"&&global&&global.Object===Object&&global;const HD=GK;var KK=typeof self=="object"&&self&&self.Object===Object&&self,QK=HD||KK||Function("return this")();const Ar=QK;var YK=Ar.Symbol;const cs=YK;var qD=Object.prototype,XK=qD.hasOwnProperty,JK=qD.toString,Ol=cs?cs.toStringTag:void 0;function ZK(t){var e=XK.call(t,Ol),n=t[Ol];try{t[Ol]=void 0;var r=!0}catch{}var i=JK.call(t);return r&&(e?t[Ol]=n:delete t[Ol]),i}var eQ=Object.prototype,tQ=eQ.toString;function nQ(t){return tQ.call(t)}var rQ="[object Null]",iQ="[object Undefined]",kC=cs?cs.toStringTag:void 0;function Ao(t){return t==null?t===void 0?iQ:rQ:kC&&kC in Object(t)?ZK(t):nQ(t)}function GD(t,e){return function(n){return t(e(n))}}var sQ=GD(Object.getPrototypeOf,Object);const JE=sQ;function Ro(t){return t!=null&&typeof t=="object"}var oQ="[object Object]",aQ=Function.prototype,lQ=Object.prototype,KD=aQ.toString,uQ=lQ.hasOwnProperty,cQ=KD.call(Object);function OC(t){if(!Ro(t)||Ao(t)!=oQ)return!1;var e=JE(t);if(e===null)return!0;var n=uQ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&KD.call(n)==cQ}var NC=Array.isArray,DC=Object.keys,hQ=Object.prototype.hasOwnProperty,dQ=typeof Element<"u";function Av(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=NC(t),r=NC(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Av(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=DC(t);if(s=h.length,s!==DC(e).length)return!1;for(i=s;i--!==0;)if(!hQ.call(e,h[i]))return!1;if(dQ&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!Av(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var fQ=function(e,n){try{return Av(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const vi=vc(fQ);var pQ=!0;function QD(t,e){if(!pQ){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function mQ(){this.__data__=[],this.size=0}function YD(t,e){return t===e||t!==t&&e!==e}function vm(t,e){for(var n=t.length;n--;)if(YD(t[n][0],e))return n;return-1}var gQ=Array.prototype,yQ=gQ.splice;function _Q(t){var e=this.__data__,n=vm(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():yQ.call(e,n,1),--this.size,!0}function vQ(t){var e=this.__data__,n=vm(e,t);return n<0?void 0:e[n][1]}function wQ(t){return vm(this.__data__,t)>-1}function EQ(t,e){var n=this.__data__,r=vm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ci(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ci.prototype.clear=mQ;ci.prototype.delete=_Q;ci.prototype.get=vQ;ci.prototype.has=wQ;ci.prototype.set=EQ;function TQ(){this.__data__=new ci,this.size=0}function SQ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function IQ(t){return this.__data__.get(t)}function CQ(t){return this.__data__.has(t)}function rh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var AQ="[object AsyncFunction]",RQ="[object Function]",PQ="[object GeneratorFunction]",bQ="[object Proxy]";function XD(t){if(!rh(t))return!1;var e=Ao(t);return e==RQ||e==PQ||e==AQ||e==bQ}var xQ=Ar["__core-js_shared__"];const ty=xQ;var MC=function(){var t=/[^.]+$/.exec(ty&&ty.keys&&ty.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kQ(t){return!!MC&&MC in t}var OQ=Function.prototype,NQ=OQ.toString;function Po(t){if(t!=null){try{return NQ.call(t)}catch{}try{return t+""}catch{}}return""}var DQ=/[\\^$.*+?()[\]{}|]/g,MQ=/^\[object .+?Constructor\]$/,LQ=Function.prototype,$Q=Object.prototype,FQ=LQ.toString,VQ=$Q.hasOwnProperty,UQ=RegExp("^"+FQ.call(VQ).replace(DQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jQ(t){if(!rh(t)||kQ(t))return!1;var e=XD(t)?UQ:MQ;return e.test(Po(t))}function zQ(t,e){return t==null?void 0:t[e]}function bo(t,e){var n=zQ(t,e);return jQ(n)?n:void 0}var BQ=bo(Ar,"Map");const yc=BQ;var WQ=bo(Object,"create");const _c=WQ;function HQ(){this.__data__=_c?_c(null):{},this.size=0}function qQ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GQ="__lodash_hash_undefined__",KQ=Object.prototype,QQ=KQ.hasOwnProperty;function YQ(t){var e=this.__data__;if(_c){var n=e[t];return n===GQ?void 0:n}return QQ.call(e,t)?e[t]:void 0}var XQ=Object.prototype,JQ=XQ.hasOwnProperty;function ZQ(t){var e=this.__data__;return _c?e[t]!==void 0:JQ.call(e,t)}var eY="__lodash_hash_undefined__";function tY(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_c&&e===void 0?eY:e,this}function po(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}po.prototype.clear=HQ;po.prototype.delete=qQ;po.prototype.get=YQ;po.prototype.has=ZQ;po.prototype.set=tY;function nY(){this.size=0,this.__data__={hash:new po,map:new(yc||ci),string:new po}}function rY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wm(t,e){var n=t.__data__;return rY(e)?n[typeof e=="string"?"string":"hash"]:n.map}function iY(t){var e=wm(this,t).delete(t);return this.size-=e?1:0,e}function sY(t){return wm(this,t).get(t)}function oY(t){return wm(this,t).has(t)}function aY(t,e){var n=wm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Es.prototype.clear=nY;Es.prototype.delete=iY;Es.prototype.get=sY;Es.prototype.has=oY;Es.prototype.set=aY;var lY=200;function uY(t,e){var n=this.__data__;if(n instanceof ci){var r=n.__data__;if(!yc||r.length<lY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Es(r)}return n.set(t,e),this.size=n.size,this}function gl(t){var e=this.__data__=new ci(t);this.size=e.size}gl.prototype.clear=TQ;gl.prototype.delete=SQ;gl.prototype.get=IQ;gl.prototype.has=CQ;gl.prototype.set=uY;function cY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var hY=function(){try{var t=bo(Object,"defineProperty");return t({},"",{}),t}catch{}}();const LC=hY;function JD(t,e,n){e=="__proto__"&&LC?LC(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var dY=Object.prototype,fY=dY.hasOwnProperty;function ZD(t,e,n){var r=t[e];(!(fY.call(t,e)&&YD(r,n))||n===void 0&&!(e in t))&&JD(t,e,n)}function Em(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?JD(n,a,l):ZD(n,a,l)}return n}function pY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var mY="[object Arguments]";function $C(t){return Ro(t)&&Ao(t)==mY}var e2=Object.prototype,gY=e2.hasOwnProperty,yY=e2.propertyIsEnumerable,_Y=$C(function(){return arguments}())?$C:function(t){return Ro(t)&&gY.call(t,"callee")&&!yY.call(t,"callee")};const vY=_Y;var wY=Array.isArray;const ih=wY;function EY(){return!1}var t2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,FC=t2&&typeof module=="object"&&module&&!module.nodeType&&module,TY=FC&&FC.exports===t2,VC=TY?Ar.Buffer:void 0,SY=VC?VC.isBuffer:void 0,IY=SY||EY;const n2=IY;var CY=9007199254740991,AY=/^(?:0|[1-9]\d*)$/;function RY(t,e){var n=typeof t;return e=e??CY,!!e&&(n=="number"||n!="symbol"&&AY.test(t))&&t>-1&&t%1==0&&t<e}var PY=9007199254740991;function r2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PY}var bY="[object Arguments]",xY="[object Array]",kY="[object Boolean]",OY="[object Date]",NY="[object Error]",DY="[object Function]",MY="[object Map]",LY="[object Number]",$Y="[object Object]",FY="[object RegExp]",VY="[object Set]",UY="[object String]",jY="[object WeakMap]",zY="[object ArrayBuffer]",BY="[object DataView]",WY="[object Float32Array]",HY="[object Float64Array]",qY="[object Int8Array]",GY="[object Int16Array]",KY="[object Int32Array]",QY="[object Uint8Array]",YY="[object Uint8ClampedArray]",XY="[object Uint16Array]",JY="[object Uint32Array]",Oe={};Oe[WY]=Oe[HY]=Oe[qY]=Oe[GY]=Oe[KY]=Oe[QY]=Oe[YY]=Oe[XY]=Oe[JY]=!0;Oe[bY]=Oe[xY]=Oe[zY]=Oe[kY]=Oe[BY]=Oe[OY]=Oe[NY]=Oe[DY]=Oe[MY]=Oe[LY]=Oe[$Y]=Oe[FY]=Oe[VY]=Oe[UY]=Oe[jY]=!1;function ZY(t){return Ro(t)&&r2(t.length)&&!!Oe[Ao(t)]}function ZE(t){return function(e){return t(e)}}var i2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pu=i2&&typeof module=="object"&&module&&!module.nodeType&&module,eX=pu&&pu.exports===i2,ny=eX&&HD.process,tX=function(){try{var t=pu&&pu.require&&pu.require("util").types;return t||ny&&ny.binding&&ny.binding("util")}catch{}}();const Qa=tX;var UC=Qa&&Qa.isTypedArray,nX=UC?ZE(UC):ZY;const rX=nX;var iX=Object.prototype,sX=iX.hasOwnProperty;function s2(t,e){var n=ih(t),r=!n&&vY(t),i=!n&&!r&&n2(t),s=!n&&!r&&!i&&rX(t),o=n||r||i||s,a=o?pY(t.length,String):[],l=a.length;for(var u in t)(e||sX.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||RY(u,l)))&&a.push(u);return a}var oX=Object.prototype;function eT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||oX;return t===n}var aX=GD(Object.keys,Object);const lX=aX;var uX=Object.prototype,cX=uX.hasOwnProperty;function hX(t){if(!eT(t))return lX(t);var e=[];for(var n in Object(t))cX.call(t,n)&&n!="constructor"&&e.push(n);return e}function o2(t){return t!=null&&r2(t.length)&&!XD(t)}function tT(t){return o2(t)?s2(t):hX(t)}function dX(t,e){return t&&Em(e,tT(e),t)}function fX(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var pX=Object.prototype,mX=pX.hasOwnProperty;function gX(t){if(!rh(t))return fX(t);var e=eT(t),n=[];for(var r in t)r=="constructor"&&(e||!mX.call(t,r))||n.push(r);return n}function nT(t){return o2(t)?s2(t,!0):gX(t)}function yX(t,e){return t&&Em(e,nT(e),t)}var a2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jC=a2&&typeof module=="object"&&module&&!module.nodeType&&module,_X=jC&&jC.exports===a2,zC=_X?Ar.Buffer:void 0,BC=zC?zC.allocUnsafe:void 0;function vX(t,e){if(e)return t.slice();var n=t.length,r=BC?BC(n):new t.constructor(n);return t.copy(r),r}function l2(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function wX(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function u2(){return[]}var EX=Object.prototype,TX=EX.propertyIsEnumerable,WC=Object.getOwnPropertySymbols,SX=WC?function(t){return t==null?[]:(t=Object(t),wX(WC(t),function(e){return TX.call(t,e)}))}:u2;const rT=SX;function IX(t,e){return Em(t,rT(t),e)}function c2(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var CX=Object.getOwnPropertySymbols,AX=CX?function(t){for(var e=[];t;)c2(e,rT(t)),t=JE(t);return e}:u2;const h2=AX;function RX(t,e){return Em(t,h2(t),e)}function d2(t,e,n){var r=e(t);return ih(t)?r:c2(r,n(t))}function PX(t){return d2(t,tT,rT)}function bX(t){return d2(t,nT,h2)}var xX=bo(Ar,"DataView");const Rv=xX;var kX=bo(Ar,"Promise");const Pv=kX;var OX=bo(Ar,"Set");const bv=OX;var NX=bo(Ar,"WeakMap");const xv=NX;var HC="[object Map]",DX="[object Object]",qC="[object Promise]",GC="[object Set]",KC="[object WeakMap]",QC="[object DataView]",MX=Po(Rv),LX=Po(yc),$X=Po(Pv),FX=Po(bv),VX=Po(xv),bs=Ao;(Rv&&bs(new Rv(new ArrayBuffer(1)))!=QC||yc&&bs(new yc)!=HC||Pv&&bs(Pv.resolve())!=qC||bv&&bs(new bv)!=GC||xv&&bs(new xv)!=KC)&&(bs=function(t){var e=Ao(t),n=e==DX?t.constructor:void 0,r=n?Po(n):"";if(r)switch(r){case MX:return QC;case LX:return HC;case $X:return qC;case FX:return GC;case VX:return KC}return e});const iT=bs;var UX=Object.prototype,jX=UX.hasOwnProperty;function zX(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&jX.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var BX=Ar.Uint8Array;const YC=BX;function sT(t){var e=new t.constructor(t.byteLength);return new YC(e).set(new YC(t)),e}function WX(t,e){var n=e?sT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var HX=/\w*$/;function qX(t){var e=new t.constructor(t.source,HX.exec(t));return e.lastIndex=t.lastIndex,e}var XC=cs?cs.prototype:void 0,JC=XC?XC.valueOf:void 0;function GX(t){return JC?Object(JC.call(t)):{}}function KX(t,e){var n=e?sT(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var QX="[object Boolean]",YX="[object Date]",XX="[object Map]",JX="[object Number]",ZX="[object RegExp]",eJ="[object Set]",tJ="[object String]",nJ="[object Symbol]",rJ="[object ArrayBuffer]",iJ="[object DataView]",sJ="[object Float32Array]",oJ="[object Float64Array]",aJ="[object Int8Array]",lJ="[object Int16Array]",uJ="[object Int32Array]",cJ="[object Uint8Array]",hJ="[object Uint8ClampedArray]",dJ="[object Uint16Array]",fJ="[object Uint32Array]";function pJ(t,e,n){var r=t.constructor;switch(e){case rJ:return sT(t);case QX:case YX:return new r(+t);case iJ:return WX(t,n);case sJ:case oJ:case aJ:case lJ:case uJ:case cJ:case hJ:case dJ:case fJ:return KX(t,n);case XX:return new r;case JX:case tJ:return new r(t);case ZX:return qX(t);case eJ:return new r;case nJ:return GX(t)}}var ZC=Object.create,mJ=function(){function t(){}return function(e){if(!rh(e))return{};if(ZC)return ZC(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const gJ=mJ;function yJ(t){return typeof t.constructor=="function"&&!eT(t)?gJ(JE(t)):{}}var _J="[object Map]";function vJ(t){return Ro(t)&&iT(t)==_J}var eA=Qa&&Qa.isMap,wJ=eA?ZE(eA):vJ;const EJ=wJ;var TJ="[object Set]";function SJ(t){return Ro(t)&&iT(t)==TJ}var tA=Qa&&Qa.isSet,IJ=tA?ZE(tA):SJ;const CJ=IJ;var AJ=1,RJ=2,PJ=4,f2="[object Arguments]",bJ="[object Array]",xJ="[object Boolean]",kJ="[object Date]",OJ="[object Error]",p2="[object Function]",NJ="[object GeneratorFunction]",DJ="[object Map]",MJ="[object Number]",m2="[object Object]",LJ="[object RegExp]",$J="[object Set]",FJ="[object String]",VJ="[object Symbol]",UJ="[object WeakMap]",jJ="[object ArrayBuffer]",zJ="[object DataView]",BJ="[object Float32Array]",WJ="[object Float64Array]",HJ="[object Int8Array]",qJ="[object Int16Array]",GJ="[object Int32Array]",KJ="[object Uint8Array]",QJ="[object Uint8ClampedArray]",YJ="[object Uint16Array]",XJ="[object Uint32Array]",Ae={};Ae[f2]=Ae[bJ]=Ae[jJ]=Ae[zJ]=Ae[xJ]=Ae[kJ]=Ae[BJ]=Ae[WJ]=Ae[HJ]=Ae[qJ]=Ae[GJ]=Ae[DJ]=Ae[MJ]=Ae[m2]=Ae[LJ]=Ae[$J]=Ae[FJ]=Ae[VJ]=Ae[KJ]=Ae[QJ]=Ae[YJ]=Ae[XJ]=!0;Ae[OJ]=Ae[p2]=Ae[UJ]=!1;function mu(t,e,n,r,i,s){var o,a=e&AJ,l=e&RJ,u=e&PJ;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!rh(t))return t;var c=ih(t);if(c){if(o=zX(t),!a)return l2(t,o)}else{var h=iT(t),d=h==p2||h==NJ;if(n2(t))return vX(t,a);if(h==m2||h==f2||d&&!i){if(o=l||d?{}:yJ(t),!a)return l?RX(t,yX(o,t)):IX(t,dX(o,t))}else{if(!Ae[h])return i?t:{};o=pJ(t,h,a)}}s||(s=new gl);var f=s.get(t);if(f)return f;s.set(t,o),CJ(t)?t.forEach(function(v){o.add(mu(v,e,n,v,t,s))}):EJ(t)&&t.forEach(function(v,m){o.set(m,mu(v,e,n,m,t,s))});var g=u?l?bX:PX:l?nT:tT,_=c?void 0:g(t);return cY(_||t,function(v,m){_&&(m=v,v=t[m]),ZD(o,m,mu(v,e,n,m,t,s))}),o}var JJ=4;function nA(t){return mu(t,JJ)}function g2(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ZJ="[object Symbol]";function oT(t){return typeof t=="symbol"||Ro(t)&&Ao(t)==ZJ}var eZ="Expected a function";function aT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(aT.Cache||Es),n}aT.Cache=Es;var tZ=500;function nZ(t){var e=aT(t,function(r){return n.size===tZ&&n.clear(),r}),n=e.cache;return e}var rZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iZ=/\\(\\)?/g,sZ=nZ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rZ,function(n,r,i,s){e.push(i?s.replace(iZ,"$1"):r||n)}),e});const oZ=sZ;var aZ=1/0;function lZ(t){if(typeof t=="string"||oT(t))return t;var e=t+"";return e=="0"&&1/t==-aZ?"-0":e}var uZ=1/0,rA=cs?cs.prototype:void 0,iA=rA?rA.toString:void 0;function y2(t){if(typeof t=="string")return t;if(ih(t))return g2(t,y2)+"";if(oT(t))return iA?iA.call(t):"";var e=t+"";return e=="0"&&1/t==-uZ?"-0":e}function cZ(t){return t==null?"":y2(t)}function _2(t){return ih(t)?g2(t,lZ):oT(t)?[t]:l2(oZ(cZ(t)))}var v2={exports:{}},Te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=typeof Symbol=="function"&&Symbol.for,lT=wt?Symbol.for("react.element"):60103,uT=wt?Symbol.for("react.portal"):60106,Tm=wt?Symbol.for("react.fragment"):60107,Sm=wt?Symbol.for("react.strict_mode"):60108,Im=wt?Symbol.for("react.profiler"):60114,Cm=wt?Symbol.for("react.provider"):60109,Am=wt?Symbol.for("react.context"):60110,cT=wt?Symbol.for("react.async_mode"):60111,Rm=wt?Symbol.for("react.concurrent_mode"):60111,Pm=wt?Symbol.for("react.forward_ref"):60112,bm=wt?Symbol.for("react.suspense"):60113,hZ=wt?Symbol.for("react.suspense_list"):60120,xm=wt?Symbol.for("react.memo"):60115,km=wt?Symbol.for("react.lazy"):60116,dZ=wt?Symbol.for("react.block"):60121,fZ=wt?Symbol.for("react.fundamental"):60117,pZ=wt?Symbol.for("react.responder"):60118,mZ=wt?Symbol.for("react.scope"):60119;function Tn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lT:switch(t=t.type,t){case cT:case Rm:case Tm:case Im:case Sm:case bm:return t;default:switch(t=t&&t.$$typeof,t){case Am:case Pm:case km:case xm:case Cm:return t;default:return e}}case uT:return e}}}function w2(t){return Tn(t)===Rm}Te.AsyncMode=cT;Te.ConcurrentMode=Rm;Te.ContextConsumer=Am;Te.ContextProvider=Cm;Te.Element=lT;Te.ForwardRef=Pm;Te.Fragment=Tm;Te.Lazy=km;Te.Memo=xm;Te.Portal=uT;Te.Profiler=Im;Te.StrictMode=Sm;Te.Suspense=bm;Te.isAsyncMode=function(t){return w2(t)||Tn(t)===cT};Te.isConcurrentMode=w2;Te.isContextConsumer=function(t){return Tn(t)===Am};Te.isContextProvider=function(t){return Tn(t)===Cm};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lT};Te.isForwardRef=function(t){return Tn(t)===Pm};Te.isFragment=function(t){return Tn(t)===Tm};Te.isLazy=function(t){return Tn(t)===km};Te.isMemo=function(t){return Tn(t)===xm};Te.isPortal=function(t){return Tn(t)===uT};Te.isProfiler=function(t){return Tn(t)===Im};Te.isStrictMode=function(t){return Tn(t)===Sm};Te.isSuspense=function(t){return Tn(t)===bm};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tm||t===Rm||t===Im||t===Sm||t===bm||t===hZ||typeof t=="object"&&t!==null&&(t.$$typeof===km||t.$$typeof===xm||t.$$typeof===Cm||t.$$typeof===Am||t.$$typeof===Pm||t.$$typeof===fZ||t.$$typeof===pZ||t.$$typeof===mZ||t.$$typeof===dZ)};Te.typeOf=Tn;v2.exports=Te;var gZ=v2.exports,hT=gZ,yZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_Z={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vZ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},E2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},dT={};dT[hT.ForwardRef]=vZ;dT[hT.Memo]=E2;function sA(t){return hT.isMemo(t)?E2:dT[t.$$typeof]||yZ}var wZ=Object.defineProperty,EZ=Object.getOwnPropertyNames,oA=Object.getOwnPropertySymbols,TZ=Object.getOwnPropertyDescriptor,SZ=Object.getPrototypeOf,aA=Object.prototype;function T2(t,e,n){if(typeof e!="string"){if(aA){var r=SZ(e);r&&r!==aA&&T2(t,r,n)}var i=EZ(e);oA&&(i=i.concat(oA(e)));for(var s=sA(t),o=sA(e),a=0;a<i.length;++a){var l=i[a];if(!_Z[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=TZ(e,l);try{wZ(t,l,u)}catch{}}}}return t}var IZ=T2;const CZ=vc(IZ);var AZ=1,RZ=4;function PZ(t){return mu(t,AZ|RZ)}function ve(){return ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ve.apply(this,arguments)}function S2(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Oi(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Om=E.createContext(void 0);Om.displayName="FormikContext";var bZ=Om.Provider,xZ=Om.Consumer;function I2(){var t=E.useContext(Om);return t||QD(!1),t}var uA=function(e){return Array.isArray(e)&&e.length===0},It=function(e){return typeof e=="function"},sh=function(e){return e!==null&&typeof e=="object"},kZ=function(e){return String(Math.floor(Number(e)))===e},ry=function(e){return Object.prototype.toString.call(e)==="[object String]"},C2=function(e){return E.Children.count(e)===0},iy=function(e){return sh(e)&&It(e.then)};function Le(t,e,n,r){r===void 0&&(r=0);for(var i=_2(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function wr(t,e,n){for(var r=nA(t),i=r,s=0,o=_2(e);s<o.length-1;s++){var a=o[s],l=Le(t,o.slice(0,s+1));if(l&&(sh(l)||Array.isArray(l)))i=i[a]=nA(l);else{var u=o[s+1];i=i[a]=kZ(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function A2(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];sh(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},A2(a,e,n,r[o])):r[o]=e}return r}function OZ(t,e){switch(e.type){case"SET_VALUES":return ve({},t,{values:e.payload});case"SET_TOUCHED":return ve({},t,{touched:e.payload});case"SET_ERRORS":return vi(t.errors,e.payload)?t:ve({},t,{errors:e.payload});case"SET_STATUS":return ve({},t,{status:e.payload});case"SET_ISSUBMITTING":return ve({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ve({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return ve({},t,{values:wr(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ve({},t,{touched:wr(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ve({},t,{errors:wr(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ve({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return ve({},t,{touched:A2(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return ve({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ve({},t,{isSubmitting:!1});default:return t}}var Ts={},Uh={};function NZ(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=Oi(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=ve({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),f=E.useRef(d.initialValues),g=E.useRef(d.initialErrors||Ts),_=E.useRef(d.initialTouched||Uh),v=E.useRef(d.initialStatus),m=E.useRef(!1),p=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var y=E.useState(0),w=y[1],I=E.useRef({values:d.initialValues,errors:d.initialErrors||Ts,touched:d.initialTouched||Uh,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),T=I.current,S=E.useCallback(function(C){var $=I.current;I.current=OZ($,C),$!==I.current&&w(function(z){return z+1})},[]),x=E.useCallback(function(C,$){return new Promise(function(z,G){var oe=d.validate(C,$);oe==null?z(Ts):iy(oe)?oe.then(function(_e){z(_e||Ts)},function(_e){G(_e)}):z(oe)})},[d.validate]),V=E.useCallback(function(C,$){var z=d.validationSchema,G=It(z)?z($):z,oe=$&&G.validateAt?G.validateAt($,C):MZ(C,G);return new Promise(function(_e,ct){oe.then(function(){_e(Ts)},function(Rr){Rr.name==="ValidationError"?_e(DZ(Rr)):ct(Rr)})})},[d.validationSchema]),j=E.useCallback(function(C,$){return new Promise(function(z){return z(p.current[C].validate($))})},[]),ne=E.useCallback(function(C){var $=Object.keys(p.current).filter(function(G){return It(p.current[G].validate)}),z=$.length>0?$.map(function(G){return j(G,Le(C,G))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(z).then(function(G){return G.reduce(function(oe,_e,ct){return _e==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||_e&&(oe=wr(oe,$[ct],_e)),oe},{})})},[j]),We=E.useCallback(function(C){return Promise.all([ne(C),d.validationSchema?V(C):{},d.validate?x(C):{}]).then(function($){var z=$[0],G=$[1],oe=$[2],_e=Cv.all([z,G,oe],{arrayMerge:LZ});return _e})},[d.validate,d.validationSchema,ne,x,V]),Ce=Sn(function(C){return C===void 0&&(C=T.values),S({type:"SET_ISVALIDATING",payload:!0}),We(C).then(function($){return m.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:$})),$})});E.useEffect(function(){o&&m.current===!0&&vi(f.current,d.initialValues)&&Ce(f.current)},[o,Ce]);var W=E.useCallback(function(C){var $=C&&C.values?C.values:f.current,z=C&&C.errors?C.errors:g.current?g.current:d.initialErrors||{},G=C&&C.touched?C.touched:_.current?_.current:d.initialTouched||{},oe=C&&C.status?C.status:v.current?v.current:d.initialStatus;f.current=$,g.current=z,_.current=G,v.current=oe;var _e=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!C&&!!C.isSubmitting,errors:z,touched:G,status:oe,values:$,isValidating:!!C&&!!C.isValidating,submitCount:C&&C.submitCount&&typeof C.submitCount=="number"?C.submitCount:0}})};if(d.onReset){var ct=d.onReset(T.values,vT);iy(ct)?ct.then(_e):_e()}else _e()},[d.initialErrors,d.initialStatus,d.initialTouched,d.onReset]);E.useEffect(function(){m.current===!0&&!vi(f.current,d.initialValues)&&u&&(f.current=d.initialValues,W(),o&&Ce(f.current))},[u,d.initialValues,W,o,Ce]),E.useEffect(function(){u&&m.current===!0&&!vi(g.current,d.initialErrors)&&(g.current=d.initialErrors||Ts,S({type:"SET_ERRORS",payload:d.initialErrors||Ts}))},[u,d.initialErrors]),E.useEffect(function(){u&&m.current===!0&&!vi(_.current,d.initialTouched)&&(_.current=d.initialTouched||Uh,S({type:"SET_TOUCHED",payload:d.initialTouched||Uh}))},[u,d.initialTouched]),E.useEffect(function(){u&&m.current===!0&&!vi(v.current,d.initialStatus)&&(v.current=d.initialStatus,S({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var K=Sn(function(C){if(p.current[C]&&It(p.current[C].validate)){var $=Le(T.values,C),z=p.current[C].validate($);return iy(z)?(S({type:"SET_ISVALIDATING",payload:!0}),z.then(function(G){return G}).then(function(G){S({type:"SET_FIELD_ERROR",payload:{field:C,value:G}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:C,value:z}}),Promise.resolve(z))}else if(d.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),V(T.values,C).then(function(G){return G}).then(function(G){S({type:"SET_FIELD_ERROR",payload:{field:C,value:Le(G,C)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Se=E.useCallback(function(C,$){var z=$.validate;p.current[C]={validate:z}},[]),A=E.useCallback(function(C){delete p.current[C]},[]),P=Sn(function(C,$){S({type:"SET_TOUCHED",payload:C});var z=$===void 0?i:$;return z?Ce(T.values):Promise.resolve()}),L=E.useCallback(function(C){S({type:"SET_ERRORS",payload:C})},[]),U=Sn(function(C,$){var z=It(C)?C(T.values):C;S({type:"SET_VALUES",payload:z});var G=$===void 0?n:$;return G?Ce(z):Promise.resolve()}),q=E.useCallback(function(C,$){S({type:"SET_FIELD_ERROR",payload:{field:C,value:$}})},[]),re=Sn(function(C,$,z){S({type:"SET_FIELD_VALUE",payload:{field:C,value:$}});var G=z===void 0?n:z;return G?Ce(wr(T.values,C,$)):Promise.resolve()}),lt=E.useCallback(function(C,$){var z=$,G=C,oe;if(!ry(C)){C.persist&&C.persist();var _e=C.target?C.target:C.currentTarget,ct=_e.type,Rr=_e.name,Fm=_e.id,Vm=_e.value,tM=_e.checked,vte=_e.outerHTML,wT=_e.options,nM=_e.multiple;z=$||Rr||Fm,G=/number|range/.test(ct)?(oe=parseFloat(Vm),isNaN(oe)?"":oe):/checkbox/.test(ct)?FZ(Le(T.values,z),tM,Vm):wT&&nM?$Z(wT):Vm}z&&re(z,G)},[re,T.values]),Ke=Sn(function(C){if(ry(C))return function($){return lt($,C)};lt(C)}),Et=Sn(function(C,$,z){$===void 0&&($=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:C,value:$}});var G=z===void 0?i:z;return G?Ce(T.values):Promise.resolve()}),ut=E.useCallback(function(C,$){C.persist&&C.persist();var z=C.target,G=z.name,oe=z.id,_e=z.outerHTML,ct=$||G||oe;Et(ct,!0)},[Et]),Wt=Sn(function(C){if(ry(C))return function($){return ut($,C)};ut(C)}),hi=E.useCallback(function(C){It(C)?S({type:"SET_FORMIK_STATE",payload:C}):S({type:"SET_FORMIK_STATE",payload:function(){return C}})},[]),nr=E.useCallback(function(C){S({type:"SET_STATUS",payload:C})},[]),Oo=E.useCallback(function(C){S({type:"SET_ISSUBMITTING",payload:C})},[]),di=Sn(function(){return S({type:"SUBMIT_ATTEMPT"}),Ce().then(function(C){var $=C instanceof Error,z=!$&&Object.keys(C).length===0;if(z){var G;try{if(G=K2(),G===void 0)return}catch(oe){throw oe}return Promise.resolve(G).then(function(oe){return m.current&&S({type:"SUBMIT_SUCCESS"}),oe}).catch(function(oe){if(m.current)throw S({type:"SUBMIT_FAILURE"}),oe})}else if(m.current&&(S({type:"SUBMIT_FAILURE"}),$))throw C})}),rr=Sn(function(C){C&&C.preventDefault&&It(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&It(C.stopPropagation)&&C.stopPropagation(),di().catch(function($){console.warn("Warning: An unhandled error was caught from submitForm()",$)})}),vT={resetForm:W,validateForm:Ce,validateField:K,setErrors:L,setFieldError:q,setFieldTouched:Et,setFieldValue:re,setStatus:nr,setSubmitting:Oo,setTouched:P,setValues:U,setFormikState:hi,submitForm:di},K2=Sn(function(){return c(T.values,vT)}),Q2=Sn(function(C){C&&C.preventDefault&&It(C.preventDefault)&&C.preventDefault(),C&&C.stopPropagation&&It(C.stopPropagation)&&C.stopPropagation(),W()}),Y2=E.useCallback(function(C){return{value:Le(T.values,C),error:Le(T.errors,C),touched:!!Le(T.touched,C),initialValue:Le(f.current,C),initialTouched:!!Le(_.current,C),initialError:Le(g.current,C)}},[T.errors,T.touched,T.values]),X2=E.useCallback(function(C){return{setValue:function(z,G){return re(C,z,G)},setTouched:function(z,G){return Et(C,z,G)},setError:function(z){return q(C,z)}}},[re,Et,q]),J2=E.useCallback(function(C){var $=sh(C),z=$?C.name:C,G=Le(T.values,z),oe={name:z,value:G,onChange:Ke,onBlur:Wt};if($){var _e=C.type,ct=C.value,Rr=C.as,Fm=C.multiple;_e==="checkbox"?ct===void 0?oe.checked=!!G:(oe.checked=!!(Array.isArray(G)&&~G.indexOf(ct)),oe.value=ct):_e==="radio"?(oe.checked=G===ct,oe.value=ct):Rr==="select"&&Fm&&(oe.value=oe.value||[],oe.multiple=!0)}return oe},[Wt,Ke,T.values]),$m=E.useMemo(function(){return!vi(f.current,T.values)},[f.current,T.values]),Z2=E.useMemo(function(){return typeof a<"u"?$m?T.errors&&Object.keys(T.errors).length===0:a!==!1&&It(a)?a(d):a:T.errors&&Object.keys(T.errors).length===0},[a,$m,T.errors,d]),eM=ve({},T,{initialValues:f.current,initialErrors:g.current,initialTouched:_.current,initialStatus:v.current,handleBlur:Wt,handleChange:Ke,handleReset:Q2,handleSubmit:rr,resetForm:W,setErrors:L,setFormikState:hi,setFieldTouched:Et,setFieldValue:re,setFieldError:q,setStatus:nr,setSubmitting:Oo,setTouched:P,setValues:U,submitForm:di,validateForm:Ce,validateField:K,isValid:Z2,dirty:$m,unregisterField:A,registerField:Se,getFieldProps:J2,getFieldMeta:Y2,getFieldHelpers:X2,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return eM}function R2(t){var e=NZ(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return E.useImperativeHandle(s,function(){return e}),E.createElement(bZ,{value:e},n?E.createElement(n,e):i?i(e):r?It(r)?r(e):C2(r)?null:E.Children.only(r):null)}function DZ(t){var e={};if(t.inner){if(t.inner.length===0)return wr(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Le(e,o.path)||(e=wr(e,o.path,o.message))}}return e}function MZ(t,e,n,r){n===void 0&&(n=!1);var i=kv(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function kv(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||OC(i)?kv(i):i!==""?i:void 0}):OC(t[r])?e[r]=kv(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function LZ(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Cv(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Cv(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function $Z(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function FZ(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var VZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function Sn(t){var e=E.useRef(t);return VZ(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function UZ(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=Oi(t,["validate","name","render","children","as","component","className"]),u=I2(),c=Oi(u,["validate","validationSchema"]),h=c.registerField,d=c.unregisterField;E.useEffect(function(){return h(n,{validate:e}),function(){d(n)}},[h,d,n,e]);var f=c.getFieldProps(ve({name:n},l)),g=c.getFieldMeta(n),_={field:f,form:c};if(r)return r(ve({},_,{meta:g}));if(It(i))return i(ve({},_,{meta:g}));if(o){if(typeof o=="string"){var v=l.innerRef,m=Oi(l,["innerRef"]);return E.createElement(o,ve({ref:v},f,m,{className:a}),i)}return E.createElement(o,ve({field:f,form:c},l,{className:a}),i)}var p=s||"input";if(typeof p=="string"){var y=l.innerRef,w=Oi(l,["innerRef"]);return E.createElement(p,ve({ref:y},f,w,{className:a}),i)}return E.createElement(p,ve({},f,l,{className:a}),i)}var P2=E.forwardRef(function(t,e){var n=t.action,r=Oi(t,["action"]),i=n??"#",s=I2(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",ve({onSubmit:a,ref:e,onReset:o,action:i},r))});P2.displayName="Form";function jZ(t){var e=function(i){return E.createElement(xZ,null,function(s){return s||QD(!1),E.createElement(t,ve({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",CZ(e,t)}var zZ=function(e,n,r){var i=mo(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},BZ=function(e,n,r){var i=mo(e),s=i[n];return i[n]=i[r],i[r]=s,i},sy=function(e,n,r){var i=mo(e);return i.splice(n,0,r),i},WZ=function(e,n,r){var i=mo(e);return i[n]=r,i},mo=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(ve({},e,{length:n+1}))}else return[]},cA=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||sh(i)){var s=mo(i);return r(s)}return i}},HZ=function(t){S2(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var d=cA(a,s),f=cA(o,s),g=wr(h.values,u,s(Le(h.values,u))),_=a?d(Le(h.errors,u)):void 0,v=o?f(Le(h.touched,u)):void 0;return uA(_)&&(_=void 0),uA(v)&&(v=void 0),ve({},h,{values:g,errors:a?wr(h.errors,u,_):h.errors,touched:o?wr(h.touched,u,v):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(mo(o),[PZ(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return BZ(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return zZ(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return sy(a,s,o)},function(a){return sy(a,s,null)},function(a){return sy(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return WZ(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(lA(i)),i.pop=i.pop.bind(lA(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!vi(Le(i.formik.values,i.name),Le(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?mo(o):[];return s||(s=a[i]),It(a.splice)&&a.splice(i,1),It(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=Oi(c,["validate","validationSchema"]),d=ve({},i,{form:h,name:u});return o?E.createElement(o,d):a?a(d):l?typeof l=="function"?l(d):C2(l)?null:E.Children.only(l):null},e}(E.Component);HZ.defaultProps={validateOnChange:!0};var qZ=function(t){S2(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Le(this.props.formik.errors,this.props.name)!==Le(i.formik.errors,this.props.name)||Le(this.props.formik.touched,this.props.name)!==Le(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=Oi(i,["component","formik","render","children","name"]),h=Le(o.touched,u),d=Le(o.errors,u);return h&&d?a?It(a)?a(d):null:l?It(l)?l(d):null:s?E.createElement(s,c,d):d:null},e}(E.Component),GZ=jZ(qZ);function xo(t){this._maxSize=t,this.clear()}xo.prototype.clear=function(){this._size=0,this._values=Object.create(null)};xo.prototype.get=function(t){return this._values[t]};xo.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var KZ=/[^.^\]^[]+|(?=\[\]|\.\.)/g,b2=/^\d+$/,QZ=/^\d/,YZ=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,XZ=/^\s*(['"]?)(.*?)(\1)\s*$/,fT=512,hA=new xo(fT),dA=new xo(fT),fA=new xo(fT),Gs={Cache:xo,split:Ov,normalizePath:oy,setter:function(t){var e=oy(t);return dA.get(t)||dA.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=oy(t);return fA.get(t)||fA.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(pT(n)||b2.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){JZ(Array.isArray(t)?t:Ov(t),e,n)}};function oy(t){return hA.get(t)||hA.set(t,Ov(t).map(function(e){return e.replace(XZ,"$2")}))}function Ov(t){return t.match(KZ)||[""]}function JZ(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(tee(i)&&(i='"'+i+'"'),a=pT(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function pT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function ZZ(t){return t.match(QZ)&&!t.match(b2)}function eee(t){return YZ.test(t)}function tee(t){return!pT(t)&&(ZZ(t)||eee(t))}const nee=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Nm=t=>t.match(nee)||[],Dm=t=>t[0].toUpperCase()+t.slice(1),mT=(t,e)=>Nm(t).join(e).toLowerCase(),x2=t=>Nm(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),ree=t=>Dm(x2(t)),iee=t=>mT(t,"_"),see=t=>mT(t,"-"),oee=t=>Dm(mT(t," ")),aee=t=>Nm(t).map(Dm).join(" ");var ay={words:Nm,upperFirst:Dm,camelCase:x2,pascalCase:ree,snakeCase:iee,kebabCase:see,sentenceCase:oee,titleCase:aee},gT={exports:{}};gT.exports=function(t){return k2(lee(t),t)};gT.exports.array=k2;function k2(t,e){var n=t.length,r=new Array(n),i={},s=n,o=uee(e),a=cee(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var d;try{d=", node was:"+JSON.stringify(u)}catch{d=""}throw new Error("Cyclic dependency"+d)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var f=o.get(u)||new Set;if(f=Array.from(f),c=f.length){h.add(u);do{var g=f[--c];l(g,a.get(g),h)}while(c);h.delete(u)}r[--n]=u}}}function lee(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function uee(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function cee(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var hee=gT.exports;const dee=vc(hee),fee=Object.prototype.toString,pee=Error.prototype.toString,mee=RegExp.prototype.toString,gee=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",yee=/^Symbol\((.*)\)(.*)$/;function _ee(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function pA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return _ee(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return gee.call(t).replace(yee,"Symbol($1)");const r=fee.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+pee.call(t)+"]":r==="RegExp"?mee.call(t):null}function Yi(t,e){let n=pA(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=pA(this[r],e);return s!==null?s:i},2)}function O2(t){return t==null?[]:[].concat(t)}let N2,D2,M2,vee=/\$\{\s*(\w+)\s*\}/g;N2=Symbol.toStringTag;class mA{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[N2]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],O2(e).forEach(s=>{if(Zt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}D2=Symbol.hasInstance;M2=Symbol.toStringTag;class Zt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(vee,(i,s)=>Yi(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new mA(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[M2]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Zt)}static[D2](e){return mA[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let or={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Yi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Yi(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Yi(n,!0)}\``+i}},Xt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},wee={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Nv={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Eee={isValue:"${path} field must be ${value}"},Dv={noUnknown:"${path} field has unspecified keys: ${unknown}"},Tee={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},See={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Yi(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Yi(n,!0)}\``}return Zt.formatError(or.notType,t)}};Object.assign(Object.create(null),{mixed:or,string:Xt,number:wee,date:Nv,object:Dv,array:Tee,boolean:Eee,tuple:See});const yT=t=>t&&t.__isYupSchema__;class Kf{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Kf(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!yT(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const jh={context:"$",value:"."};class ko{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===jh.context,this.isValue=this.key[0]===jh.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?jh.context:this.isValue?jh.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Gs.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ko.prototype.__isYupRef=!0;const Us=t=>t==null;function Fo(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:d,skipAbsent:f}=t;let{parent:g,context:_,abortEarly:v=o.spec.abortEarly,disableStackTrace:m=o.spec.disableStackTrace}=i;function p(ne){return ko.isRef(ne)?ne.getValue(n,g,_):ne}function y(ne={}){const We=Object.assign({value:n,originalValue:s,label:o.spec.label,path:ne.path||r,spec:o.spec,disableStackTrace:ne.disableStackTrace||m},h,ne.params);for(const W of Object.keys(We))We[W]=p(We[W]);const Ce=new Zt(Zt.formatError(ne.message||d,We),n,We.path,ne.type||u,We.disableStackTrace);return Ce.params=We,Ce}const w=v?a:l;let I={path:r,parent:g,type:u,from:i.from,createError:y,resolve:p,options:i,originalValue:s,schema:o};const T=ne=>{Zt.isError(ne)?w(ne):ne?l(null):w(y())},S=ne=>{Zt.isError(ne)?w(ne):a(ne)};if(f&&Us(n))return T(!0);let V;try{var j;if(V=c.call(I,n,I),typeof((j=V)==null?void 0:j.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(V).then(T,S)}}catch(ne){S(ne);return}T(V)}return e.OPTIONS=t,e}function Iee(t,e,n,r=n){let i,s,o;return e?(Gs.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",d=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&d>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[d],t=h?t.spec.types[d]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Qf extends Set{describe(){const e=[];for(const n of this.values())e.push(ko.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Qf(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function aa(t,e=new Map){if(yT(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=aa(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,aa(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(aa(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=aa(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Ir{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Qf,this._blacklist=new Qf,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(or.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=aa(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Us(s))return s;let o=Yi(e),a=Yi(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},h=_=>{i||(i=!0,r(_,o))},d=s.length,f=[];if(!d)return h([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const v=s[_];v(g,c,function(p){p&&(Array.isArray(p)?f.push(...p):f.push(p)),--d<=0&&h(f)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,d,f)=>this.resolve(c)._validate(u,c,d,f)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Zt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Zt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Zt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Zt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Zt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Zt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):aa(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Fo({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Fo({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=or.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=or.notNull){return this.nullability(!1,e)}required(e=or.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=or.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Fo(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=O2(e).map(s=>new ko(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Kf(i,n):Kf.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Fo({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=or.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Fo({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=or.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Fo({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}Ir.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ir.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=Iee(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ir.prototype[t]=Ir.prototype.oneOf;for(const t of["not","nope"])Ir.prototype[t]=Ir.prototype.notOneOf;const Cee=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Aee(t){const e=Mv(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Mv(t){var e,n;const r=Cee.exec(t);return r?{year:xr(r[1]),month:xr(r[2],1)-1,day:xr(r[3],1),hour:xr(r[4]),minute:xr(r[5]),second:xr(r[6]),millisecond:r[7]?xr(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:xr(r[10]),minuteOffset:xr(r[11])}:null}function xr(t,e=0){return Number(t)||e}let Ree=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Pee=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xee="^\\d{4}-\\d{2}-\\d{2}",kee="\\d{2}:\\d{2}:\\d{2}",Oee="(([+-]\\d{2}(:?\\d{2})?)|Z)",Nee=new RegExp(`${xee}T${kee}(\\.\\d+)?${Oee}$`),Dee=t=>Us(t)||t===t.trim(),Mee={}.toString();function Rn(){return new L2}class L2 extends Ir{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===Mee?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||or.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Xt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Xt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Xt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Xt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Xt.email){return this.matches(Ree,{name:"email",message:e,excludeEmptyString:!0})}url(e=Xt.url){return this.matches(Pee,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Xt.uuid){return this.matches(bee,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(Nee,{name:"datetime",message:n||Xt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Xt.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Mv(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Xt.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Mv(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Xt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Dee})}lowercase(e=Xt.lowercase){return this.transform(n=>Us(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Us(n)||n===n.toLowerCase()})}uppercase(e=Xt.uppercase){return this.transform(n=>Us(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Us(n)||n===n.toUpperCase()})}}Rn.prototype=L2.prototype;let Lee=new Date(""),$ee=t=>Object.prototype.toString.call(t)==="[object Date]";class Mm extends Ir{constructor(){super({type:"date",check(e){return $ee(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Aee(e),isNaN(e)?Mm.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ko.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Nv.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Nv.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Mm.INVALID_DATE=Lee;Mm.prototype;function Fee(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Gs.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ko.isRef(a)&&a.isSibling?s(a.path,o):yT(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return dee.array(Array.from(r),n).reverse()}function gA(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function $2(t){return(e,n)=>gA(t,e)-gA(t,n)}const Vee=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Sd(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Sd(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Sd(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Sd)}):"optional"in t?t.optional():t}const Uee=(t,e)=>{const n=[...Gs.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Gs.getter(Gs.join(n),!0)(t);return!!(i&&r in i)};let yA=t=>Object.prototype.toString.call(t)==="[object Object]";function jee(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const zee=$2([]);function Lm(t){return new F2(t)}class F2 extends Ir{constructor(e){super({type:"object",check(n){return yA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=zee,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let d=s[h],f=h in i;if(d){let g,_=i[h];u.path=(n.path?`${n.path}.`:"")+h,d=d.resolve({value:_,context:n.context,parent:l});let v=d instanceof Ir?d.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){c=c||h in i;continue}g=!n.__validating||!m?d.cast(i[h],u):i[h],g!==void 0&&(l[h]=g)}else f&&!o&&(l[h]=i[h]);(f!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!yA(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let d=this.fields[h];!d||ko.isRef(d)||c.push(d.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Fee(e,n),r._sortErrors=$2(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Sd(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Gs.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Uee(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Vee)}noUnknown(e=!0,n=Dv.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=jee(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Dv.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(ay.camelCase)}snakeCase(){return this.transformKeys(ay.snakeCase)}constantCase(){return this.transformKeys(e=>ay.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Lm.prototype=F2.prototype;const _T=/^[a-z0-9._%+-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+$/,Bee=Lm().shape({email:Rn().trim().matches(_T,"Please enter a valid email. For example jane@mail.com").required("Email is required"),password:Rn().trim().min(8,"Password must contain at least 8 characters").max(40,"Too long password").required("Password is required")}),Wee=Lm().shape({name:Rn().trim().min(2,"Name must contain at least 2 characters").max(40,"Too long name").required("Name is required"),email:Rn().trim().matches(_T,"Please enter a valid email! For example jane@mail.com").required("Email is required"),password:Rn().trim().min(8,"Password must contain at least 8 characters").max(40,"Too long password").required("Password is required!")}),xte=Lm().shape({addres:Rn().trim().min(8,"Address must contain at least 8 characters").max(100,"Too long address").required("Address is required"),phone:Rn().trim().matches(/^\+(?:[0-9] ?){6,14}[0-9]$/,{message:"Invalid Phone Number",excludeEmptyString:!1}).max(13,"Too long phone number").required("The phone number is required"),childsAge:Rn().trim().max(15,"Please enter a child's age").required("Child's age is required"),time:Rn().length(5).matches(/(\d){2}:(\d){2}/,'Meeting time must have this pattern "00:00"').required("Meeting time is required"),email:Rn().trim().matches(_T,"Please enter a valid email. For example jane@mail.com").required("Email is required"),name:Rn().trim().min(2,"Name must contain at least 2 characters").max(40,"Too long name").required("Father's or mother's name is required")}),V2=se(P2)`
  max-width: 438px;
  margin-right: auto;
  margin-left: auto;
`,U2=se.div`
  display: flex;
  flex-direction: column;
  gap: 18px;
  margin-bottom: 40px;
`,j2=se.h2`
  font-weight: 500;
  font-size: 40px;
  line-height: 1.2;
  letter-spacing: -0.02em;
  color: ${t=>t.theme.colors.black};
  margin-bottom: 20px;
`,z2=se.p`
  font-weight: 400;
  font-size: 16px;
  line-height: 1.25;
  color: ${t=>t.theme.colors.textGrayColor};
  margin-bottom: 40px;
`,gu=se(UZ)`
  padding: 16px 18px;
  font-size: inherit;
  line-height: 1.25;
  border-radius: 12px;
  border: 1px solid;
  border-color: ${t=>t.theme.colors.inputBorderColor};
  outline: none;
  color: ${t=>t.theme.colors.black};
  background-color: transparent;
  transition: border-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    border-color: ${t=>t.theme.colors.green};
  }

  &::placeholder {
    font-weight: 400;
    font-size: 16px;
    line-height: 1.25;
    color: ${t=>t.theme.colors.black};
  }
`,yu=se.label`
  position: relative;
  display: flex;
  flex-direction: column;
`,_u=se(GZ)`
  position: absolute;
  top: 54px;
  left: 8px;
  font-size: 12px;
  color: ${t=>t.theme.colors.red};
`,B2=se.button`
  max-width: 438px;
  width: 100%;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
  background-color: ${t=>t.theme.colors.green};
  border-radius: 30px;
  border: 1px solid;
  border-color: transparent;
  padding: 12px;
  transition:
    background-color 250ms ${t=>t.theme.transition},
    border-color 250ms ${t=>t.theme.transition},
    color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    background-color: ${t=>t.theme.colors.white};
    border-color: ${t=>t.theme.colors.green};
    color: ${t=>t.theme.colors.green};
  }
`,W2=se.button`
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  right: 16px;
`,Yf=se.svg`
  width: 20px;
  height: 20px;
`,Hee=({closeModal:t})=>{const[e,n]=E.useState(!1),r=D0(),i=Cc(),s=async({name:o,email:a,password:l})=>{(await r(md({email:a,password:l,displayName:o}))).error||(t(),i("/nannies"))};return R.jsx(R2,{initialValues:{name:"",email:"",password:""},validationSchema:Wee,onSubmit:s,children:R.jsxs(V2,{children:[R.jsx(j2,{children:"Registration"}),R.jsx(z2,{children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information."}),R.jsxs(U2,{children:[R.jsxs(yu,{children:[R.jsx(gu,{name:"name",type:"text",placeholder:"Name"}),R.jsx(_u,{name:"name",component:"span",required:!0})]}),R.jsxs(yu,{children:[R.jsx(gu,{name:"email",type:"email",placeholder:"Email"}),R.jsx(_u,{name:"email",component:"span",required:!0})]}),R.jsxs(yu,{children:[R.jsx(gu,{name:"password",type:e?"text":"password",placeholder:"Password"}),R.jsx(_u,{name:"password",component:"span",required:!0}),R.jsx(W2,{type:"button",onClick:()=>n(!e),children:e?R.jsx(Yf,{children:R.jsx("use",{href:`${us}#eye`})}):R.jsx(Yf,{children:R.jsx("use",{href:`${us}#eye-off`})})})]})]}),R.jsx(B2,{type:"submit",children:"Sign up"})]})})},qee=({closeModal:t})=>{const[e,n]=E.useState(!1),r=Cc(),i=D0(),s=async({email:o,password:a})=>{(await i(gd({email:o,password:a}))).error||(t(),r("/nannies"))};return R.jsx(R2,{initialValues:{email:"",password:""},validationSchema:Bee,onSubmit:s,children:R.jsxs(V2,{children:[R.jsx(j2,{children:"Log In"}),R.jsx(z2,{children:"Welcome back! Please enter your credentials to access your account and continue your babysitter search."}),R.jsxs(U2,{children:[R.jsxs(yu,{children:[R.jsx(gu,{name:"email",type:"email",placeholder:"Email"}),R.jsx(_u,{name:"email",component:"span",required:!0})]}),R.jsxs(yu,{children:[R.jsx(gu,{name:"password",type:e?"text":"password",placeholder:"Password"}),R.jsx(_u,{name:"password",component:"span",required:!0}),R.jsx(W2,{type:"button",onClick:()=>n(!e),children:e?R.jsx(Yf,{children:R.jsx("use",{href:`${us}#eye`})}):R.jsx(Yf,{children:R.jsx("use",{href:`${us}#eye-off`})})})]})]}),R.jsx(B2,{type:"submit",children:"Sign up"})]})})},Gee={overlay:{background:"rgba(11, 11, 11, 0.6)",zIndex:"11"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",maxWidth:"566px",width:"90%",maxHeight:"580px",overflow:"hidden",padding:"64px",borderRadius:"30px",marginRight:"-50%",paddingLeft:"-5px",transform:"translate(-50%, -50%)",background:"#fbfbfb"}},kte={overlay:{background:"rgba(11, 11, 11, 0.6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",maxWidth:"600px",width:"90%",maxHeight:"720px",height:"90%",overflow:"hidden",padding:"64px 32px 64px 64px",borderRadius:"30px",marginRight:"-50%",paddingLeft:"-5px",transform:"translate(-50%, -50%)",background:"#fbfbfb"}},Kee={overlay:{background:"rgba(11, 11, 11, 0.6)",zIndex:"10"},content:{top:"50%",right:"0",bottom:"auto",left:"auto",maxWidth:"400px",width:"70%",maxHeight:"720px",height:"100%",overflow:"hidden",padding:"32px",borderRadius:"0",border:"none",transform:"translateY(-50%)",background:"#103931"}},Qee=se.header`
  position: relative;
  max-width: 1376px;

  /* padding: 20px; */
  /* padding: 20px 96px; */
`,Yee=se.div`
  z-index: 2;
  top: 0;
  right: auto;
  left: auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  /* max-width: 1376px; */
  width: 100%;
  padding: 20px;
  border-bottom: 1px solid;
  border-color: ${t=>t.theme.colors.borderColor};
  background-color: ${({$transparentBg:t})=>{switch(t){case!0:return"transparent";default:return e=>e.theme.colors.green}}};

  position: ${({$transparentBg:t})=>{switch(t){case!0:return"absolute";default:return"static"}}};

  @media screen and (min-width: 1024px) {
    padding: 20px 96px;
  }

  /* @media screen and (max-width: 1024px) {
    /* padding: 20px; */
  /* } */
`,Xee=se.div`
  display: flex;
  align-items: center;
  gap: 92px;

  @media screen and (max-width: 1024px) {
    gap: 48px;
  }

  @media screen and (max-width: 768px) {
    gap: 20px;
  }
`,Jee=se.nav`
  display: flex;
  align-items: center;
  gap: 40px;

  @media screen and (max-width: 1024px) {
    gap: 20px;
  }

  @media screen and (max-width: 768px) {
    display: none;
  }
`,H2=se(QP)`
  position: relative;
  padding-bottom: 10px;
  font-weight: 400;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
`,_A=se(H2)`
  &.active::after {
    content: "";
    position: absolute;
    display: block;
    width: 8px;
    height: 8px;
    bottom: -4px;
    right: 50%;
    transform: translateX(50%);
    border-radius: 50%;
    background-color: #fff;
    margin: 0 auto;
  }
`,Zee=se(KP)`
  font-weight: 500;
  font-size: 24px;
  line-height: 1.17;
  letter-spacing: -0.02em;
  color: ${t=>t.theme.colors.white};

  @media screen and (max-width: 1024px) {
    font-size: 20px;
  }
`,vA=se.ul`
  display: flex;
  align-items: center;
  /* justify-content: center; */
  gap: ${({$isUserExist:t})=>{switch(t){case!0:return"24px";default:return"8px"}}};

  @media screen and (max-width: 768px) {
    display: none;
  }

  /* @media screen and (max-width: 600px) {
    flex-direction: column;
  } */
`,q2=se.button`
  max-width: 124px;
  width: 100%;
  height: 48px;
  padding: 14px 38px;
  /* padding: 14px; */
  background-color: transparent;
  border: 1px solid;
  border-color: ${t=>t.theme.colors.borderColor};
  border-radius: 30px;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
  transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  }

  @media screen and (max-width: 1024px) {
    font-size: 14px;
    line-height: 1;
    padding: 12px 36px;
  }

  @media screen and (max-width: 720px) {
    padding: 12px 24px;
  }
`,wA=se(q2)`
  max-width: 168px;
  width: 100%;
  background-color: ${t=>t.theme.colors.green};
  border: 1px solid;
  /* transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition}; */

  border-color: ${({$unvisibleBorder:t})=>{switch(t){case!0:return"transparent";default:return e=>e.theme.colors.borderColor}}};

  /* &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  } */
`,ete=se.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
`,tte=se.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background-color: ${t=>t.theme.colors.white};
`,nte=se.svg`
  width: 16px;
  height: 16px;
  fill: ${t=>t.theme.colors.green};
`,rte=se.p`
  font-weight: 500;
  font-size: 18px;
  line-height: 1.11;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};

  @media screen and (max-width: 1024px) {
    font-size: 16px;
  }
`,ite=se.button`
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  padding: 0;

  background-color: inherit;
  border: none;
  cursor: pointer;
  :focus {
    outline: none;
  }
  @media screen and (min-width: 769px) {
    width: 32px;
    height: 32px;
    display: none;
  }
`,ste=se.svg`
  width: 24px;
  height: 24px;
  @media screen and (min-width: 768px) {
    width: 32px;
    height: 32px;
  }

  fill: ${t=>t.theme.colors.white};
`,ote=({openModal:t})=>R.jsx(ite,{onClick:t,children:R.jsx(ste,{children:R.jsx("use",{href:`${us}#burger-menu`})})}),ate=se.nav`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  margin: 84px 0;
`,ly=se(QP)`
  position: relative;
  padding-bottom: 10px;
  font-weight: 400;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};

  &.active::after {
    content: "";
    position: absolute;
    display: block;
    width: 8px;
    height: 8px;
    bottom: -4px;
    right: 50%;
    transform: translateX(50%);
    border-radius: 50%;
    background-color: #fff;
    margin: 0 auto;
  }
`,EA=se.ul`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;

  @media screen and (max-width: 600px) {
    flex-direction: column;
  }
`,G2=se.button`
  max-width: 124px;
  width: 100%;
  height: 48px;
  padding: 14px 38px;
  background-color: transparent;
  border: 1px solid;
  border-color: ${t=>t.theme.colors.borderColor};
  border-radius: 30px;
  font-weight: 500;
  font-size: 16px;
  line-height: 1.25;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};
  transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  }

  /* @media screen and (max-width: 1024px) {
    font-size: 14px;
    line-height: 1;
    padding: 12px 36px;
  }

  @media screen and (max-width: 720px) {
    padding: 12px 24px;
  } */
`,TA=se(G2)`
  max-width: 168px;
  width: 100%;
  background-color: ${t=>t.theme.colors.green};
  border: 1px solid;
  /* transition:
    color 250ms ${t=>t.theme.transition},
    background-color 250ms ${t=>t.theme.transition};

  &:hover,
  &:focus {
    color: ${t=>t.theme.colors.green};
    background-color: ${t=>t.theme.colors.white};
  } */
`,lte=se.div`
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
`,ute=se.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 10px;
  background-color: ${t=>t.theme.colors.white};
`,cte=se.svg`
  width: 16px;
  height: 16px;
  fill: ${t=>t.theme.colors.green};
`,hte=se.p`
  font-weight: 500;
  font-size: 18px;
  line-height: 1.11;
  letter-spacing: -0.01em;
  color: ${t=>t.theme.colors.white};

  @media screen and (max-width: 1024px) {
    font-size: 16px;
  }
`,dte=({closeModal:t,register:e,login:n,logout:r})=>{const i=N0(kD),s=()=>{n()},o=()=>{e()},a=()=>{r(),t()};return R.jsxs("div",{children:[R.jsxs(ate,{children:[R.jsx(ly,{to:"/",onClick:t,children:"Home"}),R.jsx(ly,{to:"/nannies",onClick:t,children:"Nannies"}),i&&R.jsx(ly,{to:"/favorites",onClick:t,children:"Favorites"})]}),i?R.jsxs(EA,{children:[R.jsx("li",{children:R.jsxs(lte,{children:[R.jsx(ute,{children:R.jsx(cte,{children:R.jsx("use",{href:`${us}#user`})})}),R.jsx(hte,{children:i})]})}),R.jsx("li",{children:R.jsx(TA,{type:"button",onClick:a,children:"Log out"})})]}):R.jsxs(EA,{children:[R.jsx("li",{children:R.jsx(G2,{type:"button",onClick:s,children:"Log In"})}),R.jsx("li",{children:R.jsx(TA,{type:"button",onClick:o,children:"Registration"})})]})]})},fte=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(""),o=N0(kD),l=_o().pathname==="/",u=Cc(),c=D0(),h=async()=>{try{await c(yd()),u("/")}catch(p){console.log(p)}},d=()=>{e(!0),document.body.style.overflow="hidden"},f=()=>{e(!1),document.body.style.overflow=""},g=()=>{r(!0),document.body.style.overflow="hidden"},_=()=>{r(!1),document.body.style.overflow=""},v=()=>{s("register"),d()},m=()=>{document.body.style.overflow="hidden",s("login"),d()};return R.jsx(Qee,{children:R.jsxs(Yee,{$transparentBg:l,children:[R.jsx(Zee,{to:"/",children:"Nanny.Services"}),R.jsxs(Xee,{children:[R.jsxs(Jee,{children:[R.jsx(H2,{to:"/",children:"Home"}),R.jsx(_A,{to:"/nannies",children:"Nannies"}),o&&R.jsx(_A,{to:"/favorites",children:"Favorites"})]}),o?R.jsxs(vA,{$isUserExist:o!==null,children:[R.jsx("li",{children:R.jsxs(ete,{children:[R.jsx(tte,{children:R.jsx(nte,{children:R.jsx("use",{href:`${us}#user`})})}),R.jsx(rte,{children:o})]})}),R.jsx("li",{children:R.jsx(wA,{type:"button",onClick:h,$unvisibleBorder:l,children:"Log out"})})]}):R.jsxs(vA,{$isUserExist:o!==null,children:[R.jsx("li",{children:R.jsx(q2,{type:"button",onClick:m,children:"Log In"})}),R.jsx("li",{children:R.jsx(wA,{type:"button",onClick:v,$unvisibleBorder:l,children:"Registration"})})]}),R.jsx(ote,{openModal:g})]}),R.jsxs(xC,{isModalOpen:t,closeModal:f,styles:Gee,children:[i==="register"&&R.jsx(Hee,{closeModal:f}),i==="login"&&R.jsx(qee,{closeModal:f})]}),R.jsx(xC,{$mobile:n,isModalOpen:n,closeModal:_,styles:Kee,children:R.jsx(dte,{closeModal:_,register:v,login:m,logout:h})})]})})},pte=se.div`
  position: relative;
  margin: 0 auto;
  /* padding: 0 32px; */
  padding: 0 20px;
  width: 100%;
  max-width: 1440px;

  @media screen and (min-width: 768px) {
    /* padding: 0 20px; */
    padding: 0 32px;
  }

  /* 
  @media screen and (min-width: 375px) {
    max-width: 375px;
  }

  @media screen and (min-width: 768px) {
    max-width: 768px;
    padding: 0 20px;
  }

  @media screen and (min-width: 1440px) {
    max-width: 1440px;
    padding-inline: 95px;
  } */
`,mte=()=>R.jsxs(pte,{children:[R.jsx(fte,{}),R.jsx("main",{children:R.jsx(E.Suspense,{fallback:null,children:R.jsx(vF,{})})}),R.jsx(BW,{position:"top-right",reverseOrder:!1,toastOptions:{success:{iconTheme:{primary:"#103931",secondary:"#fff"}}}})]}),SA=E.lazy(()=>QE(()=>import("./Home-54887c91.js"),[])),gte=E.lazy(()=>QE(()=>import("./Nannies-171a43b6.js"),[])),yte=E.lazy(()=>QE(()=>import("./Favorites-33c1db0f.js"),[]));function _te(){return R.jsx(R.Fragment,{children:R.jsx(EF,{children:R.jsxs(Vo,{path:"/",element:R.jsx(mte,{}),children:[R.jsx(Vo,{index:!0,element:R.jsx(SA,{})}),R.jsx(Vo,{path:"nannies",element:R.jsx(gte,{})}),R.jsx(Vo,{path:"favorites",element:R.jsx(CG,{redirectTo:"/",component:R.jsx(yte,{})})}),R.jsx(Vo,{path:"*",element:R.jsx(SA,{})})]})})})}cy.createRoot(document.getElementById("root")).render(R.jsx(en.StrictMode,{children:R.jsx(eV,{store:sD,children:R.jsx(tb,{loading:null,persistor:m7,children:R.jsx(bF,{basename:"/nanny-services",children:R.jsxs(fG,{theme:yG,children:[R.jsx(_te,{}),R.jsx(EG,{})]})})})})}));export{xC as C,GZ as E,P2 as F,KP as L,uy as R,UZ as a,R2 as b,xte as c,D0 as d,kte as e,Rte as f,$P as g,Kg as h,us as i,R as j,bte as k,N0 as l,Pte as m,Gg as n,E as r,Cte as s,se as u};
